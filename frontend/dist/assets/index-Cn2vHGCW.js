function oh(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function ch(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xx={exports:{}},Jl={},mx={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=Symbol.for("react.element"),dh=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),hh=Symbol.for("react.provider"),ph=Symbol.for("react.context"),gh=Symbol.for("react.forward_ref"),fh=Symbol.for("react.suspense"),yh=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),$d=Symbol.iterator;function jh(t){return t===null||typeof t!="object"?null:(t=$d&&t[$d]||t["@@iterator"],typeof t=="function"?t:null)}var hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,gx={};function ba(t,s,r){this.props=t,this.context=s,this.refs=gx,this.updater=r||hx}ba.prototype.isReactComponent={};ba.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fx(){}fx.prototype=ba.prototype;function Zo(t,s,r){this.props=t,this.context=s,this.refs=gx,this.updater=r||hx}var ec=Zo.prototype=new fx;ec.constructor=Zo;px(ec,ba.prototype);ec.isPureReactComponent=!0;var Fd=Array.isArray,yx=Object.prototype.hasOwnProperty,tc={current:null},bx={key:!0,ref:!0,__self:!0,__source:!0};function jx(t,s,r){var a,n={},l=null,i=null;if(s!=null)for(a in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)yx.call(s,a)&&!bx.hasOwnProperty(a)&&(n[a]=s[a]);var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){for(var c=Array(d),u=0;u<d;u++)c[u]=arguments[u+2];n.children=c}if(t&&t.defaultProps)for(a in d=t.defaultProps,d)n[a]===void 0&&(n[a]=d[a]);return{$$typeof:En,type:t,key:l,ref:i,props:n,_owner:tc.current}}function vh(t,s){return{$$typeof:En,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function sc(t){return typeof t=="object"&&t!==null&&t.$$typeof===En}function Nh(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Rd=/\/+/g;function yi(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Nh(""+t.key):s.toString(36)}function il(t,s,r,a,n){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case En:case dh:i=!0}}if(i)return i=t,n=n(i),t=a===""?"."+yi(i,0):a,Fd(n)?(r="",t!=null&&(r=t.replace(Rd,"$&/")+"/"),il(n,s,r,"",function(u){return u})):n!=null&&(sc(n)&&(n=vh(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(Rd,"$&/")+"/")+t)),s.push(n)),1;if(i=0,a=a===""?".":a+":",Fd(t))for(var d=0;d<t.length;d++){l=t[d];var c=a+yi(l,d);i+=il(l,s,r,c,n)}else if(c=jh(t),typeof c=="function")for(t=c.call(t),d=0;!(l=t.next()).done;)l=l.value,c=a+yi(l,d++),i+=il(l,s,r,c,n);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function On(t,s,r){if(t==null)return t;var a=[],n=0;return il(t,a,"","",function(l){return s.call(r,l,n++)}),a}function wh(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},ol={transition:null},kh={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:tc};function vx(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:On,forEach:function(t,s,r){On(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return On(t,function(){s++}),s},toArray:function(t){return On(t,function(s){return s})||[]},only:function(t){if(!sc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=ba;Ce.Fragment=uh;Ce.Profiler=mh;Ce.PureComponent=Zo;Ce.StrictMode=xh;Ce.Suspense=fh;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kh;Ce.act=vx;Ce.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=px({},t.props),n=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=tc.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(c in s)yx.call(s,c)&&!bx.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&d!==void 0?d[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){d=Array(c);for(var u=0;u<c;u++)d[u]=arguments[u+2];a.children=d}return{$$typeof:En,type:t.type,key:n,ref:l,props:a,_owner:i}};Ce.createContext=function(t){return t={$$typeof:ph,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hh,_context:t},t.Consumer=t};Ce.createElement=jx;Ce.createFactory=function(t){var s=jx.bind(null,t);return s.type=t,s};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:gh,render:t}};Ce.isValidElement=sc;Ce.lazy=function(t){return{$$typeof:bh,_payload:{_status:-1,_result:t},_init:wh}};Ce.memo=function(t,s){return{$$typeof:yh,type:t,compare:s===void 0?null:s}};Ce.startTransition=function(t){var s=ol.transition;ol.transition={};try{t()}finally{ol.transition=s}};Ce.unstable_act=vx;Ce.useCallback=function(t,s){return Pt.current.useCallback(t,s)};Ce.useContext=function(t){return Pt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};Ce.useEffect=function(t,s){return Pt.current.useEffect(t,s)};Ce.useId=function(){return Pt.current.useId()};Ce.useImperativeHandle=function(t,s,r){return Pt.current.useImperativeHandle(t,s,r)};Ce.useInsertionEffect=function(t,s){return Pt.current.useInsertionEffect(t,s)};Ce.useLayoutEffect=function(t,s){return Pt.current.useLayoutEffect(t,s)};Ce.useMemo=function(t,s){return Pt.current.useMemo(t,s)};Ce.useReducer=function(t,s,r){return Pt.current.useReducer(t,s,r)};Ce.useRef=function(t){return Pt.current.useRef(t)};Ce.useState=function(t){return Pt.current.useState(t)};Ce.useSyncExternalStore=function(t,s,r){return Pt.current.useSyncExternalStore(t,s,r)};Ce.useTransition=function(){return Pt.current.useTransition()};Ce.version="18.3.1";mx.exports=Ce;var o=mx.exports;const Nx=ch(o),Sh=oh({__proto__:null,default:Nx},[o]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=o,Th=Symbol.for("react.element"),Eh=Symbol.for("react.fragment"),Ph=Object.prototype.hasOwnProperty,Ah=Ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dh={key:!0,ref:!0,__self:!0,__source:!0};function wx(t,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)Ph.call(s,a)&&!Dh.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Th,type:t,key:l,ref:i,props:n,_owner:Ah.current}}Jl.Fragment=Eh;Jl.jsx=wx;Jl.jsxs=wx;xx.exports=Jl;var e=xx.exports,qi={},kx={exports:{}},Kt={},Sx={exports:{}},Cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(C,$){var h=C.length;C.push($);e:for(;0<h;){var A=h-1>>>1,_=C[A];if(0<n(_,$))C[A]=$,C[h]=_,h=A;else break e}}function r(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var $=C[0],h=C.pop();if(h!==$){C[0]=h;e:for(var A=0,_=C.length,te=_>>>1;A<te;){var O=2*(A+1)-1,oe=C[O],de=O+1,Q=C[de];if(0>n(oe,h))de<_&&0>n(Q,oe)?(C[A]=Q,C[de]=h,A=de):(C[A]=oe,C[O]=h,A=O);else if(de<_&&0>n(Q,h))C[A]=Q,C[de]=h,A=de;else break e}}return $}function n(C,$){var h=C.sortIndex-$.sortIndex;return h!==0?h:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var c=[],u=[],g=1,b=null,y=3,j=!1,v=!1,w=!1,D=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var $=r(u);$!==null;){if($.callback===null)a(u);else if($.startTime<=C)a(u),$.sortIndex=$.expirationTime,s(c,$);else break;$=r(u)}}function p(C){if(w=!1,m(C),!v)if(r(c)!==null)v=!0,k(S);else{var $=r(u);$!==null&&W(p,$.startTime-C)}}function S(C,$){v=!1,w&&(w=!1,f(z),z=-1),j=!0;var h=y;try{for(m($),b=r(c);b!==null&&(!(b.expirationTime>$)||C&&!U());){var A=b.callback;if(typeof A=="function"){b.callback=null,y=b.priorityLevel;var _=A(b.expirationTime<=$);$=t.unstable_now(),typeof _=="function"?b.callback=_:b===r(c)&&a(c),m($)}else a(c);b=r(c)}if(b!==null)var te=!0;else{var O=r(u);O!==null&&W(p,O.startTime-$),te=!1}return te}finally{b=null,y=h,j=!1}}var E=!1,P=null,z=-1,G=5,V=-1;function U(){return!(t.unstable_now()-V<G)}function F(){if(P!==null){var C=t.unstable_now();V=C;var $=!0;try{$=P(!0,C)}finally{$?I():(E=!1,P=null)}}else E=!1}var I;if(typeof x=="function")I=function(){x(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,T=X.port2;X.port1.onmessage=F,I=function(){T.postMessage(null)}}else I=function(){D(F,0)};function k(C){P=C,E||(E=!0,I())}function W(C,$){z=D(function(){C(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||j||(v=!0,k(S))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(C){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var h=y;y=$;try{return C()}finally{y=h}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var h=y;y=C;try{return $()}finally{y=h}},t.unstable_scheduleCallback=function(C,$,h){var A=t.unstable_now();switch(typeof h=="object"&&h!==null?(h=h.delay,h=typeof h=="number"&&0<h?A+h:A):h=A,C){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=h+_,C={id:g++,callback:$,priorityLevel:C,startTime:h,expirationTime:_,sortIndex:-1},h>A?(C.sortIndex=h,s(u,C),r(c)===null&&C===r(u)&&(w?(f(z),z=-1):w=!0,W(p,h-A))):(C.sortIndex=_,s(c,C),v||j||(v=!0,k(S))),C},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(C){var $=y;return function(){var h=y;y=$;try{return C.apply(this,arguments)}finally{y=h}}}})(Cx);Sx.exports=Cx;var Ih=Sx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=o,Jt=Ih;function ee(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tx=new Set,an={};function Rr(t,s){ua(t,s),ua(t+"Capture",s)}function ua(t,s){for(an[t]=s,t=0;t<s.length;t++)Tx.add(s[t])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=Object.prototype.hasOwnProperty,Lh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Od={},_d={};function Mh(t){return Ki.call(_d,t)?!0:Ki.call(Od,t)?!1:Lh.test(t)?_d[t]=!0:(Od[t]=!0,!1)}function Uh(t,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $h(t,s,r,a){if(s===null||typeof s>"u"||Uh(t,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function At(t,s,r,a,n,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];ft[s]=new At(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function ac(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(rc,ac);ft[s]=new At(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(rc,ac);ft[s]=new At(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(rc,ac);ft[s]=new At(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function nc(t,s,r,a){var n=ft.hasOwnProperty(s)?ft[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&($h(s,r,n,a)&&(r=null),a||n===null?Mh(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,s,r):t.setAttribute(s,r))))}var _s=zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),Qi=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Px=Symbol.for("react.context"),ic=Symbol.for("react.forward_ref"),Zi=Symbol.for("react.suspense"),eo=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),Ax=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=Bd&&t[Bd]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,bi;function Ba(t){if(bi===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);bi=s&&s[1]||""}return`
`+bi+t}var ji=!1;function vi(t,s){if(!t||ji)return"";ji=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var a=u}Reflect.construct(t,[],s)}else{try{s.call()}catch(u){a=u}t.call(s.prototype)}else{try{throw Error()}catch(u){a=u}t()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),l=a.stack.split(`
`),i=n.length-1,d=l.length-1;1<=i&&0<=d&&n[i]!==l[d];)d--;for(;1<=i&&0<=d;i--,d--)if(n[i]!==l[d]){if(i!==1||d!==1)do if(i--,d--,0>d||n[i]!==l[d]){var c=`
`+n[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=d);break}}}finally{ji=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ba(t):""}function Fh(t){switch(t.tag){case 5:return Ba(t.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return t=vi(t.type,!1),t;case 11:return t=vi(t.type.render,!1),t;case 1:return t=vi(t.type,!0),t;default:return""}}function to(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gr:return"Fragment";case Jr:return"Portal";case Qi:return"Profiler";case lc:return"StrictMode";case Zi:return"Suspense";case eo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Px:return(t.displayName||"Context")+".Consumer";case Ex:return(t._context.displayName||"Context")+".Provider";case ic:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oc:return s=t.displayName||null,s!==null?s:to(t.type)||"Memo";case Ys:s=t._payload,t=t._init;try{return to(t(s))}catch{}}return null}function Rh(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return to(s);case 8:return s===lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dx(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Oh(t){var s=Dx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Bn(t){t._valueTracker||(t._valueTracker=Oh(t))}function Ix(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return t&&(a=Dx(t)?t.checked?"true":"false":t.value),t=a,t!==r?(s.setValue(t),!0):!1}function bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function so(t,s){var r=s.checked;return Je({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Wd(t,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=or(s.value!=null?s.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function zx(t,s){s=s.checked,s!=null&&nc(t,"checked",s,!1)}function ro(t,s){zx(t,s);var r=or(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ao(t,s.type,r):s.hasOwnProperty("defaultValue")&&ao(t,s.type,or(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Vd(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ao(t,s,r){(s!=="number"||bl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wa=Array.isArray;function na(t,s,r,a){if(t=t.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=s.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+or(r),s=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function no(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Je({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hd(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ee(92));if(Wa(r)){if(1<r.length)throw Error(ee(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:or(r)}}function Lx(t,s){var r=or(s.value),a=or(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function Yd(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Mx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Mx(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wn,Ux=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(s,r,a,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Wn=Wn||document.createElement("div"),Wn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function nn(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_h=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){_h.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Xa[s]=Xa[t]})});function $x(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+s).trim():s+"px"}function Fx(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=$x(r,s[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var Bh=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,s){if(s){if(Bh[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ee(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ee(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ee(62))}}function oo(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function cc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uo=null,la=null,ia=null;function Jd(t){if(t=Dn(t)){if(typeof uo!="function")throw Error(ee(280));var s=t.stateNode;s&&(s=Ql(s),uo(t.stateNode,t.type,s))}}function Rx(t){la?ia?ia.push(t):ia=[t]:la=t}function Ox(){if(la){var t=la,s=ia;if(ia=la=null,Jd(t),s)for(t=0;t<s.length;t++)Jd(s[t])}}function _x(t,s){return t(s)}function Bx(){}var Ni=!1;function Wx(t,s,r){if(Ni)return t(s,r);Ni=!0;try{return _x(t,s,r)}finally{Ni=!1,(la!==null||ia!==null)&&(Bx(),Ox())}}function ln(t,s){var r=t.stateNode;if(r===null)return null;var a=Ql(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,s,typeof r));return r}var xo=!1;if(Us)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{xo=!1}function Wh(t,s,r,a,n,l,i,d,c){var u=Array.prototype.slice.call(arguments,3);try{s.apply(r,u)}catch(g){this.onError(g)}}var qa=!1,jl=null,vl=!1,mo=null,Vh={onError:function(t){qa=!0,jl=t}};function Hh(t,s,r,a,n,l,i,d,c){qa=!1,jl=null,Wh.apply(Vh,arguments)}function Yh(t,s,r,a,n,l,i,d,c){if(Hh.apply(this,arguments),qa){if(qa){var u=jl;qa=!1,jl=null}else throw Error(ee(198));vl||(vl=!0,mo=u)}}function Or(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function Vx(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Gd(t){if(Or(t)!==t)throw Error(ee(188))}function Jh(t){var s=t.alternate;if(!s){if(s=Or(t),s===null)throw Error(ee(188));return s!==t?null:t}for(var r=t,a=s;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return Gd(n),t;if(l===a)return Gd(n),s;l=l.sibling}throw Error(ee(188))}if(r.return!==a.return)r=n,a=l;else{for(var i=!1,d=n.child;d;){if(d===r){i=!0,r=n,a=l;break}if(d===a){i=!0,a=n,r=l;break}d=d.sibling}if(!i){for(d=l.child;d;){if(d===r){i=!0,r=l,a=n;break}if(d===a){i=!0,a=l,r=n;break}d=d.sibling}if(!i)throw Error(ee(189))}}if(r.alternate!==a)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:s}function Hx(t){return t=Jh(t),t!==null?Yx(t):null}function Yx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Yx(t);if(s!==null)return s;t=t.sibling}return null}var Jx=Jt.unstable_scheduleCallback,Xd=Jt.unstable_cancelCallback,Gh=Jt.unstable_shouldYield,Xh=Jt.unstable_requestPaint,Ke=Jt.unstable_now,qh=Jt.unstable_getCurrentPriorityLevel,dc=Jt.unstable_ImmediatePriority,Gx=Jt.unstable_UserBlockingPriority,Nl=Jt.unstable_NormalPriority,Kh=Jt.unstable_LowPriority,Xx=Jt.unstable_IdlePriority,Gl=null,Cs=null;function Qh(t){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Gl,t,void 0,(t.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:tp,Zh=Math.log,ep=Math.LN2;function tp(t){return t>>>=0,t===0?32:31-(Zh(t)/ep|0)|0}var Vn=64,Hn=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wl(t,s){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var d=i&~n;d!==0?a=Va(d):(l&=i,l!==0&&(a=Va(l)))}else i=r&~n,i!==0?a=Va(i):l!==0&&(a=Va(l));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,l=s&-s,n>=l||n===16&&(l&4194240)!==0))return s;if(a&4&&(a|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)r=31-ys(s),n=1<<r,a|=t[r],s&=~n;return a}function sp(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rp(t,s){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ys(l),d=1<<i,c=n[i];c===-1?(!(d&r)||d&a)&&(n[i]=sp(d,s)):c<=s&&(t.expiredLanes|=d),l&=~d}}function ho(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qx(){var t=Vn;return Vn<<=1,!(Vn&4194240)&&(Vn=64),t}function wi(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Pn(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-ys(s),t[s]=r}function ap(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-ys(r),l=1<<n;s[n]=0,a[n]=-1,t[n]=-1,r&=~l}}function uc(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var a=31-ys(r),n=1<<a;n&s|t[a]&s&&(t[a]|=s),r&=~n}}var $e=0;function Kx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qx,xc,Zx,em,tm,po=!1,Yn=[],Zs=null,er=null,tr=null,on=new Map,cn=new Map,Gs=[],np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(t,s){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":on.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(s.pointerId)}}function Pa(t,s,r,a,n,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},s!==null&&(s=Dn(s),s!==null&&xc(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function lp(t,s,r,a,n){switch(s){case"focusin":return Zs=Pa(Zs,t,s,r,a,n),!0;case"dragenter":return er=Pa(er,t,s,r,a,n),!0;case"mouseover":return tr=Pa(tr,t,s,r,a,n),!0;case"pointerover":var l=n.pointerId;return on.set(l,Pa(on.get(l)||null,t,s,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,cn.set(l,Pa(cn.get(l)||null,t,s,r,a,n)),!0}return!1}function sm(t){var s=Sr(t.target);if(s!==null){var r=Or(s);if(r!==null){if(s=r.tag,s===13){if(s=Vx(r),s!==null){t.blockedOn=s,tm(t.priority,function(){Zx(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=go(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);co=a,r.target.dispatchEvent(a),co=null}else return s=Dn(r),s!==null&&xc(s),t.blockedOn=r,!1;s.shift()}return!0}function Kd(t,s,r){cl(t)&&r.delete(s)}function ip(){po=!1,Zs!==null&&cl(Zs)&&(Zs=null),er!==null&&cl(er)&&(er=null),tr!==null&&cl(tr)&&(tr=null),on.forEach(Kd),cn.forEach(Kd)}function Aa(t,s){t.blockedOn===s&&(t.blockedOn=null,po||(po=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,ip)))}function dn(t){function s(n){return Aa(n,t)}if(0<Yn.length){Aa(Yn[0],t);for(var r=1;r<Yn.length;r++){var a=Yn[r];a.blockedOn===t&&(a.blockedOn=null)}}for(Zs!==null&&Aa(Zs,t),er!==null&&Aa(er,t),tr!==null&&Aa(tr,t),on.forEach(s),cn.forEach(s),r=0;r<Gs.length;r++)a=Gs[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)sm(r),r.blockedOn===null&&Gs.shift()}var oa=_s.ReactCurrentBatchConfig,kl=!0;function op(t,s,r,a){var n=$e,l=oa.transition;oa.transition=null;try{$e=1,mc(t,s,r,a)}finally{$e=n,oa.transition=l}}function cp(t,s,r,a){var n=$e,l=oa.transition;oa.transition=null;try{$e=4,mc(t,s,r,a)}finally{$e=n,oa.transition=l}}function mc(t,s,r,a){if(kl){var n=go(t,s,r,a);if(n===null)zi(t,s,a,Sl,r),qd(t,a);else if(lp(n,t,s,r,a))a.stopPropagation();else if(qd(t,a),s&4&&-1<np.indexOf(t)){for(;n!==null;){var l=Dn(n);if(l!==null&&Qx(l),l=go(t,s,r,a),l===null&&zi(t,s,a,Sl,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else zi(t,s,a,null,r)}}var Sl=null;function go(t,s,r,a){if(Sl=null,t=cc(a),t=Sr(t),t!==null)if(s=Or(t),s===null)t=null;else if(r=s.tag,r===13){if(t=Vx(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Sl=t,null}function rm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case dc:return 1;case Gx:return 4;case Nl:case Kh:return 16;case Xx:return 536870912;default:return 16}default:return 16}}var qs=null,hc=null,dl=null;function am(){if(dl)return dl;var t,s=hc,r=s.length,a,n="value"in qs?qs.value:qs.textContent,l=n.length;for(t=0;t<r&&s[t]===n[t];t++);var i=r-t;for(a=1;a<=i&&s[r-a]===n[l-a];a++);return dl=n.slice(t,1<a?1-a:void 0)}function ul(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function Qd(){return!1}function Qt(t){function s(r,a,n,l,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(r=t[d],this[d]=r?r(l):l[d]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Jn:Qd,this.isPropagationStopped=Qd,this}return Je(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),s}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Qt(ja),An=Je({},ja,{view:0,detail:0}),dp=Qt(An),ki,Si,Da,Xl=Je({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(ki=t.screenX-Da.screenX,Si=t.screenY-Da.screenY):Si=ki=0,Da=t),ki)},movementY:function(t){return"movementY"in t?t.movementY:Si}}),Zd=Qt(Xl),up=Je({},Xl,{dataTransfer:0}),xp=Qt(up),mp=Je({},An,{relatedTarget:0}),Ci=Qt(mp),hp=Je({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),pp=Qt(hp),gp=Je({},ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fp=Qt(gp),yp=Je({},ja,{data:0}),eu=Qt(yp),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Np(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=vp[t])?!!s[t]:!1}function gc(){return Np}var wp=Je({},An,{key:function(t){if(t.key){var s=bp[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kp=Qt(wp),Sp=Je({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=Qt(Sp),Cp=Je({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),Tp=Qt(Cp),Ep=Je({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=Qt(Ep),Ap=Je({},Xl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=Qt(Ap),Ip=[9,13,27,32],fc=Us&&"CompositionEvent"in window,Ka=null;Us&&"documentMode"in document&&(Ka=document.documentMode);var zp=Us&&"TextEvent"in window&&!Ka,nm=Us&&(!fc||Ka&&8<Ka&&11>=Ka),su=" ",ru=!1;function lm(t,s){switch(t){case"keyup":return Ip.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function Lp(t,s){switch(t){case"compositionend":return im(s);case"keypress":return s.which!==32?null:(ru=!0,su);case"textInput":return t=s.data,t===su&&ru?null:t;default:return null}}function Mp(t,s){if(Xr)return t==="compositionend"||!fc&&lm(t,s)?(t=am(),dl=hc=qs=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nm&&s.locale!=="ko"?null:s.data;default:return null}}var Up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Up[t.type]:s==="textarea"}function om(t,s,r,a){Rx(a),s=Cl(s,"onChange"),0<s.length&&(r=new pc("onChange","change",null,r,a),t.push({event:r,listeners:s}))}var Qa=null,un=null;function $p(t){bm(t,0)}function ql(t){var s=Qr(t);if(Ix(s))return t}function Fp(t,s){if(t==="change")return s}var cm=!1;if(Us){var Ti;if(Us){var Ei="oninput"in document;if(!Ei){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),Ei=typeof nu.oninput=="function"}Ti=Ei}else Ti=!1;cm=Ti&&(!document.documentMode||9<document.documentMode)}function lu(){Qa&&(Qa.detachEvent("onpropertychange",dm),un=Qa=null)}function dm(t){if(t.propertyName==="value"&&ql(un)){var s=[];om(s,un,t,cc(t)),Wx($p,s)}}function Rp(t,s,r){t==="focusin"?(lu(),Qa=s,un=r,Qa.attachEvent("onpropertychange",dm)):t==="focusout"&&lu()}function Op(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(un)}function _p(t,s){if(t==="click")return ql(s)}function Bp(t,s){if(t==="input"||t==="change")return ql(s)}function Wp(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var js=typeof Object.is=="function"?Object.is:Wp;function xn(t,s){if(js(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Ki.call(s,n)||!js(t[n],s[n]))return!1}return!0}function iu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ou(t,s){var r=iu(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=s&&a>=s)return{node:r,offset:s-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iu(r)}}function um(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?um(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function xm(){for(var t=window,s=bl();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=bl(t.document)}return s}function yc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Vp(t){var s=xm(),r=t.focusedElem,a=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&um(r.ownerDocument.documentElement,r)){if(a!==null&&yc(r)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!t.extend&&l>a&&(n=a,a=l,l=n),n=ou(r,l);var i=ou(r,a);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),l>a?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hp=Us&&"documentMode"in document&&11>=document.documentMode,qr=null,fo=null,Za=null,yo=!1;function cu(t,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yo||qr==null||qr!==bl(a)||(a=qr,"selectionStart"in a&&yc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Za&&xn(Za,a)||(Za=a,a=Cl(fo,"onSelect"),0<a.length&&(s=new pc("onSelect","select",null,s,r),t.push({event:s,listeners:a}),s.target=qr)))}function Gn(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Kr={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionend:Gn("Transition","TransitionEnd")},Pi={},mm={};Us&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Kl(t){if(Pi[t])return Pi[t];if(!Kr[t])return t;var s=Kr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in mm)return Pi[t]=s[r];return t}var hm=Kl("animationend"),pm=Kl("animationiteration"),gm=Kl("animationstart"),fm=Kl("transitionend"),ym=new Map,du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,s){ym.set(t,s),Rr(s,[t])}for(var Ai=0;Ai<du.length;Ai++){var Di=du[Ai],Yp=Di.toLowerCase(),Jp=Di[0].toUpperCase()+Di.slice(1);xr(Yp,"on"+Jp)}xr(hm,"onAnimationEnd");xr(pm,"onAnimationIteration");xr(gm,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(fm,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function uu(t,s,r){var a=t.type||"unknown-event";t.currentTarget=r,Yh(a,s,void 0,t),t.currentTarget=null}function bm(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var l=void 0;if(s)for(var i=a.length-1;0<=i;i--){var d=a[i],c=d.instance,u=d.currentTarget;if(d=d.listener,c!==l&&n.isPropagationStopped())break e;uu(n,d,u),l=c}else for(i=0;i<a.length;i++){if(d=a[i],c=d.instance,u=d.currentTarget,d=d.listener,c!==l&&n.isPropagationStopped())break e;uu(n,d,u),l=c}}}if(vl)throw t=mo,vl=!1,mo=null,t}function Re(t,s){var r=s[wo];r===void 0&&(r=s[wo]=new Set);var a=t+"__bubble";r.has(a)||(jm(s,t,2,!1),r.add(a))}function Ii(t,s,r){var a=0;s&&(a|=4),jm(r,t,a,s)}var Xn="_reactListening"+Math.random().toString(36).slice(2);function mn(t){if(!t[Xn]){t[Xn]=!0,Tx.forEach(function(r){r!=="selectionchange"&&(Gp.has(r)||Ii(r,!1,t),Ii(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Xn]||(s[Xn]=!0,Ii("selectionchange",!1,s))}}function jm(t,s,r,a){switch(rm(s)){case 1:var n=op;break;case 4:n=cp;break;default:n=mc}r=n.bind(null,s,r,t),n=void 0,!xo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(s,r,{capture:!0,passive:n}):t.addEventListener(s,r,!0):n!==void 0?t.addEventListener(s,r,{passive:n}):t.addEventListener(s,r,!1)}function zi(t,s,r,a,n){var l=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var d=a.stateNode.containerInfo;if(d===n||d.nodeType===8&&d.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;d!==null;){if(i=Sr(d),i===null)return;if(c=i.tag,c===5||c===6){a=l=i;continue e}d=d.parentNode}}a=a.return}Wx(function(){var u=l,g=cc(r),b=[];e:{var y=ym.get(t);if(y!==void 0){var j=pc,v=t;switch(t){case"keypress":if(ul(r)===0)break e;case"keydown":case"keyup":j=kp;break;case"focusin":v="focus",j=Ci;break;case"focusout":v="blur",j=Ci;break;case"beforeblur":case"afterblur":j=Ci;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Tp;break;case hm:case pm:case gm:j=pp;break;case fm:j=Pp;break;case"scroll":j=dp;break;case"wheel":j=Dp;break;case"copy":case"cut":case"paste":j=fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=tu}var w=(s&4)!==0,D=!w&&t==="scroll",f=w?y!==null?y+"Capture":null:y;w=[];for(var x=u,m;x!==null;){m=x;var p=m.stateNode;if(m.tag===5&&p!==null&&(m=p,f!==null&&(p=ln(x,f),p!=null&&w.push(hn(x,p,m)))),D)break;x=x.return}0<w.length&&(y=new j(y,v,null,r,g),b.push({event:y,listeners:w}))}}if(!(s&7)){e:{if(y=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",y&&r!==co&&(v=r.relatedTarget||r.fromElement)&&(Sr(v)||v[$s]))break e;if((j||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,j?(v=r.relatedTarget||r.toElement,j=u,v=v?Sr(v):null,v!==null&&(D=Or(v),v!==D||v.tag!==5&&v.tag!==6)&&(v=null)):(j=null,v=u),j!==v)){if(w=Zd,p="onMouseLeave",f="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=tu,p="onPointerLeave",f="onPointerEnter",x="pointer"),D=j==null?y:Qr(j),m=v==null?y:Qr(v),y=new w(p,x+"leave",j,r,g),y.target=D,y.relatedTarget=m,p=null,Sr(g)===u&&(w=new w(f,x+"enter",v,r,g),w.target=m,w.relatedTarget=D,p=w),D=p,j&&v)t:{for(w=j,f=v,x=0,m=w;m;m=Vr(m))x++;for(m=0,p=f;p;p=Vr(p))m++;for(;0<x-m;)w=Vr(w),x--;for(;0<m-x;)f=Vr(f),m--;for(;x--;){if(w===f||f!==null&&w===f.alternate)break t;w=Vr(w),f=Vr(f)}w=null}else w=null;j!==null&&xu(b,y,j,w,!1),v!==null&&D!==null&&xu(b,D,v,w,!0)}}e:{if(y=u?Qr(u):window,j=y.nodeName&&y.nodeName.toLowerCase(),j==="select"||j==="input"&&y.type==="file")var S=Fp;else if(au(y))if(cm)S=Bp;else{S=Op;var E=Rp}else(j=y.nodeName)&&j.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(S=_p);if(S&&(S=S(t,u))){om(b,S,r,g);break e}E&&E(t,y,u),t==="focusout"&&(E=y._wrapperState)&&E.controlled&&y.type==="number"&&ao(y,"number",y.value)}switch(E=u?Qr(u):window,t){case"focusin":(au(E)||E.contentEditable==="true")&&(qr=E,fo=u,Za=null);break;case"focusout":Za=fo=qr=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,cu(b,r,g);break;case"selectionchange":if(Hp)break;case"keydown":case"keyup":cu(b,r,g)}var P;if(fc)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Xr?lm(t,r)&&(z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(nm&&r.locale!=="ko"&&(Xr||z!=="onCompositionStart"?z==="onCompositionEnd"&&Xr&&(P=am()):(qs=g,hc="value"in qs?qs.value:qs.textContent,Xr=!0)),E=Cl(u,z),0<E.length&&(z=new eu(z,t,null,r,g),b.push({event:z,listeners:E}),P?z.data=P:(P=im(r),P!==null&&(z.data=P)))),(P=zp?Lp(t,r):Mp(t,r))&&(u=Cl(u,"onBeforeInput"),0<u.length&&(g=new eu("onBeforeInput","beforeinput",null,r,g),b.push({event:g,listeners:u}),g.data=P))}bm(b,s)})}function hn(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Cl(t,s){for(var r=s+"Capture",a=[];t!==null;){var n=t,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=ln(t,r),l!=null&&a.unshift(hn(t,l,n)),l=ln(t,s),l!=null&&a.push(hn(t,l,n))),t=t.return}return a}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xu(t,s,r,a,n){for(var l=s._reactName,i=[];r!==null&&r!==a;){var d=r,c=d.alternate,u=d.stateNode;if(c!==null&&c===a)break;d.tag===5&&u!==null&&(d=u,n?(c=ln(r,l),c!=null&&i.unshift(hn(r,c,d))):n||(c=ln(r,l),c!=null&&i.push(hn(r,c,d)))),r=r.return}i.length!==0&&t.push({event:s,listeners:i})}var Xp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function mu(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(qp,"")}function qn(t,s,r){if(s=mu(s),mu(t)!==s&&r)throw Error(ee(425))}function Tl(){}var bo=null,jo=null;function vo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var No=typeof setTimeout=="function"?setTimeout:void 0,Kp=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(t){return hu.resolve(null).then(t).catch(Zp)}:No;function Zp(t){setTimeout(function(){throw t})}function Li(t,s){var r=s,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),dn(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);dn(s)}function sr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function pu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),Ss="__reactFiber$"+va,pn="__reactProps$"+va,$s="__reactContainer$"+va,wo="__reactEvents$"+va,eg="__reactListeners$"+va,tg="__reactHandles$"+va;function Sr(t){var s=t[Ss];if(s)return s;for(var r=t.parentNode;r;){if(s=r[$s]||r[Ss]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=pu(t);t!==null;){if(r=t[Ss])return r;t=pu(t)}return s}t=r,r=t.parentNode}return null}function Dn(t){return t=t[Ss]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Ql(t){return t[pn]||null}var ko=[],Zr=-1;function mr(t){return{current:t}}function Oe(t){0>Zr||(t.current=ko[Zr],ko[Zr]=null,Zr--)}function Fe(t,s){Zr++,ko[Zr]=t.current,t.current=s}var cr={},wt=mr(cr),Ut=mr(!1),Ir=cr;function xa(t,s){var r=t.type.contextTypes;if(!r)return cr;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=s[l];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function $t(t){return t=t.childContextTypes,t!=null}function El(){Oe(Ut),Oe(wt)}function gu(t,s,r){if(wt.current!==cr)throw Error(ee(168));Fe(wt,s),Fe(Ut,r)}function vm(t,s,r){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(ee(108,Rh(t)||"Unknown",n));return Je({},r,a)}function Pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,Ir=wt.current,Fe(wt,t),Fe(Ut,Ut.current),!0}function fu(t,s,r){var a=t.stateNode;if(!a)throw Error(ee(169));r?(t=vm(t,s,Ir),a.__reactInternalMemoizedMergedChildContext=t,Oe(Ut),Oe(wt),Fe(wt,t)):Oe(Ut),Fe(Ut,r)}var Is=null,Zl=!1,Mi=!1;function Nm(t){Is===null?Is=[t]:Is.push(t)}function sg(t){Zl=!0,Nm(t)}function hr(){if(!Mi&&Is!==null){Mi=!0;var t=0,s=$e;try{var r=Is;for($e=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}Is=null,Zl=!1}catch(n){throw Is!==null&&(Is=Is.slice(t+1)),Jx(dc,hr),n}finally{$e=s,Mi=!1}}return null}var ea=[],ta=0,Al=null,Dl=0,ts=[],ss=0,zr=null,zs=1,Ls="";function wr(t,s){ea[ta++]=Dl,ea[ta++]=Al,Al=t,Dl=s}function wm(t,s,r){ts[ss++]=zs,ts[ss++]=Ls,ts[ss++]=zr,zr=t;var a=zs;t=Ls;var n=32-ys(a)-1;a&=~(1<<n),r+=1;var l=32-ys(s)+n;if(30<l){var i=n-n%5;l=(a&(1<<i)-1).toString(32),a>>=i,n-=i,zs=1<<32-ys(s)+n|r<<n|a,Ls=l+t}else zs=1<<l|r<<n|a,Ls=t}function bc(t){t.return!==null&&(wr(t,1),wm(t,1,0))}function jc(t){for(;t===Al;)Al=ea[--ta],ea[ta]=null,Dl=ea[--ta],ea[ta]=null;for(;t===zr;)zr=ts[--ss],ts[ss]=null,Ls=ts[--ss],ts[ss]=null,zs=ts[--ss],ts[ss]=null}var Ht=null,Vt=null,_e=!1,fs=null;function km(t,s){var r=rs(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function yu(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ht=t,Vt=sr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ht=t,Vt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=zr!==null?{id:zs,overflow:Ls}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=rs(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Ht=t,Vt=null,!0):!1;default:return!1}}function So(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Co(t){if(_e){var s=Vt;if(s){var r=s;if(!yu(t,s)){if(So(t))throw Error(ee(418));s=sr(r.nextSibling);var a=Ht;s&&yu(t,s)?km(a,r):(t.flags=t.flags&-4097|2,_e=!1,Ht=t)}}else{if(So(t))throw Error(ee(418));t.flags=t.flags&-4097|2,_e=!1,Ht=t}}}function bu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function Kn(t){if(t!==Ht)return!1;if(!_e)return bu(t),_e=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!vo(t.type,t.memoizedProps)),s&&(s=Vt)){if(So(t))throw Sm(),Error(ee(418));for(;s;)km(t,s),s=sr(s.nextSibling)}if(bu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){Vt=sr(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}Vt=null}}else Vt=Ht?sr(t.stateNode.nextSibling):null;return!0}function Sm(){for(var t=Vt;t;)t=sr(t.nextSibling)}function ma(){Vt=Ht=null,_e=!1}function vc(t){fs===null?fs=[t]:fs.push(t)}var rg=_s.ReactCurrentBatchConfig;function Ia(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var a=r.stateNode}if(!a)throw Error(ee(147,t));var n=a,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var d=n.refs;i===null?delete d[l]:d[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function Qn(t,s){throw t=Object.prototype.toString.call(s),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function ju(t){var s=t._init;return s(t._payload)}function Cm(t){function s(f,x){if(t){var m=f.deletions;m===null?(f.deletions=[x],f.flags|=16):m.push(x)}}function r(f,x){if(!t)return null;for(;x!==null;)s(f,x),x=x.sibling;return null}function a(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function n(f,x){return f=lr(f,x),f.index=0,f.sibling=null,f}function l(f,x,m){return f.index=m,t?(m=f.alternate,m!==null?(m=m.index,m<x?(f.flags|=2,x):m):(f.flags|=2,x)):(f.flags|=1048576,x)}function i(f){return t&&f.alternate===null&&(f.flags|=2),f}function d(f,x,m,p){return x===null||x.tag!==6?(x=Bi(m,f.mode,p),x.return=f,x):(x=n(x,m),x.return=f,x)}function c(f,x,m,p){var S=m.type;return S===Gr?g(f,x,m.props.children,p,m.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ys&&ju(S)===x.type)?(p=n(x,m.props),p.ref=Ia(f,x,m),p.return=f,p):(p=yl(m.type,m.key,m.props,null,f.mode,p),p.ref=Ia(f,x,m),p.return=f,p)}function u(f,x,m,p){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=Wi(m,f.mode,p),x.return=f,x):(x=n(x,m.children||[]),x.return=f,x)}function g(f,x,m,p,S){return x===null||x.tag!==7?(x=Dr(m,f.mode,p,S),x.return=f,x):(x=n(x,m),x.return=f,x)}function b(f,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bi(""+x,f.mode,m),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _n:return m=yl(x.type,x.key,x.props,null,f.mode,m),m.ref=Ia(f,null,x),m.return=f,m;case Jr:return x=Wi(x,f.mode,m),x.return=f,x;case Ys:var p=x._init;return b(f,p(x._payload),m)}if(Wa(x)||Ta(x))return x=Dr(x,f.mode,m,null),x.return=f,x;Qn(f,x)}return null}function y(f,x,m,p){var S=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:d(f,x,""+m,p);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _n:return m.key===S?c(f,x,m,p):null;case Jr:return m.key===S?u(f,x,m,p):null;case Ys:return S=m._init,y(f,x,S(m._payload),p)}if(Wa(m)||Ta(m))return S!==null?null:g(f,x,m,p,null);Qn(f,m)}return null}function j(f,x,m,p,S){if(typeof p=="string"&&p!==""||typeof p=="number")return f=f.get(m)||null,d(x,f,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _n:return f=f.get(p.key===null?m:p.key)||null,c(x,f,p,S);case Jr:return f=f.get(p.key===null?m:p.key)||null,u(x,f,p,S);case Ys:var E=p._init;return j(f,x,m,E(p._payload),S)}if(Wa(p)||Ta(p))return f=f.get(m)||null,g(x,f,p,S,null);Qn(x,p)}return null}function v(f,x,m,p){for(var S=null,E=null,P=x,z=x=0,G=null;P!==null&&z<m.length;z++){P.index>z?(G=P,P=null):G=P.sibling;var V=y(f,P,m[z],p);if(V===null){P===null&&(P=G);break}t&&P&&V.alternate===null&&s(f,P),x=l(V,x,z),E===null?S=V:E.sibling=V,E=V,P=G}if(z===m.length)return r(f,P),_e&&wr(f,z),S;if(P===null){for(;z<m.length;z++)P=b(f,m[z],p),P!==null&&(x=l(P,x,z),E===null?S=P:E.sibling=P,E=P);return _e&&wr(f,z),S}for(P=a(f,P);z<m.length;z++)G=j(P,f,z,m[z],p),G!==null&&(t&&G.alternate!==null&&P.delete(G.key===null?z:G.key),x=l(G,x,z),E===null?S=G:E.sibling=G,E=G);return t&&P.forEach(function(U){return s(f,U)}),_e&&wr(f,z),S}function w(f,x,m,p){var S=Ta(m);if(typeof S!="function")throw Error(ee(150));if(m=S.call(m),m==null)throw Error(ee(151));for(var E=S=null,P=x,z=x=0,G=null,V=m.next();P!==null&&!V.done;z++,V=m.next()){P.index>z?(G=P,P=null):G=P.sibling;var U=y(f,P,V.value,p);if(U===null){P===null&&(P=G);break}t&&P&&U.alternate===null&&s(f,P),x=l(U,x,z),E===null?S=U:E.sibling=U,E=U,P=G}if(V.done)return r(f,P),_e&&wr(f,z),S;if(P===null){for(;!V.done;z++,V=m.next())V=b(f,V.value,p),V!==null&&(x=l(V,x,z),E===null?S=V:E.sibling=V,E=V);return _e&&wr(f,z),S}for(P=a(f,P);!V.done;z++,V=m.next())V=j(P,f,z,V.value,p),V!==null&&(t&&V.alternate!==null&&P.delete(V.key===null?z:V.key),x=l(V,x,z),E===null?S=V:E.sibling=V,E=V);return t&&P.forEach(function(F){return s(f,F)}),_e&&wr(f,z),S}function D(f,x,m,p){if(typeof m=="object"&&m!==null&&m.type===Gr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case _n:e:{for(var S=m.key,E=x;E!==null;){if(E.key===S){if(S=m.type,S===Gr){if(E.tag===7){r(f,E.sibling),x=n(E,m.props.children),x.return=f,f=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ys&&ju(S)===E.type){r(f,E.sibling),x=n(E,m.props),x.ref=Ia(f,E,m),x.return=f,f=x;break e}r(f,E);break}else s(f,E);E=E.sibling}m.type===Gr?(x=Dr(m.props.children,f.mode,p,m.key),x.return=f,f=x):(p=yl(m.type,m.key,m.props,null,f.mode,p),p.ref=Ia(f,x,m),p.return=f,f=p)}return i(f);case Jr:e:{for(E=m.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(f,x.sibling),x=n(x,m.children||[]),x.return=f,f=x;break e}else{r(f,x);break}else s(f,x);x=x.sibling}x=Wi(m,f.mode,p),x.return=f,f=x}return i(f);case Ys:return E=m._init,D(f,x,E(m._payload),p)}if(Wa(m))return v(f,x,m,p);if(Ta(m))return w(f,x,m,p);Qn(f,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(f,x.sibling),x=n(x,m),x.return=f,f=x):(r(f,x),x=Bi(m,f.mode,p),x.return=f,f=x),i(f)):r(f,x)}return D}var ha=Cm(!0),Tm=Cm(!1),Il=mr(null),zl=null,sa=null,Nc=null;function wc(){Nc=sa=zl=null}function kc(t){var s=Il.current;Oe(Il),t._currentValue=s}function To(t,s,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===r)break;t=t.return}}function ca(t,s){zl=t,Nc=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Mt=!0),t.firstContext=null)}function ls(t){var s=t._currentValue;if(Nc!==t)if(t={context:t,memoizedValue:s,next:null},sa===null){if(zl===null)throw Error(ee(308));sa=t,zl.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return s}var Cr=null;function Sc(t){Cr===null?Cr=[t]:Cr.push(t)}function Em(t,s,r,a){var n=s.interleaved;return n===null?(r.next=r,Sc(s)):(r.next=n.next,n.next=r),s.interleaved=r,Fs(t,a)}function Fs(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Js=!1;function Cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ms(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function rr(t,s,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,ze&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Fs(t,r)}return n=a.interleaved,n===null?(s.next=s,Sc(a)):(s.next=n.next,n.next=s),a.interleaved=s,Fs(t,r)}function xl(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,uc(t,r)}}function vu(t,s){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?n=l=s:l=l.next=s}else n=l=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function Ll(t,s,r,a){var n=t.updateQueue;Js=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,d=n.shared.pending;if(d!==null){n.shared.pending=null;var c=d,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var g=t.alternate;g!==null&&(g=g.updateQueue,d=g.lastBaseUpdate,d!==i&&(d===null?g.firstBaseUpdate=u:d.next=u,g.lastBaseUpdate=c))}if(l!==null){var b=n.baseState;i=0,g=u=c=null,d=l;do{var y=d.lane,j=d.eventTime;if((a&y)===y){g!==null&&(g=g.next={eventTime:j,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var v=t,w=d;switch(y=s,j=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){b=v.call(j,b,y);break e}b=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,y=typeof v=="function"?v.call(j,b,y):v,y==null)break e;b=Je({},b,y);break e;case 2:Js=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,y=n.effects,y===null?n.effects=[d]:y.push(d))}else j={eventTime:j,lane:y,tag:d.tag,payload:d.payload,callback:d.callback,next:null},g===null?(u=g=j,c=b):g=g.next=j,i|=y;if(d=d.next,d===null){if(d=n.shared.pending,d===null)break;y=d,d=y.next,y.next=null,n.lastBaseUpdate=y,n.shared.pending=null}}while(!0);if(g===null&&(c=b),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=g,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else l===null&&(n.shared.lanes=0);Mr|=i,t.lanes=i,t.memoizedState=b}}function Nu(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(ee(191,n));n.call(a)}}}var In={},Ts=mr(In),gn=mr(In),fn=mr(In);function Tr(t){if(t===In)throw Error(ee(174));return t}function Tc(t,s){switch(Fe(fn,s),Fe(gn,t),Fe(Ts,In),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lo(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=lo(s,t)}Oe(Ts),Fe(Ts,s)}function pa(){Oe(Ts),Oe(gn),Oe(fn)}function Am(t){Tr(fn.current);var s=Tr(Ts.current),r=lo(s,t.type);s!==r&&(Fe(gn,t),Fe(Ts,r))}function Ec(t){gn.current===t&&(Oe(Ts),Oe(gn))}var Ve=mr(0);function Ml(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ui=[];function Pc(){for(var t=0;t<Ui.length;t++)Ui[t]._workInProgressVersionPrimary=null;Ui.length=0}var ml=_s.ReactCurrentDispatcher,$i=_s.ReactCurrentBatchConfig,Lr=0,Ye=null,nt=null,ct=null,Ul=!1,en=!1,yn=0,ag=0;function jt(){throw Error(ee(321))}function Ac(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!js(t[r],s[r]))return!1;return!0}function Dc(t,s,r,a,n,l){if(Lr=l,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ml.current=t===null||t.memoizedState===null?og:cg,t=r(a,n),en){l=0;do{if(en=!1,yn=0,25<=l)throw Error(ee(301));l+=1,ct=nt=null,s.updateQueue=null,ml.current=dg,t=r(a,n)}while(en)}if(ml.current=$l,s=nt!==null&&nt.next!==null,Lr=0,ct=nt=Ye=null,Ul=!1,s)throw Error(ee(300));return t}function Ic(){var t=yn!==0;return yn=0,t}function ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ye.memoizedState=ct=t:ct=ct.next=t,ct}function is(){if(nt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var s=ct===null?Ye.memoizedState:ct.next;if(s!==null)ct=s,nt=t;else{if(t===null)throw Error(ee(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Ye.memoizedState=ct=t:ct=ct.next=t}return ct}function bn(t,s){return typeof s=="function"?s(t):s}function Fi(t){var s=is(),r=s.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var a=nt,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var d=i=null,c=null,u=l;do{var g=u.lane;if((Lr&g)===g)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:t(a,u.action);else{var b={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(d=c=b,i=a):c=c.next=b,Ye.lanes|=g,Mr|=g}u=u.next}while(u!==null&&u!==l);c===null?i=a:c.next=d,js(a,s.memoizedState)||(Mt=!0),s.memoizedState=a,s.baseState=i,s.baseQueue=c,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do l=n.lane,Ye.lanes|=l,Mr|=l,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Ri(t){var s=is(),r=s.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,l=s.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do l=t(l,i.action),i=i.next;while(i!==n);js(l,s.memoizedState)||(Mt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,a]}function Dm(){}function Im(t,s){var r=Ye,a=is(),n=s(),l=!js(a.memoizedState,n);if(l&&(a.memoizedState=n,Mt=!0),a=a.queue,zc(Mm.bind(null,r,a,t),[t]),a.getSnapshot!==s||l||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,jn(9,Lm.bind(null,r,a,n,s),void 0,null),ut===null)throw Error(ee(349));Lr&30||zm(r,s,n)}return n}function zm(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Lm(t,s,r,a){s.value=r,s.getSnapshot=a,Um(s)&&$m(t)}function Mm(t,s,r){return r(function(){Um(s)&&$m(t)})}function Um(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!js(t,r)}catch{return!0}}function $m(t){var s=Fs(t,1);s!==null&&bs(s,t,1,-1)}function wu(t){var s=ks();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:t},s.queue=t,t=t.dispatch=ig.bind(null,Ye,t),[s.memoizedState,t]}function jn(t,s,r,a){return t={tag:t,create:s,destroy:r,deps:a,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,s.lastEffect=t)),t}function Fm(){return is().memoizedState}function hl(t,s,r,a){var n=ks();Ye.flags|=t,n.memoizedState=jn(1|s,r,void 0,a===void 0?null:a)}function ei(t,s,r,a){var n=is();a=a===void 0?null:a;var l=void 0;if(nt!==null){var i=nt.memoizedState;if(l=i.destroy,a!==null&&Ac(a,i.deps)){n.memoizedState=jn(s,r,l,a);return}}Ye.flags|=t,n.memoizedState=jn(1|s,r,l,a)}function ku(t,s){return hl(8390656,8,t,s)}function zc(t,s){return ei(2048,8,t,s)}function Rm(t,s){return ei(4,2,t,s)}function Om(t,s){return ei(4,4,t,s)}function _m(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Bm(t,s,r){return r=r!=null?r.concat([t]):null,ei(4,4,_m.bind(null,s,t),r)}function Lc(){}function Wm(t,s){var r=is();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Ac(s,a[1])?a[0]:(r.memoizedState=[t,s],t)}function Vm(t,s){var r=is();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Ac(s,a[1])?a[0]:(t=t(),r.memoizedState=[t,s],t)}function Hm(t,s,r){return Lr&21?(js(r,s)||(r=qx(),Ye.lanes|=r,Mr|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=r)}function ng(t,s){var r=$e;$e=r!==0&&4>r?r:4,t(!0);var a=$i.transition;$i.transition={};try{t(!1),s()}finally{$e=r,$i.transition=a}}function Ym(){return is().memoizedState}function lg(t,s,r){var a=nr(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Jm(t))Gm(s,r);else if(r=Em(t,s,r,a),r!==null){var n=Tt();bs(r,t,a,n),Xm(r,s,a)}}function ig(t,s,r){var a=nr(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jm(t))Gm(s,n);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,d=l(i,r);if(n.hasEagerState=!0,n.eagerState=d,js(d,i)){var c=s.interleaved;c===null?(n.next=n,Sc(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=Em(t,s,n,a),r!==null&&(n=Tt(),bs(r,t,a,n),Xm(r,s,a))}}function Jm(t){var s=t.alternate;return t===Ye||s!==null&&s===Ye}function Gm(t,s){en=Ul=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Xm(t,s,r){if(r&4194240){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,uc(t,r)}}var $l={readContext:ls,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},og={readContext:ls,useCallback:function(t,s){return ks().memoizedState=[t,s===void 0?null:s],t},useContext:ls,useEffect:ku,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,hl(4194308,4,_m.bind(null,s,t),r)},useLayoutEffect:function(t,s){return hl(4194308,4,t,s)},useInsertionEffect:function(t,s){return hl(4,2,t,s)},useMemo:function(t,s){var r=ks();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var a=ks();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=lg.bind(null,Ye,t),[a.memoizedState,t]},useRef:function(t){var s=ks();return t={current:t},s.memoizedState=t},useState:wu,useDebugValue:Lc,useDeferredValue:function(t){return ks().memoizedState=t},useTransition:function(){var t=wu(!1),s=t[0];return t=ng.bind(null,t[1]),ks().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var a=Ye,n=ks();if(_e){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=s(),ut===null)throw Error(ee(349));Lr&30||zm(a,s,r)}n.memoizedState=r;var l={value:r,getSnapshot:s};return n.queue=l,ku(Mm.bind(null,a,l,t),[t]),a.flags|=2048,jn(9,Lm.bind(null,a,l,r,s),void 0,null),r},useId:function(){var t=ks(),s=ut.identifierPrefix;if(_e){var r=Ls,a=zs;r=(a&~(1<<32-ys(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=yn++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=ag++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},cg={readContext:ls,useCallback:Wm,useContext:ls,useEffect:zc,useImperativeHandle:Bm,useInsertionEffect:Rm,useLayoutEffect:Om,useMemo:Vm,useReducer:Fi,useRef:Fm,useState:function(){return Fi(bn)},useDebugValue:Lc,useDeferredValue:function(t){var s=is();return Hm(s,nt.memoizedState,t)},useTransition:function(){var t=Fi(bn)[0],s=is().memoizedState;return[t,s]},useMutableSource:Dm,useSyncExternalStore:Im,useId:Ym,unstable_isNewReconciler:!1},dg={readContext:ls,useCallback:Wm,useContext:ls,useEffect:zc,useImperativeHandle:Bm,useInsertionEffect:Rm,useLayoutEffect:Om,useMemo:Vm,useReducer:Ri,useRef:Fm,useState:function(){return Ri(bn)},useDebugValue:Lc,useDeferredValue:function(t){var s=is();return nt===null?s.memoizedState=t:Hm(s,nt.memoizedState,t)},useTransition:function(){var t=Ri(bn)[0],s=is().memoizedState;return[t,s]},useMutableSource:Dm,useSyncExternalStore:Im,useId:Ym,unstable_isNewReconciler:!1};function ps(t,s){if(t&&t.defaultProps){s=Je({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Eo(t,s,r,a){s=t.memoizedState,r=r(a,s),r=r==null?s:Je({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ti={isMounted:function(t){return(t=t._reactInternals)?Or(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var a=Tt(),n=nr(t),l=Ms(a,n);l.payload=s,r!=null&&(l.callback=r),s=rr(t,l,n),s!==null&&(bs(s,t,n,a),xl(s,t,n))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var a=Tt(),n=nr(t),l=Ms(a,n);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=rr(t,l,n),s!==null&&(bs(s,t,n,a),xl(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Tt(),a=nr(t),n=Ms(r,a);n.tag=2,s!=null&&(n.callback=s),s=rr(t,n,a),s!==null&&(bs(s,t,a,r),xl(s,t,a))}};function Su(t,s,r,a,n,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,l,i):s.prototype&&s.prototype.isPureReactComponent?!xn(r,a)||!xn(n,l):!0}function qm(t,s,r){var a=!1,n=cr,l=s.contextType;return typeof l=="object"&&l!==null?l=ls(l):(n=$t(s)?Ir:wt.current,a=s.contextTypes,l=(a=a!=null)?xa(t,n):cr),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ti,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),s}function Cu(t,s,r,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==t&&ti.enqueueReplaceState(s,s.state,null)}function Po(t,s,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},Cc(t);var l=s.contextType;typeof l=="object"&&l!==null?n.context=ls(l):(l=$t(s)?Ir:wt.current,n.context=xa(t,l)),n.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Eo(t,s,l,r),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&ti.enqueueReplaceState(n,n.state,null),Ll(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,s){try{var r="",a=s;do r+=Fh(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:n,digest:null}}function Oi(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Ao(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function Km(t,s,r){r=Ms(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){Rl||(Rl=!0,Oo=a),Ao(t,s)},r}function Qm(t,s,r){r=Ms(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Ao(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ao(t,s),typeof a!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function Tu(t,s,r){var a=t.pingCache;if(a===null){a=t.pingCache=new ug;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),t=Sg.bind(null,t,s,r),s.then(t,t))}function Eu(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Pu(t,s,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ms(-1,1),s.tag=2,rr(r,s,1))),r.lanes|=1),t)}var xg=_s.ReactCurrentOwner,Mt=!1;function Ct(t,s,r,a){s.child=t===null?Tm(s,null,r,a):ha(s,t.child,r,a)}function Au(t,s,r,a,n){r=r.render;var l=s.ref;return ca(s,n),a=Dc(t,s,r,a,l,n),r=Ic(),t!==null&&!Mt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Rs(t,s,n)):(_e&&r&&bc(s),s.flags|=1,Ct(t,s,a,n),s.child)}function Du(t,s,r,a,n){if(t===null){var l=r.type;return typeof l=="function"&&!Bc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Zm(t,s,l,a,n)):(t=yl(r.type,null,a,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&n)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:xn,r(i,a)&&t.ref===s.ref)return Rs(t,s,n)}return s.flags|=1,t=lr(l,a),t.ref=s.ref,t.return=s,s.child=t}function Zm(t,s,r,a,n){if(t!==null){var l=t.memoizedProps;if(xn(l,a)&&t.ref===s.ref)if(Mt=!1,s.pendingProps=a=l,(t.lanes&n)!==0)t.flags&131072&&(Mt=!0);else return s.lanes=t.lanes,Rs(t,s,n)}return Do(t,s,r,a,n)}function e0(t,s,r){var a=s.pendingProps,n=a.children,l=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(aa,Wt),Wt|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Fe(aa,Wt),Wt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,Fe(aa,Wt),Wt|=a}else l!==null?(a=l.baseLanes|r,s.memoizedState=null):a=r,Fe(aa,Wt),Wt|=a;return Ct(t,s,n,r),s.child}function t0(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Do(t,s,r,a,n){var l=$t(r)?Ir:wt.current;return l=xa(s,l),ca(s,n),r=Dc(t,s,r,a,l,n),a=Ic(),t!==null&&!Mt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Rs(t,s,n)):(_e&&a&&bc(s),s.flags|=1,Ct(t,s,r,n),s.child)}function Iu(t,s,r,a,n){if($t(r)){var l=!0;Pl(s)}else l=!1;if(ca(s,n),s.stateNode===null)pl(t,s),qm(s,r,a),Po(s,r,a,n),a=!0;else if(t===null){var i=s.stateNode,d=s.memoizedProps;i.props=d;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ls(u):(u=$t(r)?Ir:wt.current,u=xa(s,u));var g=r.getDerivedStateFromProps,b=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function";b||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==a||c!==u)&&Cu(s,i,a,u),Js=!1;var y=s.memoizedState;i.state=y,Ll(s,a,i,n),c=s.memoizedState,d!==a||y!==c||Ut.current||Js?(typeof g=="function"&&(Eo(s,r,g,a),c=s.memoizedState),(d=Js||Su(s,r,d,a,y,c,u))?(b||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),i.props=a,i.state=c,i.context=u,a=d):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{i=s.stateNode,Pm(t,s),d=s.memoizedProps,u=s.type===s.elementType?d:ps(s.type,d),i.props=u,b=s.pendingProps,y=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ls(c):(c=$t(r)?Ir:wt.current,c=xa(s,c));var j=r.getDerivedStateFromProps;(g=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==b||y!==c)&&Cu(s,i,a,c),Js=!1,y=s.memoizedState,i.state=y,Ll(s,a,i,n);var v=s.memoizedState;d!==b||y!==v||Ut.current||Js?(typeof j=="function"&&(Eo(s,r,j,a),v=s.memoizedState),(u=Js||Su(s,r,u,a,y,v,c)||!1)?(g||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,v,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===t.memoizedProps&&y===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&y===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=v),i.props=a,i.state=v,i.context=c,a=u):(typeof i.componentDidUpdate!="function"||d===t.memoizedProps&&y===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&y===t.memoizedState||(s.flags|=1024),a=!1)}return Io(t,s,r,a,l,n)}function Io(t,s,r,a,n,l){t0(t,s);var i=(s.flags&128)!==0;if(!a&&!i)return n&&fu(s,r,!1),Rs(t,s,l);a=s.stateNode,xg.current=s;var d=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&i?(s.child=ha(s,t.child,null,l),s.child=ha(s,null,d,l)):Ct(t,s,d,l),s.memoizedState=a.state,n&&fu(s,r,!0),s.child}function s0(t){var s=t.stateNode;s.pendingContext?gu(t,s.pendingContext,s.pendingContext!==s.context):s.context&&gu(t,s.context,!1),Tc(t,s.containerInfo)}function zu(t,s,r,a,n){return ma(),vc(n),s.flags|=256,Ct(t,s,r,a),s.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Lo(t){return{baseLanes:t,cachePool:null,transitions:null}}function r0(t,s,r){var a=s.pendingProps,n=Ve.current,l=!1,i=(s.flags&128)!==0,d;if((d=i)||(d=t!==null&&t.memoizedState===null?!1:(n&2)!==0),d?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Fe(Ve,n&1),t===null)return Co(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=a.children,t=a.fallback,l?(a=s.mode,l=s.child,i={mode:"hidden",children:i},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ai(i,a,0,null),t=Dr(t,a,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=Lo(r),s.memoizedState=zo,t):Mc(s,i));if(n=t.memoizedState,n!==null&&(d=n.dehydrated,d!==null))return mg(t,s,i,a,d,n,r);if(l){l=a.fallback,i=s.mode,n=t.child,d=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=lr(n,c),a.subtreeFlags=n.subtreeFlags&14680064),d!==null?l=lr(d,l):(l=Dr(l,i,r,null),l.flags|=2),l.return=s,a.return=s,a.sibling=l,s.child=a,a=l,l=s.child,i=t.child.memoizedState,i=i===null?Lo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,s.memoizedState=zo,a}return l=t.child,t=l.sibling,a=lr(l,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=a,s.memoizedState=null,a}function Mc(t,s){return s=ai({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Zn(t,s,r,a){return a!==null&&vc(a),ha(s,t.child,null,r),t=Mc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function mg(t,s,r,a,n,l,i){if(r)return s.flags&256?(s.flags&=-257,a=Oi(Error(ee(422))),Zn(t,s,i,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=a.fallback,n=s.mode,a=ai({mode:"visible",children:a.children},n,0,null),l=Dr(l,n,i,null),l.flags|=2,a.return=s,l.return=s,a.sibling=l,s.child=a,s.mode&1&&ha(s,t.child,null,i),s.child.memoizedState=Lo(i),s.memoizedState=zo,l);if(!(s.mode&1))return Zn(t,s,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var d=a.dgst;return a=d,l=Error(ee(419)),a=Oi(l,a,void 0),Zn(t,s,i,a)}if(d=(i&t.childLanes)!==0,Mt||d){if(a=ut,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Fs(t,n),bs(a,t,n,-1))}return _c(),a=Oi(Error(ee(421))),Zn(t,s,i,a)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=Cg.bind(null,t),n._reactRetry=s,null):(t=l.treeContext,Vt=sr(n.nextSibling),Ht=s,_e=!0,fs=null,t!==null&&(ts[ss++]=zs,ts[ss++]=Ls,ts[ss++]=zr,zs=t.id,Ls=t.overflow,zr=s),s=Mc(s,a.children),s.flags|=4096,s)}function Lu(t,s,r){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),To(t.return,s,r)}function _i(t,s,r,a,n){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function a0(t,s,r){var a=s.pendingProps,n=a.revealOrder,l=a.tail;if(Ct(t,s,a.children,r),a=Ve.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lu(t,r,s);else if(t.tag===19)Lu(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Fe(Ve,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)t=r.alternate,t!==null&&Ml(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),_i(s,!1,n,r,l);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&Ml(t)===null){s.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}_i(s,!0,r,null,l);break;case"together":_i(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pl(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Rs(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Mr|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ee(153));if(s.child!==null){for(t=s.child,r=lr(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=lr(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function hg(t,s,r){switch(s.tag){case 3:s0(s),ma();break;case 5:Am(s);break;case 1:$t(s.type)&&Pl(s);break;case 4:Tc(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;Fe(Il,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(Fe(Ve,Ve.current&1),s.flags|=128,null):r&s.child.childLanes?r0(t,s,r):(Fe(Ve,Ve.current&1),t=Rs(t,s,r),t!==null?t.sibling:null);Fe(Ve,Ve.current&1);break;case 19:if(a=(r&s.childLanes)!==0,t.flags&128){if(a)return a0(t,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Fe(Ve,Ve.current),a)break;return null;case 22:case 23:return s.lanes=0,e0(t,s,r)}return Rs(t,s,r)}var n0,Mo,l0,i0;n0=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mo=function(){};l0=function(t,s,r,a){var n=t.memoizedProps;if(n!==a){t=s.stateNode,Tr(Ts.current);var l=null;switch(r){case"input":n=so(t,n),a=so(t,a),l=[];break;case"select":n=Je({},n,{value:void 0}),a=Je({},a,{value:void 0}),l=[];break;case"textarea":n=no(t,n),a=no(t,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Tl)}io(r,a);var i;r=null;for(u in n)if(!a.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var d=n[u];for(i in d)d.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(an.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in a){var c=a[u];if(d=n!=null?n[u]:void 0,a.hasOwnProperty(u)&&c!==d&&(c!=null||d!=null))if(u==="style")if(d){for(i in d)!d.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&d[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,d=d?d.__html:void 0,c!=null&&d!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(an.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),l||d===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(s.updateQueue=u)&&(s.flags|=4)}};i0=function(t,s,r,a){r!==a&&(s.flags|=4)};function za(t,s){if(!_e)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function vt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(s)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,s}function pg(t,s,r){var a=s.pendingProps;switch(jc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return $t(s.type)&&El(),vt(s),null;case 3:return a=s.stateNode,pa(),Oe(Ut),Oe(wt),Pc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Kn(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fs!==null&&(Wo(fs),fs=null))),Mo(t,s),vt(s),null;case 5:Ec(s);var n=Tr(fn.current);if(r=s.type,t!==null&&s.stateNode!=null)l0(t,s,r,a,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(ee(166));return vt(s),null}if(t=Tr(Ts.current),Kn(s)){a=s.stateNode,r=s.type;var l=s.memoizedProps;switch(a[Ss]=s,a[pn]=l,t=(s.mode&1)!==0,r){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(n=0;n<Ha.length;n++)Re(Ha[n],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Wd(a,l),Re("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Re("invalid",a);break;case"textarea":Hd(a,l),Re("invalid",a)}io(r,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="children"?typeof d=="string"?a.textContent!==d&&(l.suppressHydrationWarning!==!0&&qn(a.textContent,d,t),n=["children",d]):typeof d=="number"&&a.textContent!==""+d&&(l.suppressHydrationWarning!==!0&&qn(a.textContent,d,t),n=["children",""+d]):an.hasOwnProperty(i)&&d!=null&&i==="onScroll"&&Re("scroll",a)}switch(r){case"input":Bn(a),Vd(a,l,!0);break;case"textarea":Bn(a),Yd(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Tl)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=i.createElement(r,{is:a.is}):(t=i.createElement(r),r==="select"&&(i=t,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):t=i.createElementNS(t,r),t[Ss]=s,t[pn]=a,n0(t,s,!1,!1),s.stateNode=t;e:{switch(i=oo(r,a),r){case"dialog":Re("cancel",t),Re("close",t),n=a;break;case"iframe":case"object":case"embed":Re("load",t),n=a;break;case"video":case"audio":for(n=0;n<Ha.length;n++)Re(Ha[n],t);n=a;break;case"source":Re("error",t),n=a;break;case"img":case"image":case"link":Re("error",t),Re("load",t),n=a;break;case"details":Re("toggle",t),n=a;break;case"input":Wd(t,a),n=so(t,a),Re("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=Je({},a,{value:void 0}),Re("invalid",t);break;case"textarea":Hd(t,a),n=no(t,a),Re("invalid",t);break;default:n=a}io(r,n),d=n;for(l in d)if(d.hasOwnProperty(l)){var c=d[l];l==="style"?Fx(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ux(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nn(t,c):typeof c=="number"&&nn(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(an.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Re("scroll",t):c!=null&&nc(t,l,c,i))}switch(r){case"input":Bn(t),Vd(t,a,!1);break;case"textarea":Bn(t),Yd(t);break;case"option":a.value!=null&&t.setAttribute("value",""+or(a.value));break;case"select":t.multiple=!!a.multiple,l=a.value,l!=null?na(t,!!a.multiple,l,!1):a.defaultValue!=null&&na(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Tl)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return vt(s),null;case 6:if(t&&s.stateNode!=null)i0(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(ee(166));if(r=Tr(fn.current),Tr(Ts.current),Kn(s)){if(a=s.stateNode,r=s.memoizedProps,a[Ss]=s,(l=a.nodeValue!==r)&&(t=Ht,t!==null))switch(t.tag){case 3:qn(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qn(a.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Ss]=s,s.stateNode=a}return vt(s),null;case 13:if(Oe(Ve),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&Vt!==null&&s.mode&1&&!(s.flags&128))Sm(),ma(),s.flags|=98560,l=!1;else if(l=Kn(s),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(ee(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ee(317));l[Ss]=s}else ma(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;vt(s),l=!1}else fs!==null&&(Wo(fs),fs=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||Ve.current&1?lt===0&&(lt=3):_c())),s.updateQueue!==null&&(s.flags|=4),vt(s),null);case 4:return pa(),Mo(t,s),t===null&&mn(s.stateNode.containerInfo),vt(s),null;case 10:return kc(s.type._context),vt(s),null;case 17:return $t(s.type)&&El(),vt(s),null;case 19:if(Oe(Ve),l=s.memoizedState,l===null)return vt(s),null;if(a=(s.flags&128)!==0,i=l.rendering,i===null)if(a)za(l,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=Ml(t),i!==null){for(s.flags|=128,za(l,!1),a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)l=r,t=a,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Fe(Ve,Ve.current&1|2),s.child}t=t.sibling}l.tail!==null&&Ke()>fa&&(s.flags|=128,a=!0,za(l,!1),s.lanes=4194304)}else{if(!a)if(t=Ml(i),t!==null){if(s.flags|=128,a=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),za(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!_e)return vt(s),null}else 2*Ke()-l.renderingStartTime>fa&&r!==1073741824&&(s.flags|=128,a=!0,za(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Ke(),s.sibling=null,r=Ve.current,Fe(Ve,a?r&1|2:r&1),s):(vt(s),null);case 22:case 23:return Oc(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Wt&1073741824&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),null;case 24:return null;case 25:return null}throw Error(ee(156,s.tag))}function gg(t,s){switch(jc(s),s.tag){case 1:return $t(s.type)&&El(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return pa(),Oe(Ut),Oe(wt),Pc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Ec(s),null;case 13:if(Oe(Ve),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ee(340));ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Oe(Ve),null;case 4:return pa(),null;case 10:return kc(s.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var el=!1,Nt=!1,fg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ra(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Xe(t,s,a)}else r.current=null}function Uo(t,s,r){try{r()}catch(a){Xe(t,s,a)}}var Mu=!1;function yg(t,s){if(bo=kl,t=xm(),yc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,d=-1,c=-1,u=0,g=0,b=t,y=null;t:for(;;){for(var j;b!==r||n!==0&&b.nodeType!==3||(d=i+n),b!==l||a!==0&&b.nodeType!==3||(c=i+a),b.nodeType===3&&(i+=b.nodeValue.length),(j=b.firstChild)!==null;)y=b,b=j;for(;;){if(b===t)break t;if(y===r&&++u===n&&(d=i),y===l&&++g===a&&(c=i),(j=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=j}r=d===-1||c===-1?null:{start:d,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(jo={focusedElem:t,selectionRange:r},kl=!1,xe=s;xe!==null;)if(s=xe,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,xe=t;else for(;xe!==null;){s=xe;try{var v=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,D=v.memoizedState,f=s.stateNode,x=f.getSnapshotBeforeUpdate(s.elementType===s.type?w:ps(s.type,w),D);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=s.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(p){Xe(s,s.return,p)}if(t=s.sibling,t!==null){t.return=s.return,xe=t;break}xe=s.return}return v=Mu,Mu=!1,v}function tn(t,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var l=n.destroy;n.destroy=void 0,l!==void 0&&Uo(s,r,l)}n=n.next}while(n!==a)}}function si(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function $o(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function o0(t){var s=t.alternate;s!==null&&(t.alternate=null,o0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Ss],delete s[pn],delete s[wo],delete s[eg],delete s[tg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c0(t){return t.tag===5||t.tag===3||t.tag===4}function Uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fo(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Tl));else if(a!==4&&(t=t.child,t!==null))for(Fo(t,s,r),t=t.sibling;t!==null;)Fo(t,s,r),t=t.sibling}function Ro(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Ro(t,s,r),t=t.sibling;t!==null;)Ro(t,s,r),t=t.sibling}var pt=null,gs=!1;function Hs(t,s,r){for(r=r.child;r!==null;)d0(t,s,r),r=r.sibling}function d0(t,s,r){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Gl,r)}catch{}switch(r.tag){case 5:Nt||ra(r,s);case 6:var a=pt,n=gs;pt=null,Hs(t,s,r),pt=a,gs=n,pt!==null&&(gs?(t=pt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(gs?(t=pt,r=r.stateNode,t.nodeType===8?Li(t.parentNode,r):t.nodeType===1&&Li(t,r),dn(t)):Li(pt,r.stateNode));break;case 4:a=pt,n=gs,pt=r.stateNode.containerInfo,gs=!0,Hs(t,s,r),pt=a,gs=n;break;case 0:case 11:case 14:case 15:if(!Nt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Uo(r,s,i),n=n.next}while(n!==a)}Hs(t,s,r);break;case 1:if(!Nt&&(ra(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(d){Xe(r,s,d)}Hs(t,s,r);break;case 21:Hs(t,s,r);break;case 22:r.mode&1?(Nt=(a=Nt)||r.memoizedState!==null,Hs(t,s,r),Nt=a):Hs(t,s,r);break;default:Hs(t,s,r)}}function $u(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fg),s.forEach(function(a){var n=Tg.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function xs(t,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=t,i=s,d=i;e:for(;d!==null;){switch(d.tag){case 5:pt=d.stateNode,gs=!1;break e;case 3:pt=d.stateNode.containerInfo,gs=!0;break e;case 4:pt=d.stateNode.containerInfo,gs=!0;break e}d=d.return}if(pt===null)throw Error(ee(160));d0(l,i,n),pt=null,gs=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){Xe(n,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)u0(s,t),s=s.sibling}function u0(t,s){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xs(s,t),Ns(t),a&4){try{tn(3,t,t.return),si(3,t)}catch(w){Xe(t,t.return,w)}try{tn(5,t,t.return)}catch(w){Xe(t,t.return,w)}}break;case 1:xs(s,t),Ns(t),a&512&&r!==null&&ra(r,r.return);break;case 5:if(xs(s,t),Ns(t),a&512&&r!==null&&ra(r,r.return),t.flags&32){var n=t.stateNode;try{nn(n,"")}catch(w){Xe(t,t.return,w)}}if(a&4&&(n=t.stateNode,n!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,d=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{d==="input"&&l.type==="radio"&&l.name!=null&&zx(n,l),oo(d,i);var u=oo(d,l);for(i=0;i<c.length;i+=2){var g=c[i],b=c[i+1];g==="style"?Fx(n,b):g==="dangerouslySetInnerHTML"?Ux(n,b):g==="children"?nn(n,b):nc(n,g,b,u)}switch(d){case"input":ro(n,l);break;case"textarea":Lx(n,l);break;case"select":var y=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?na(n,!!l.multiple,j,!1):y!==!!l.multiple&&(l.defaultValue!=null?na(n,!!l.multiple,l.defaultValue,!0):na(n,!!l.multiple,l.multiple?[]:"",!1))}n[pn]=l}catch(w){Xe(t,t.return,w)}}break;case 6:if(xs(s,t),Ns(t),a&4){if(t.stateNode===null)throw Error(ee(162));n=t.stateNode,l=t.memoizedProps;try{n.nodeValue=l}catch(w){Xe(t,t.return,w)}}break;case 3:if(xs(s,t),Ns(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{dn(s.containerInfo)}catch(w){Xe(t,t.return,w)}break;case 4:xs(s,t),Ns(t);break;case 13:xs(s,t),Ns(t),n=t.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Fc=Ke())),a&4&&$u(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||g,xs(s,t),Nt=u):xs(s,t),Ns(t),a&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!g&&t.mode&1)for(xe=t,g=t.child;g!==null;){for(b=xe=g;xe!==null;){switch(y=xe,j=y.child,y.tag){case 0:case 11:case 14:case 15:tn(4,y,y.return);break;case 1:ra(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){a=y,r=y.return;try{s=a,v.props=s.memoizedProps,v.state=s.memoizedState,v.componentWillUnmount()}catch(w){Xe(a,r,w)}}break;case 5:ra(y,y.return);break;case 22:if(y.memoizedState!==null){Ru(b);continue}}j!==null?(j.return=y,xe=j):Ru(b)}g=g.sibling}e:for(g=null,b=t;;){if(b.tag===5){if(g===null){g=b;try{n=b.stateNode,u?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(d=b.stateNode,c=b.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,d.style.display=$x("display",i))}catch(w){Xe(t,t.return,w)}}}else if(b.tag===6){if(g===null)try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(w){Xe(t,t.return,w)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===t)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;g===b&&(g=null),b=b.return}g===b&&(g=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:xs(s,t),Ns(t),a&4&&$u(t);break;case 21:break;default:xs(s,t),Ns(t)}}function Ns(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(c0(r)){var a=r;break e}r=r.return}throw Error(ee(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(nn(n,""),a.flags&=-33);var l=Uu(t);Ro(t,l,n);break;case 3:case 4:var i=a.stateNode.containerInfo,d=Uu(t);Fo(t,d,i);break;default:throw Error(ee(161))}}catch(c){Xe(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function bg(t,s,r){xe=t,x0(t)}function x0(t,s,r){for(var a=(t.mode&1)!==0;xe!==null;){var n=xe,l=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||el;if(!i){var d=n.alternate,c=d!==null&&d.memoizedState!==null||Nt;d=el;var u=Nt;if(el=i,(Nt=c)&&!u)for(xe=n;xe!==null;)i=xe,c=i.child,i.tag===22&&i.memoizedState!==null?Ou(n):c!==null?(c.return=i,xe=c):Ou(n);for(;l!==null;)xe=l,x0(l),l=l.sibling;xe=n,el=d,Nt=u}Fu(t)}else n.subtreeFlags&8772&&l!==null?(l.return=n,xe=l):Fu(t)}}function Fu(t){for(;xe!==null;){var s=xe;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Nt||si(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Nt)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:ps(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Nu(s,l,a);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Nu(s,i,r)}break;case 5:var d=s.stateNode;if(r===null&&s.flags&4){r=d;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var b=g.dehydrated;b!==null&&dn(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Nt||s.flags&512&&$o(s)}catch(y){Xe(s,s.return,y)}}if(s===t){xe=null;break}if(r=s.sibling,r!==null){r.return=s.return,xe=r;break}xe=s.return}}function Ru(t){for(;xe!==null;){var s=xe;if(s===t){xe=null;break}var r=s.sibling;if(r!==null){r.return=s.return,xe=r;break}xe=s.return}}function Ou(t){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{si(4,s)}catch(c){Xe(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){Xe(s,n,c)}}var l=s.return;try{$o(s)}catch(c){Xe(s,l,c)}break;case 5:var i=s.return;try{$o(s)}catch(c){Xe(s,i,c)}}}catch(c){Xe(s,s.return,c)}if(s===t){xe=null;break}var d=s.sibling;if(d!==null){d.return=s.return,xe=d;break}xe=s.return}}var jg=Math.ceil,Fl=_s.ReactCurrentDispatcher,Uc=_s.ReactCurrentOwner,ns=_s.ReactCurrentBatchConfig,ze=0,ut=null,rt=null,gt=0,Wt=0,aa=mr(0),lt=0,vn=null,Mr=0,ri=0,$c=0,sn=null,Lt=null,Fc=0,fa=1/0,Ds=null,Rl=!1,Oo=null,ar=null,tl=!1,Ks=null,Ol=0,rn=0,_o=null,gl=-1,fl=0;function Tt(){return ze&6?Ke():gl!==-1?gl:gl=Ke()}function nr(t){return t.mode&1?ze&2&&gt!==0?gt&-gt:rg.transition!==null?(fl===0&&(fl=qx()),fl):(t=$e,t!==0||(t=window.event,t=t===void 0?16:rm(t.type)),t):1}function bs(t,s,r,a){if(50<rn)throw rn=0,_o=null,Error(ee(185));Pn(t,r,a),(!(ze&2)||t!==ut)&&(t===ut&&(!(ze&2)&&(ri|=r),lt===4&&Xs(t,gt)),Ft(t,a),r===1&&ze===0&&!(s.mode&1)&&(fa=Ke()+500,Zl&&hr()))}function Ft(t,s){var r=t.callbackNode;rp(t,s);var a=wl(t,t===ut?gt:0);if(a===0)r!==null&&Xd(r),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(r!=null&&Xd(r),s===1)t.tag===0?sg(_u.bind(null,t)):Nm(_u.bind(null,t)),Qp(function(){!(ze&6)&&hr()}),r=null;else{switch(Kx(a)){case 1:r=dc;break;case 4:r=Gx;break;case 16:r=Nl;break;case 536870912:r=Xx;break;default:r=Nl}r=j0(r,m0.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function m0(t,s){if(gl=-1,fl=0,ze&6)throw Error(ee(327));var r=t.callbackNode;if(da()&&t.callbackNode!==r)return null;var a=wl(t,t===ut?gt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=_l(t,a);else{s=a;var n=ze;ze|=2;var l=p0();(ut!==t||gt!==s)&&(Ds=null,fa=Ke()+500,Ar(t,s));do try{wg();break}catch(d){h0(t,d)}while(!0);wc(),Fl.current=l,ze=n,rt!==null?s=0:(ut=null,gt=0,s=lt)}if(s!==0){if(s===2&&(n=ho(t),n!==0&&(a=n,s=Bo(t,n))),s===1)throw r=vn,Ar(t,0),Xs(t,a),Ft(t,Ke()),r;if(s===6)Xs(t,a);else{if(n=t.current.alternate,!(a&30)&&!vg(n)&&(s=_l(t,a),s===2&&(l=ho(t),l!==0&&(a=l,s=Bo(t,l))),s===1))throw r=vn,Ar(t,0),Xs(t,a),Ft(t,Ke()),r;switch(t.finishedWork=n,t.finishedLanes=a,s){case 0:case 1:throw Error(ee(345));case 2:kr(t,Lt,Ds);break;case 3:if(Xs(t,a),(a&130023424)===a&&(s=Fc+500-Ke(),10<s)){if(wl(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){Tt(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=No(kr.bind(null,t,Lt,Ds),s);break}kr(t,Lt,Ds);break;case 4:if(Xs(t,a),(a&4194240)===a)break;for(s=t.eventTimes,n=-1;0<a;){var i=31-ys(a);l=1<<i,i=s[i],i>n&&(n=i),a&=~l}if(a=n,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*jg(a/1960))-a,10<a){t.timeoutHandle=No(kr.bind(null,t,Lt,Ds),a);break}kr(t,Lt,Ds);break;case 5:kr(t,Lt,Ds);break;default:throw Error(ee(329))}}}return Ft(t,Ke()),t.callbackNode===r?m0.bind(null,t):null}function Bo(t,s){var r=sn;return t.current.memoizedState.isDehydrated&&(Ar(t,s).flags|=256),t=_l(t,s),t!==2&&(s=Lt,Lt=r,s!==null&&Wo(s)),t}function Wo(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function vg(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!js(l(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xs(t,s){for(s&=~$c,s&=~ri,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-ys(s),a=1<<r;t[r]=-1,s&=~a}}function _u(t){if(ze&6)throw Error(ee(327));da();var s=wl(t,0);if(!(s&1))return Ft(t,Ke()),null;var r=_l(t,s);if(t.tag!==0&&r===2){var a=ho(t);a!==0&&(s=a,r=Bo(t,a))}if(r===1)throw r=vn,Ar(t,0),Xs(t,s),Ft(t,Ke()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,kr(t,Lt,Ds),Ft(t,Ke()),null}function Rc(t,s){var r=ze;ze|=1;try{return t(s)}finally{ze=r,ze===0&&(fa=Ke()+500,Zl&&hr())}}function Ur(t){Ks!==null&&Ks.tag===0&&!(ze&6)&&da();var s=ze;ze|=1;var r=ns.transition,a=$e;try{if(ns.transition=null,$e=1,t)return t()}finally{$e=a,ns.transition=r,ze=s,!(ze&6)&&hr()}}function Oc(){Wt=aa.current,Oe(aa)}function Ar(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Kp(r)),rt!==null)for(r=rt.return;r!==null;){var a=r;switch(jc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&El();break;case 3:pa(),Oe(Ut),Oe(wt),Pc();break;case 5:Ec(a);break;case 4:pa();break;case 13:Oe(Ve);break;case 19:Oe(Ve);break;case 10:kc(a.type._context);break;case 22:case 23:Oc()}r=r.return}if(ut=t,rt=t=lr(t.current,null),gt=Wt=s,lt=0,vn=null,$c=ri=Mr=0,Lt=sn=null,Cr!==null){for(s=0;s<Cr.length;s++)if(r=Cr[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var i=l.next;l.next=n,a.next=i}r.pending=a}Cr=null}return t}function h0(t,s){do{var r=rt;try{if(wc(),ml.current=$l,Ul){for(var a=Ye.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Ul=!1}if(Lr=0,ct=nt=Ye=null,en=!1,yn=0,Uc.current=null,r===null||r.return===null){lt=1,vn=s,rt=null;break}e:{var l=t,i=r.return,d=r,c=s;if(s=gt,d.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,g=d,b=g.tag;if(!(g.mode&1)&&(b===0||b===11||b===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var j=Eu(i);if(j!==null){j.flags&=-257,Pu(j,i,d,l,s),j.mode&1&&Tu(l,u,s),s=j,c=u;var v=s.updateQueue;if(v===null){var w=new Set;w.add(c),s.updateQueue=w}else v.add(c);break e}else{if(!(s&1)){Tu(l,u,s),_c();break e}c=Error(ee(426))}}else if(_e&&d.mode&1){var D=Eu(i);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Pu(D,i,d,l,s),vc(ga(c,d));break e}}l=c=ga(c,d),lt!==4&&(lt=2),sn===null?sn=[l]:sn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var f=Km(l,c,s);vu(l,f);break e;case 1:d=c;var x=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ar===null||!ar.has(m)))){l.flags|=65536,s&=-s,l.lanes|=s;var p=Qm(l,d,s);vu(l,p);break e}}l=l.return}while(l!==null)}f0(r)}catch(S){s=S,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function p0(){var t=Fl.current;return Fl.current=$l,t===null?$l:t}function _c(){(lt===0||lt===3||lt===2)&&(lt=4),ut===null||!(Mr&268435455)&&!(ri&268435455)||Xs(ut,gt)}function _l(t,s){var r=ze;ze|=2;var a=p0();(ut!==t||gt!==s)&&(Ds=null,Ar(t,s));do try{Ng();break}catch(n){h0(t,n)}while(!0);if(wc(),ze=r,Fl.current=a,rt!==null)throw Error(ee(261));return ut=null,gt=0,lt}function Ng(){for(;rt!==null;)g0(rt)}function wg(){for(;rt!==null&&!Gh();)g0(rt)}function g0(t){var s=b0(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,s===null?f0(t):rt=s,Uc.current=null}function f0(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=gg(r,s),r!==null){r.flags&=32767,rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,rt=null;return}}else if(r=pg(r,s,Wt),r!==null){rt=r;return}if(s=s.sibling,s!==null){rt=s;return}rt=s=t}while(s!==null);lt===0&&(lt=5)}function kr(t,s,r){var a=$e,n=ns.transition;try{ns.transition=null,$e=1,kg(t,s,r,a)}finally{ns.transition=n,$e=a}return null}function kg(t,s,r,a){do da();while(Ks!==null);if(ze&6)throw Error(ee(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(ap(t,l),t===ut&&(rt=ut=null,gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tl||(tl=!0,j0(Nl,function(){return da(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ns.transition,ns.transition=null;var i=$e;$e=1;var d=ze;ze|=4,Uc.current=null,yg(t,r),u0(r,t),Vp(jo),kl=!!bo,jo=bo=null,t.current=r,bg(r),Xh(),ze=d,$e=i,ns.transition=l}else t.current=r;if(tl&&(tl=!1,Ks=t,Ol=n),l=t.pendingLanes,l===0&&(ar=null),Qh(r.stateNode),Ft(t,Ke()),s!==null)for(a=t.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Rl)throw Rl=!1,t=Oo,Oo=null,t;return Ol&1&&t.tag!==0&&da(),l=t.pendingLanes,l&1?t===_o?rn++:(rn=0,_o=t):rn=0,hr(),null}function da(){if(Ks!==null){var t=Kx(Ol),s=ns.transition,r=$e;try{if(ns.transition=null,$e=16>t?16:t,Ks===null)var a=!1;else{if(t=Ks,Ks=null,Ol=0,ze&6)throw Error(ee(331));var n=ze;for(ze|=4,xe=t.current;xe!==null;){var l=xe,i=l.child;if(xe.flags&16){var d=l.deletions;if(d!==null){for(var c=0;c<d.length;c++){var u=d[c];for(xe=u;xe!==null;){var g=xe;switch(g.tag){case 0:case 11:case 15:tn(8,g,l)}var b=g.child;if(b!==null)b.return=g,xe=b;else for(;xe!==null;){g=xe;var y=g.sibling,j=g.return;if(o0(g),g===u){xe=null;break}if(y!==null){y.return=j,xe=y;break}xe=j}}}var v=l.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var D=w.sibling;w.sibling=null,w=D}while(w!==null)}}xe=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,xe=i;else e:for(;xe!==null;){if(l=xe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:tn(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,xe=f;break e}xe=l.return}}var x=t.current;for(xe=x;xe!==null;){i=xe;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,xe=m;else e:for(i=x;xe!==null;){if(d=xe,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:si(9,d)}}catch(S){Xe(d,d.return,S)}if(d===i){xe=null;break e}var p=d.sibling;if(p!==null){p.return=d.return,xe=p;break e}xe=d.return}}if(ze=n,hr(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Gl,t)}catch{}a=!0}return a}finally{$e=r,ns.transition=s}}return!1}function Bu(t,s,r){s=ga(r,s),s=Km(t,s,1),t=rr(t,s,1),s=Tt(),t!==null&&(Pn(t,1,s),Ft(t,s))}function Xe(t,s,r){if(t.tag===3)Bu(t,t,r);else for(;s!==null;){if(s.tag===3){Bu(s,t,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ar===null||!ar.has(a))){t=ga(r,t),t=Qm(s,t,1),s=rr(s,t,1),t=Tt(),s!==null&&(Pn(s,1,t),Ft(s,t));break}}s=s.return}}function Sg(t,s,r){var a=t.pingCache;a!==null&&a.delete(s),s=Tt(),t.pingedLanes|=t.suspendedLanes&r,ut===t&&(gt&r)===r&&(lt===4||lt===3&&(gt&130023424)===gt&&500>Ke()-Fc?Ar(t,0):$c|=r),Ft(t,s)}function y0(t,s){s===0&&(t.mode&1?(s=Hn,Hn<<=1,!(Hn&130023424)&&(Hn=4194304)):s=1);var r=Tt();t=Fs(t,s),t!==null&&(Pn(t,s,r),Ft(t,r))}function Cg(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),y0(t,r)}function Tg(t,s){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(ee(314))}a!==null&&a.delete(s),y0(t,r)}var b0;b0=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Ut.current)Mt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Mt=!1,hg(t,s,r);Mt=!!(t.flags&131072)}else Mt=!1,_e&&s.flags&1048576&&wm(s,Dl,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;pl(t,s),t=s.pendingProps;var n=xa(s,wt.current);ca(s,r),n=Dc(null,s,a,t,n,r);var l=Ic();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,$t(a)?(l=!0,Pl(s)):l=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Cc(s),n.updater=ti,s.stateNode=n,n._reactInternals=s,Po(s,a,t,r),s=Io(null,s,a,!0,l,r)):(s.tag=0,_e&&l&&bc(s),Ct(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(pl(t,s),t=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=Pg(a),t=ps(a,t),n){case 0:s=Do(null,s,a,t,r);break e;case 1:s=Iu(null,s,a,t,r);break e;case 11:s=Au(null,s,a,t,r);break e;case 14:s=Du(null,s,a,ps(a.type,t),r);break e}throw Error(ee(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ps(a,n),Do(t,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ps(a,n),Iu(t,s,a,n,r);case 3:e:{if(s0(s),t===null)throw Error(ee(387));a=s.pendingProps,l=s.memoizedState,n=l.element,Pm(t,s),Ll(s,a,null,r);var i=s.memoizedState;if(a=i.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){n=ga(Error(ee(423)),s),s=zu(t,s,a,r,n);break e}else if(a!==n){n=ga(Error(ee(424)),s),s=zu(t,s,a,r,n);break e}else for(Vt=sr(s.stateNode.containerInfo.firstChild),Ht=s,_e=!0,fs=null,r=Tm(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ma(),a===n){s=Rs(t,s,r);break e}Ct(t,s,a,r)}s=s.child}return s;case 5:return Am(s),t===null&&Co(s),a=s.type,n=s.pendingProps,l=t!==null?t.memoizedProps:null,i=n.children,vo(a,n)?i=null:l!==null&&vo(a,l)&&(s.flags|=32),t0(t,s),Ct(t,s,i,r),s.child;case 6:return t===null&&Co(s),null;case 13:return r0(t,s,r);case 4:return Tc(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=ha(s,null,a,r):Ct(t,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ps(a,n),Au(t,s,a,n,r);case 7:return Ct(t,s,s.pendingProps,r),s.child;case 8:return Ct(t,s,s.pendingProps.children,r),s.child;case 12:return Ct(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,l=s.memoizedProps,i=n.value,Fe(Il,a._currentValue),a._currentValue=i,l!==null)if(js(l.value,i)){if(l.children===n.children&&!Ut.current){s=Rs(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var d=l.dependencies;if(d!==null){i=l.child;for(var c=d.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=Ms(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),To(l.return,r,s),d.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(ee(341));i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),To(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ct(t,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,ca(s,r),n=ls(n),a=a(n),s.flags|=1,Ct(t,s,a,r),s.child;case 14:return a=s.type,n=ps(a,s.pendingProps),n=ps(a.type,n),Du(t,s,a,n,r);case 15:return Zm(t,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ps(a,n),pl(t,s),s.tag=1,$t(a)?(t=!0,Pl(s)):t=!1,ca(s,r),qm(s,a,n),Po(s,a,n,r),Io(null,s,a,!0,t,r);case 19:return a0(t,s,r);case 22:return e0(t,s,r)}throw Error(ee(156,s.tag))};function j0(t,s){return Jx(t,s)}function Eg(t,s,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(t,s,r,a){return new Eg(t,s,r,a)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pg(t){if(typeof t=="function")return Bc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ic)return 11;if(t===oc)return 14}return 2}function lr(t,s){var r=t.alternate;return r===null?(r=rs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yl(t,s,r,a,n,l){var i=2;if(a=t,typeof t=="function")Bc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Gr:return Dr(r.children,n,l,s);case lc:i=8,n|=8;break;case Qi:return t=rs(12,r,s,n|2),t.elementType=Qi,t.lanes=l,t;case Zi:return t=rs(13,r,s,n),t.elementType=Zi,t.lanes=l,t;case eo:return t=rs(19,r,s,n),t.elementType=eo,t.lanes=l,t;case Ax:return ai(r,n,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ex:i=10;break e;case Px:i=9;break e;case ic:i=11;break e;case oc:i=14;break e;case Ys:i=16,a=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return s=rs(i,r,s,n),s.elementType=t,s.type=a,s.lanes=l,s}function Dr(t,s,r,a){return t=rs(7,t,a,s),t.lanes=r,t}function ai(t,s,r,a){return t=rs(22,t,a,s),t.elementType=Ax,t.lanes=r,t.stateNode={isHidden:!1},t}function Bi(t,s,r){return t=rs(6,t,null,s),t.lanes=r,t}function Wi(t,s,r){return s=rs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Ag(t,s,r,a,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Wc(t,s,r,a,n,l,i,d,c){return t=new Ag(t,s,r,d,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=rs(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(l),t}function Dg(t,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:a==null?null:""+a,children:t,containerInfo:s,implementation:r}}function v0(t){if(!t)return cr;t=t._reactInternals;e:{if(Or(t)!==t||t.tag!==1)throw Error(ee(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if($t(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if($t(r))return vm(t,r,s)}return s}function N0(t,s,r,a,n,l,i,d,c){return t=Wc(r,a,!0,t,n,l,i,d,c),t.context=v0(null),r=t.current,a=Tt(),n=nr(r),l=Ms(a,n),l.callback=s??null,rr(r,l,n),t.current.lanes=n,Pn(t,n,a),Ft(t,a),t}function ni(t,s,r,a){var n=s.current,l=Tt(),i=nr(n);return r=v0(r),s.context===null?s.context=r:s.pendingContext=r,s=Ms(l,i),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=rr(n,s,i),t!==null&&(bs(t,n,i,l),xl(t,n,i)),i}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wu(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Vc(t,s){Wu(t,s),(t=t.alternate)&&Wu(t,s)}function Ig(){return null}var w0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hc(t){this._internalRoot=t}li.prototype.render=Hc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ee(409));ni(t,s,null,null)};li.prototype.unmount=Hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ur(function(){ni(null,t,null,null)}),s[$s]=null}};function li(t){this._internalRoot=t}li.prototype.unstable_scheduleHydration=function(t){if(t){var s=em();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Gs.length&&s!==0&&s<Gs[r].priority;r++);Gs.splice(r,0,t),r===0&&sm(t)}};function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ii(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function zg(t,s,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var u=Bl(i);l.call(u)}}var i=N0(s,a,t,0,null,!1,!1,"",Vu);return t._reactRootContainer=i,t[$s]=i.current,mn(t.nodeType===8?t.parentNode:t),Ur(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var d=a;a=function(){var u=Bl(c);d.call(u)}}var c=Wc(t,0,!1,null,null,!1,!1,"",Vu);return t._reactRootContainer=c,t[$s]=c.current,mn(t.nodeType===8?t.parentNode:t),Ur(function(){ni(s,c,r,a)}),c}function oi(t,s,r,a,n){var l=r._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var d=n;n=function(){var c=Bl(i);d.call(c)}}ni(s,i,t,n)}else i=zg(r,s,t,n,a);return Bl(i)}Qx=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Va(s.pendingLanes);r!==0&&(uc(s,r|1),Ft(s,Ke()),!(ze&6)&&(fa=Ke()+500,hr()))}break;case 13:Ur(function(){var a=Fs(t,1);if(a!==null){var n=Tt();bs(a,t,1,n)}}),Vc(t,1)}};xc=function(t){if(t.tag===13){var s=Fs(t,134217728);if(s!==null){var r=Tt();bs(s,t,134217728,r)}Vc(t,134217728)}};Zx=function(t){if(t.tag===13){var s=nr(t),r=Fs(t,s);if(r!==null){var a=Tt();bs(r,t,s,a)}Vc(t,s)}};em=function(){return $e};tm=function(t,s){var r=$e;try{return $e=t,s()}finally{$e=r}};uo=function(t,s,r){switch(s){case"input":if(ro(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==t&&a.form===t.form){var n=Ql(a);if(!n)throw Error(ee(90));Ix(a),ro(a,n)}}}break;case"textarea":Lx(t,r);break;case"select":s=r.value,s!=null&&na(t,!!r.multiple,s,!1)}};_x=Rc;Bx=Ur;var Lg={usingClientEntryPoint:!1,Events:[Dn,Qr,Ql,Rx,Ox,Rc]},La={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mg={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hx(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Gl=sl.inject(Mg),Cs=sl}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;Kt.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(s))throw Error(ee(200));return Dg(t,s,null,r)};Kt.createRoot=function(t,s){if(!Yc(t))throw Error(ee(299));var r=!1,a="",n=w0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Wc(t,1,!1,null,null,r,!1,a,n),t[$s]=s.current,mn(t.nodeType===8?t.parentNode:t),new Hc(s)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Hx(s),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Ur(t)};Kt.hydrate=function(t,s,r){if(!ii(s))throw Error(ee(200));return oi(null,t,s,!0,r)};Kt.hydrateRoot=function(t,s,r){if(!Yc(t))throw Error(ee(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",i=w0;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=N0(s,null,t,1,r??null,n,!1,l,i),t[$s]=s.current,mn(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new li(s)};Kt.render=function(t,s,r){if(!ii(s))throw Error(ee(200));return oi(null,t,s,!1,r)};Kt.unmountComponentAtNode=function(t){if(!ii(t))throw Error(ee(40));return t._reactRootContainer?(Ur(function(){oi(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};Kt.unstable_batchedUpdates=Rc;Kt.unstable_renderSubtreeIntoContainer=function(t,s,r,a){if(!ii(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return oi(t,s,r,!1,a)};Kt.version="18.3.1-next-f1338f8080-20240426";function k0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k0)}catch(t){console.error(t)}}k0(),kx.exports=Kt;var Ug=kx.exports,Hu=Ug;qi.createRoot=Hu.createRoot,qi.hydrateRoot=Hu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nn(){return Nn=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Nn.apply(this,arguments)}var Qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qs||(Qs={}));const Yu="popstate";function $g(t){t===void 0&&(t={});function s(a,n){let{pathname:l,search:i,hash:d}=a.location;return Vo("",{pathname:l,search:i,hash:d},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Wl(n)}return Rg(s,r,null,t)}function at(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Jc(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Fg(){return Math.random().toString(36).substr(2,8)}function Ju(t,s){return{usr:t.state,key:t.key,idx:s}}function Vo(t,s,r,a){return r===void 0&&(r=null),Nn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Na(s):s,{state:r,key:s&&s.key||a||Fg()})}function Wl(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Na(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Rg(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,d=Qs.Pop,c=null,u=g();u==null&&(u=0,i.replaceState(Nn({},i.state,{idx:u}),""));function g(){return(i.state||{idx:null}).idx}function b(){d=Qs.Pop;let D=g(),f=D==null?null:D-u;u=D,c&&c({action:d,location:w.location,delta:f})}function y(D,f){d=Qs.Push;let x=Vo(w.location,D,f);u=g()+1;let m=Ju(x,u),p=w.createHref(x);try{i.pushState(m,"",p)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(p)}l&&c&&c({action:d,location:w.location,delta:1})}function j(D,f){d=Qs.Replace;let x=Vo(w.location,D,f);u=g();let m=Ju(x,u),p=w.createHref(x);i.replaceState(m,"",p),l&&c&&c({action:d,location:w.location,delta:0})}function v(D){let f=n.location.origin!=="null"?n.location.origin:n.location.href,x=typeof D=="string"?D:Wl(D);return x=x.replace(/ $/,"%20"),at(f,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,f)}let w={get action(){return d},get location(){return t(n,i)},listen(D){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Yu,b),c=D,()=>{n.removeEventListener(Yu,b),c=null}},createHref(D){return s(n,D)},createURL:v,encodeLocation(D){let f=v(D);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:j,go(D){return i.go(D)}};return w}var Gu;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gu||(Gu={}));function Og(t,s,r){return r===void 0&&(r="/"),_g(t,s,r)}function _g(t,s,r,a){let n=typeof s=="string"?Na(s):s,l=Gc(n.pathname||"/",r);if(l==null)return null;let i=S0(t);Bg(i);let d=null;for(let c=0;d==null&&c<i.length;++c){let u=ef(l);d=Kg(i[c],u)}return d}function S0(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,d)=>{let c={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=ir([a,c.relativePath]),g=r.concat(c);l.children&&l.children.length>0&&(at(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),S0(l.children,s,g,u)),!(l.path==null&&!l.index)&&s.push({path:u,score:Xg(u,l.index),routesMeta:g})};return t.forEach((l,i)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))n(l,i);else for(let c of C0(l.path))n(l,i,c)}),s}function C0(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=C0(a.join("/")),d=[];return d.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&d.push(...i),d.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bg(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:qg(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Wg=/^:[\w-]+$/,Vg=3,Hg=2,Yg=1,Jg=10,Gg=-2,Xu=t=>t==="*";function Xg(t,s){let r=t.split("/"),a=r.length;return r.some(Xu)&&(a+=Gg),s&&(a+=Hg),r.filter(n=>!Xu(n)).reduce((n,l)=>n+(Wg.test(l)?Vg:l===""?Yg:Jg),a)}function qg(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function Kg(t,s,r){let{routesMeta:a}=t,n={},l="/",i=[];for(let d=0;d<a.length;++d){let c=a[d],u=d===a.length-1,g=l==="/"?s:s.slice(l.length)||"/",b=Qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},g),y=c.route;if(!b)return null;Object.assign(n,b.params),i.push({params:n,pathname:ir([l,b.pathname]),pathnameBase:nf(ir([l,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(l=ir([l,b.pathnameBase]))}return i}function Qg(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Zg(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),d=n.slice(1);return{params:a.reduce((u,g,b)=>{let{paramName:y,isOptional:j}=g;if(y==="*"){let w=d[b]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const v=d[b];return j&&!v?u[y]=void 0:u[y]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:t}}function Zg(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Jc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,d,c)=>(a.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function ef(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Jc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Gc(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}const tf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sf=t=>tf.test(t);function rf(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Na(t):t,l;if(r)if(sf(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Jc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=qu(r.substring(1),"/"):l=qu(r,s)}else l=s;return{pathname:l,search:lf(a),hash:of(n)}}function qu(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Vi(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function af(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function T0(t,s){let r=af(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function E0(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Na(t):(n=Nn({},t),at(!n.pathname||!n.pathname.includes("?"),Vi("?","pathname","search",n)),at(!n.pathname||!n.pathname.includes("#"),Vi("#","pathname","hash",n)),at(!n.search||!n.search.includes("#"),Vi("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,d;if(i==null)d=r;else{let b=s.length-1;if(!a&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),b-=1;n.pathname=y.join("/")}d=b>=0?s[b]:"/"}let c=rf(n,d),u=i&&i!=="/"&&i.endsWith("/"),g=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||g)&&(c.pathname+="/"),c}const ir=t=>t.join("/").replace(/\/\/+/g,"/"),nf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,of=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P0=["post","put","patch","delete"];new Set(P0);const df=["get",...P0];new Set(df);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wn(){return wn=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},wn.apply(this,arguments)}const Xc=o.createContext(null),uf=o.createContext(null),_r=o.createContext(null),ci=o.createContext(null),pr=o.createContext({outlet:null,matches:[],isDataRoute:!1}),A0=o.createContext(null);function xf(t,s){let{relative:r}=s===void 0?{}:s;zn()||at(!1);let{basename:a,navigator:n}=o.useContext(_r),{hash:l,pathname:i,search:d}=I0(t,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:ir([a,i])),n.createHref({pathname:c,search:d,hash:l})}function zn(){return o.useContext(ci)!=null}function wa(){return zn()||at(!1),o.useContext(ci).location}function D0(t){o.useContext(_r).static||o.useLayoutEffect(t)}function Ze(){let{isDataRoute:t}=o.useContext(pr);return t?Cf():mf()}function mf(){zn()||at(!1);let t=o.useContext(Xc),{basename:s,future:r,navigator:a}=o.useContext(_r),{matches:n}=o.useContext(pr),{pathname:l}=wa(),i=JSON.stringify(T0(n,r.v7_relativeSplatPath)),d=o.useRef(!1);return D0(()=>{d.current=!0}),o.useCallback(function(u,g){if(g===void 0&&(g={}),!d.current)return;if(typeof u=="number"){a.go(u);return}let b=E0(u,JSON.parse(i),l,g.relative==="path");t==null&&s!=="/"&&(b.pathname=b.pathname==="/"?s:ir([s,b.pathname])),(g.replace?a.replace:a.push)(b,g.state,g)},[s,a,i,l,t])}function hf(){let{matches:t}=o.useContext(pr),s=t[t.length-1];return s?s.params:{}}function I0(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=o.useContext(_r),{matches:n}=o.useContext(pr),{pathname:l}=wa(),i=JSON.stringify(T0(n,a.v7_relativeSplatPath));return o.useMemo(()=>E0(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function pf(t,s){return gf(t,s)}function gf(t,s,r,a){zn()||at(!1);let{navigator:n}=o.useContext(_r),{matches:l}=o.useContext(pr),i=l[l.length-1],d=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=wa(),g;if(s){var b;let D=typeof s=="string"?Na(s):s;c==="/"||(b=D.pathname)!=null&&b.startsWith(c)||at(!1),g=D}else g=u;let y=g.pathname||"/",j=y;if(c!=="/"){let D=c.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(D.length).join("/")}let v=Og(t,{pathname:j}),w=vf(v&&v.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:ir([c,n.encodeLocation?n.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:ir([c,n.encodeLocation?n.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,r,a);return s&&w?o.createElement(ci.Provider,{value:{location:wn({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Qs.Pop}},w):w}function ff(){let t=Sf(),s=cf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},s),r?o.createElement("pre",{style:n},r):null,null)}const yf=o.createElement(ff,null);class bf extends o.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?o.createElement(pr.Provider,{value:this.props.routeContext},o.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jf(t){let{routeContext:s,match:r,children:a}=t,n=o.useContext(Xc);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),o.createElement(pr.Provider,{value:s},a)}function vf(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,d=(n=r)==null?void 0:n.errors;if(d!=null){let g=i.findIndex(b=>b.route.id&&(d==null?void 0:d[b.route.id])!==void 0);g>=0||at(!1),i=i.slice(0,Math.min(i.length,g+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let g=0;g<i.length;g++){let b=i[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(u=g),b.route.id){let{loaderData:y,errors:j}=r,v=b.route.loader&&y[b.route.id]===void 0&&(!j||j[b.route.id]===void 0);if(b.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((g,b,y)=>{let j,v=!1,w=null,D=null;r&&(j=d&&b.route.id?d[b.route.id]:void 0,w=b.route.errorElement||yf,c&&(u<0&&y===0?(Tf("route-fallback"),v=!0,D=null):u===y&&(v=!0,D=b.route.hydrateFallbackElement||null)));let f=s.concat(i.slice(0,y+1)),x=()=>{let m;return j?m=w:v?m=D:b.route.Component?m=o.createElement(b.route.Component,null):b.route.element?m=b.route.element:m=g,o.createElement(jf,{match:b,routeContext:{outlet:g,matches:f,isDataRoute:r!=null},children:m})};return r&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?o.createElement(bf,{location:r.location,revalidation:r.revalidation,component:w,error:j,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var z0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(z0||{}),L0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(L0||{});function Nf(t){let s=o.useContext(Xc);return s||at(!1),s}function wf(t){let s=o.useContext(uf);return s||at(!1),s}function kf(t){let s=o.useContext(pr);return s||at(!1),s}function M0(t){let s=kf(),r=s.matches[s.matches.length-1];return r.route.id||at(!1),r.route.id}function Sf(){var t;let s=o.useContext(A0),r=wf(),a=M0();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function Cf(){let{router:t}=Nf(z0.UseNavigateStable),s=M0(L0.UseNavigateStable),r=o.useRef(!1);return D0(()=>{r.current=!0}),o.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,wn({fromRouteId:s},l)))},[t,s])}const Ku={};function Tf(t,s,r){Ku[t]||(Ku[t]=!0)}function Ef(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ee(t){at(!1)}function Pf(t){let{basename:s="/",children:r=null,location:a,navigationType:n=Qs.Pop,navigator:l,static:i=!1,future:d}=t;zn()&&at(!1);let c=s.replace(/^\/*/,"/"),u=o.useMemo(()=>({basename:c,navigator:l,static:i,future:wn({v7_relativeSplatPath:!1},d)}),[c,d,l,i]);typeof a=="string"&&(a=Na(a));let{pathname:g="/",search:b="",hash:y="",state:j=null,key:v="default"}=a,w=o.useMemo(()=>{let D=Gc(g,c);return D==null?null:{location:{pathname:D,search:b,hash:y,state:j,key:v},navigationType:n}},[c,g,b,y,j,v,n]);return w==null?null:o.createElement(_r.Provider,{value:u},o.createElement(ci.Provider,{children:r,value:w}))}function Af(t){let{children:s,location:r}=t;return pf(Ho(s),r)}new Promise(()=>{});function Ho(t,s){s===void 0&&(s=[]);let r=[];return o.Children.forEach(t,(a,n)=>{if(!o.isValidElement(a))return;let l=[...s,n];if(a.type===o.Fragment){r.push.apply(r,Ho(a.props.children,l));return}a.type!==Ee&&at(!1),!a.props.index||!a.props.children||at(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Ho(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Yo.apply(this,arguments)}function Df(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,l;for(l=0;l<a.length;l++)n=a[l],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function If(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zf(t,s){return t.button===0&&(!s||s==="_self")&&!If(t)}function Jo(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let a=t[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Lf(t,s){let r=Jo(t);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(l=>{r.append(n,l)})}),r}const Mf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uf="6";try{window.__reactRouterVersion=Uf}catch{}const $f="startTransition",Qu=Sh[$f];function Ff(t){let{basename:s,children:r,future:a,window:n}=t,l=o.useRef();l.current==null&&(l.current=$g({window:n,v5Compat:!0}));let i=l.current,[d,c]=o.useState({action:i.action,location:i.location}),{v7_startTransition:u}=a||{},g=o.useCallback(b=>{u&&Qu?Qu(()=>c(b)):c(b)},[c,u]);return o.useLayoutEffect(()=>i.listen(g),[i,g]),o.useEffect(()=>Ef(a),[a]),o.createElement(Pf,{basename:s,children:r,location:d.location,navigationType:d.action,navigator:i,future:a})}const Rf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Of=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Go=o.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:d,target:c,to:u,preventScrollReset:g,viewTransition:b}=s,y=Df(s,Mf),{basename:j}=o.useContext(_r),v,w=!1;if(typeof u=="string"&&Of.test(u)&&(v=u,Rf))try{let m=new URL(window.location.href),p=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Gc(p.pathname,j);p.origin===m.origin&&S!=null?u=S+p.search+p.hash:w=!0}catch{}let D=xf(u,{relative:n}),f=_f(u,{replace:i,state:d,target:c,preventScrollReset:g,relative:n,viewTransition:b});function x(m){a&&a(m),m.defaultPrevented||f(m)}return o.createElement("a",Yo({},y,{href:v||D,onClick:w||l?a:x,ref:r,target:c}))});var Zu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zu||(Zu={}));var ex;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ex||(ex={}));function _f(t,s){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:d}=s===void 0?{}:s,c=Ze(),u=wa(),g=I0(t,{relative:i});return o.useCallback(b=>{if(zf(b,r)){b.preventDefault();let y=a!==void 0?a:Wl(u)===Wl(g);c(t,{replace:y,state:n,preventScrollReset:l,relative:i,viewTransition:d})}},[u,c,g,a,n,r,t,l,i,d])}function qc(t){let s=o.useRef(Jo(t)),r=o.useRef(!1),a=wa(),n=o.useMemo(()=>Lf(a.search,r.current?null:s.current),[a.search]),l=Ze(),i=o.useCallback((d,c)=>{const u=Jo(typeof d=="function"?d(n):d);r.current=!0,l("?"+u,c)},[l,n]);return[n,i]}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U0=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=o.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:l,iconNode:i,...d},c)=>o.createElement("svg",{ref:c,...Wf,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:U0("lucide",n),...d},[...i.map(([u,g])=>o.createElement(u,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(t,s)=>{const r=o.forwardRef(({className:a,...n},l)=>o.createElement(Vf,{ref:l,iconNode:s,className:U0(`lucide-${Bf(t)}`,a),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=re("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=re("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=re("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=re("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=re("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=re("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=re("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=re("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=re("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=re("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=re("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=re("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=re("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=re("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=re("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=re("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=re("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=re("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=re("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V0="http://localhost:5001/api/auth",xy=async t=>{const s=await fetch(`${V0}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await s.json();if(!s.ok)throw new Error(r.message||"Signup failed");return r},my=async t=>{const s=await fetch(`${V0}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await s.json();if(!s.ok)throw new Error(r.message||"Login failed");return r},hy=()=>{const t=Ze(),[s,r]=o.useState("signin"),[a,n]=o.useState(!1),[l,i]=o.useState(""),[d,c]=o.useState(!1),[u,g]=o.useState({email:"",password:""}),b=j=>{g({...u,[j.target.name]:j.target.value}),i("")},y=async j=>{j.preventDefault(),n(!0),i("");try{const v=await my(u);localStorage.setItem("token",v.token),localStorage.setItem("user",JSON.stringify(v.user)),t("/dashboard")}catch(v){i(v.message)}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-l from-orange-500/20 via-purple-500/20 to-transparent rounded-full blur-3xl"}),e.jsxs("div",{className:"relative bg-dark-700 rounded-2xl p-8 w-full max-w-md border border-gray-800",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 bg-dark-600 rounded-full flex items-center justify-center hover:bg-dark-500 transition-colors",children:e.jsx(ge,{size:16,className:"text-gray-400"})}),e.jsxs("div",{className:"flex bg-dark-600 rounded-full p-1 w-fit mb-8",children:[e.jsx(Go,{to:"/user/signup",className:"px-6 py-2 rounded-full text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"Sign up"}),e.jsx("button",{onClick:()=>r("signin"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${s==="signin"?"bg-dark-500 text-white":"text-gray-400 hover:text-white"}`,children:"Sign in"})]}),e.jsx("h1",{className:"text-2xl font-semibold text-white mb-6",children:"Welcome back"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:u.email,onChange:b,className:"w-full bg-dark-600 border border-gray-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:d?"text":"password",name:"password",placeholder:"Enter your password",value:u.password,onChange:b,className:"w-full bg-dark-600 border border-gray-700 rounded-lg pl-11 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>c(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",children:d?e.jsx(Zc,{size:18}):e.jsx(Xt,{size:18})})]}),e.jsx("div",{className:"text-right",children:e.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Forgot password?"})}),l&&e.jsx("p",{className:"text-red-500 text-sm",children:l}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-white text-black font-medium py-3 rounded-lg hover:bg-gray-100 transition-colors mt-2 disabled:opacity-50",children:a?"Signing in...":"Sign in"})]}),e.jsxs("div",{className:"flex items-center gap-4 my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-700"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"OR SIGN IN WITH"}),e.jsx("div",{className:"flex-1 h-px bg-gray-700"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 flex items-center justify-center gap-2 bg-dark-600 border border-gray-700 rounded-lg py-3 hover:bg-dark-500 transition-colors",children:e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsx("button",{className:"flex-1 flex items-center justify-center gap-2 bg-dark-600 border border-gray-700 rounded-lg py-3 hover:bg-dark-500 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})})]}),e.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Don't have an account?"," ",e.jsx(Go,{to:"/user/signup",className:"text-white hover:underline",children:"Sign up"})]})]})]})},py="http://localhost:5001/api",ix=[{code:"+1",name:"United States",flag:""},{code:"+1",name:"Canada",flag:""},{code:"+44",name:"United Kingdom",flag:""},{code:"+91",name:"India",flag:""},{code:"+61",name:"Australia",flag:""},{code:"+49",name:"Germany",flag:""},{code:"+33",name:"France",flag:""},{code:"+81",name:"Japan",flag:""},{code:"+86",name:"China",flag:""},{code:"+55",name:"Brazil",flag:""},{code:"+52",name:"Mexico",flag:""},{code:"+34",name:"Spain",flag:""},{code:"+39",name:"Italy",flag:""},{code:"+7",name:"Russia",flag:""},{code:"+82",name:"South Korea",flag:""},{code:"+31",name:"Netherlands",flag:""},{code:"+46",name:"Sweden",flag:""},{code:"+41",name:"Switzerland",flag:""},{code:"+65",name:"Singapore",flag:""},{code:"+971",name:"UAE",flag:""},{code:"+966",name:"Saudi Arabia",flag:""},{code:"+27",name:"South Africa",flag:""},{code:"+234",name:"Nigeria",flag:""},{code:"+254",name:"Kenya",flag:""},{code:"+62",name:"Indonesia",flag:""},{code:"+60",name:"Malaysia",flag:""},{code:"+63",name:"Philippines",flag:""},{code:"+66",name:"Thailand",flag:""},{code:"+84",name:"Vietnam",flag:""},{code:"+92",name:"Pakistan",flag:""},{code:"+880",name:"Bangladesh",flag:""},{code:"+94",name:"Sri Lanka",flag:""},{code:"+977",name:"Nepal",flag:""}],ox=()=>{const t=Ze(),[s]=qc(),r=s.get("ref"),[a,n]=o.useState("signup"),[l,i]=o.useState(!1),[d,c]=o.useState(""),[u,g]=o.useState(!1),[b,y]=o.useState(""),[j,v]=o.useState(ix[0]),w=o.useRef(null),[D,f]=o.useState(!1),[x,m]=o.useState({firstName:"",email:"",phone:"",countryCode:"+1",password:""});o.useEffect(()=>{const z=G=>{w.current&&!w.current.contains(G.target)&&g(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const p=ix.filter(z=>z.name.toLowerCase().includes(b.toLowerCase())||z.code.includes(b)),S=z=>{v(z),m({...x,countryCode:z.code}),g(!1),y("")},E=z=>{m({...x,[z.target.name]:z.target.value}),c("")},P=async z=>{var G;z.preventDefault(),i(!0),c("");try{const V=await xy(x);if(localStorage.setItem("token",V.token),localStorage.setItem("user",JSON.stringify(V.user)),r&&((G=V.user)!=null&&G._id))try{await fetch(`${py}/ib/register-referral`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:V.user._id,referralCode:r})}),console.log("Referral registered:",r)}catch(U){console.error("Error registering referral:",U)}t("/dashboard")}catch(V){c(V.message)}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 sm:p-6 md:p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-l from-orange-500/20 via-purple-500/20 to-transparent rounded-full blur-3xl"}),e.jsxs("div",{className:"relative bg-dark-700 rounded-2xl p-6 sm:p-8 w-full max-w-md border border-gray-800 mx-4 sm:mx-0",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 bg-dark-600 rounded-full flex items-center justify-center hover:bg-dark-500 transition-colors",children:e.jsx(ge,{size:16,className:"text-gray-400"})}),e.jsxs("div",{className:"flex bg-dark-600 rounded-full p-1 w-fit mb-8",children:[e.jsx("button",{onClick:()=>n("signup"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${a==="signup"?"bg-dark-500 text-white":"text-gray-400 hover:text-white"}`,children:"Sign up"}),e.jsx(Go,{to:"/user/login",className:"px-6 py-2 rounded-full text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"Sign in"})]}),e.jsx("h1",{className:"text-2xl font-semibold text-white mb-6",children:"Create an account"}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsx("input",{type:"text",name:"firstName",placeholder:"Enter your name",value:x.firstName,onChange:E,className:"w-full bg-dark-600 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:x.email,onChange:E,className:"w-full bg-dark-600 border border-gray-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors"})]}),e.jsxs("div",{className:"flex relative",ref:w,children:[e.jsxs("button",{type:"button",onClick:()=>g(!u),className:"flex items-center gap-1 sm:gap-2 bg-dark-600 border border-gray-700 rounded-l-lg px-2 sm:px-3 py-3 border-r-0 hover:bg-dark-500 transition-colors min-w-[70px] sm:min-w-[90px]",children:[e.jsx("span",{className:"text-base sm:text-lg",children:j.flag}),e.jsx("span",{className:"text-gray-400 text-xs sm:text-sm hidden sm:inline",children:j.code}),e.jsx(F0,{size:14,className:"text-gray-500"})]}),u&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 sm:w-72 bg-dark-600 border border-gray-700 rounded-lg shadow-xl z-50 max-h-64 overflow-hidden",children:[e.jsx("div",{className:"p-2 border-b border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search country...",value:b,onChange:z=>y(z.target.value),className:"w-full bg-dark-700 border border-gray-700 rounded-lg pl-9 pr-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-gray-600"})]})}),e.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[p.map((z,G)=>e.jsxs("button",{type:"button",onClick:()=>S(z),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-dark-500 transition-colors text-left",children:[e.jsx("span",{className:"text-lg",children:z.flag}),e.jsx("span",{className:"text-white text-sm flex-1",children:z.name}),e.jsx("span",{className:"text-gray-500 text-sm",children:z.code})]},`${z.code}-${G}`)),p.length===0&&e.jsx("p",{className:"text-gray-500 text-sm text-center py-3",children:"No countries found"})]})]}),e.jsx("input",{type:"tel",name:"phone",placeholder:"Enter phone number",value:x.phone,onChange:E,className:"flex-1 bg-dark-600 border border-gray-700 rounded-r-lg px-3 sm:px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors min-w-0"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:D?"text":"password",name:"password",placeholder:"Create password",value:x.password,onChange:E,className:"w-full bg-dark-600 border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>f(!D),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",children:D?e.jsx(Zc,{size:18}):e.jsx(Xt,{size:18})})]}),d&&e.jsx("p",{className:"text-red-500 text-sm",children:d}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-white text-black font-medium py-3 rounded-lg hover:bg-gray-100 transition-colors mt-2 disabled:opacity-50",children:l?"Creating account...":"Create an account"})]}),e.jsxs("div",{className:"flex items-center gap-4 my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-700"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"OR SIGN IN WITH"}),e.jsx("div",{className:"flex-1 h-px bg-gray-700"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 flex items-center justify-center gap-2 bg-dark-600 border border-gray-700 rounded-lg py-3 hover:bg-dark-500 transition-colors",children:e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsx("button",{className:"flex-1 flex items-center justify-center gap-2 bg-dark-600 border border-gray-700 rounded-lg py-3 hover:bg-dark-500 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})})]}),e.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["By creating an account, you agree to our"," ",e.jsx("a",{href:"#",className:"text-white hover:underline",children:"Terms & Service"})]})]})]})},al="http://localhost:5001/api",gy=()=>{const t=Ze(),[s,r]=o.useState("Dashboard"),[a,n]=o.useState(!1),[l,i]=o.useState([]),[d,c]=o.useState(!0),[u,g]=o.useState([]),[b,y]=o.useState(!0),[j,v]=o.useState(0),[w,D]=o.useState(0),[f,x]=o.useState([]),[m,p]=o.useState(!1),S=o.useRef(null),E=o.useRef(null),P=JSON.parse(localStorage.getItem("user")||"{}"),[z,G]=o.useState(window.innerWidth<768);o.useEffect(()=>{const k=()=>{const W=window.innerWidth<768;G(W)};return window.addEventListener("resize",k),window.innerWidth<768&&!sessionStorage.getItem("viewChecked")&&(sessionStorage.setItem("viewChecked","true"),t("/mobile")),()=>window.removeEventListener("resize",k)},[t]),o.useEffect(()=>{V(),P._id&&(U(),F(),I())},[P._id]);const V=async()=>{try{const W=await(await fetch(`${al}/prop/status`)).json();W.success&&p(W.enabled)}catch(k){console.error("Error fetching challenge status:",k)}},U=async()=>{var k;try{const C=await(await fetch(`${al}/wallet/${P._id}`)).json();v(((k=C.wallet)==null?void 0:k.balance)||0)}catch(W){console.error("Error fetching wallet:",W)}},F=async()=>{try{const W=await(await fetch(`${al}/trading-accounts/user/${P._id}`)).json();x(W.accounts||[])}catch(k){console.error("Error fetching accounts:",k)}},I=async()=>{var k;try{const C=await(await fetch(`${al}/trades/user/${P._id}`)).json();D(((k=C.trades)==null?void 0:k.length)||0)}catch(W){console.error("Error fetching trades:",W)}};o.useEffect(()=>{const k=async()=>{var C;c(!0);try{const $=await fetch("https://api.coingecko.com/api/v3/news");if($.ok){const h=await $.json();i(((C=h.data)==null?void 0:C.slice(0,6))||[])}else i([{title:"Bitcoin Surges Past $100K Milestone",description:"BTC reaches new all-time high amid institutional buying",updated_at:Date.now(),url:"#"},{title:"Ethereum 2.0 Staking Rewards Increase",description:"ETH staking yields hit 5.2% APY",updated_at:Date.now()-36e5,url:"#"},{title:"SEC Approves New Crypto ETFs",description:"Multiple spot crypto ETFs get regulatory approval",updated_at:Date.now()-72e5,url:"#"},{title:"DeFi Total Value Locked Hits $200B",description:"Decentralized finance continues rapid growth",updated_at:Date.now()-108e5,url:"#"},{title:"Major Bank Launches Crypto Custody",description:"Traditional finance embraces digital assets",updated_at:Date.now()-144e5,url:"#"},{title:"NFT Market Shows Recovery Signs",description:"Trading volume up 40% month-over-month",updated_at:Date.now()-18e6,url:"#"}])}catch{i([{title:"Bitcoin Surges Past $100K Milestone",description:"BTC reaches new all-time high amid institutional buying",updated_at:Date.now(),url:"#"},{title:"Ethereum 2.0 Staking Rewards Increase",description:"ETH staking yields hit 5.2% APY",updated_at:Date.now()-36e5,url:"#"},{title:"SEC Approves New Crypto ETFs",description:"Multiple spot crypto ETFs get regulatory approval",updated_at:Date.now()-72e5,url:"#"},{title:"DeFi Total Value Locked Hits $200B",description:"Decentralized finance continues rapid growth",updated_at:Date.now()-108e5,url:"#"},{title:"Major Bank Launches Crypto Custody",description:"Traditional finance embraces digital assets",updated_at:Date.now()-144e5,url:"#"},{title:"NFT Market Shows Recovery Signs",description:"Trading volume up 40% month-over-month",updated_at:Date.now()-18e6,url:"#"}])}c(!1)};k();const W=setInterval(k,3e5);return()=>clearInterval(W)},[]),o.useEffect(()=>{y(!0),g([{date:"2026-01-08",time:"08:30",country:"US",event:"Non-Farm Payrolls",impact:"high",forecast:"180K",previous:"227K"},{date:"2026-01-08",time:"10:00",country:"US",event:"ISM Services PMI",impact:"high",forecast:"53.5",previous:"52.1"},{date:"2026-01-09",time:"08:30",country:"US",event:"Initial Jobless Claims",impact:"medium",forecast:"210K",previous:"211K"},{date:"2026-01-09",time:"14:00",country:"US",event:"FOMC Meeting Minutes",impact:"high",forecast:"-",previous:"-"},{date:"2026-01-10",time:"08:30",country:"US",event:"CPI m/m",impact:"high",forecast:"0.3%",previous:"0.3%"},{date:"2026-01-10",time:"08:30",country:"US",event:"Core CPI m/m",impact:"high",forecast:"0.2%",previous:"0.3%"},{date:"2026-01-13",time:"08:30",country:"US",event:"PPI m/m",impact:"medium",forecast:"0.2%",previous:"0.4%"},{date:"2026-01-14",time:"08:30",country:"US",event:"Retail Sales m/m",impact:"high",forecast:"0.5%",previous:"0.7%"}]),y(!1)},[]);const X=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}],T=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")};return o.useEffect(()=>{if(S.current){S.current.innerHTML="";const k=document.createElement("script");k.src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js",k.async=!0,k.innerHTML=JSON.stringify({feedMode:"all_symbols",colorTheme:"dark",isTransparent:!0,displayMode:"regular",width:"100%",height:"100%",locale:"en"}),S.current.appendChild(k)}if(E.current){E.current.innerHTML="";const k=document.createElement("script");k.src="https://s3.tradingview.com/external-embedding/embed-widget-events.js",k.async=!0,k.innerHTML=JSON.stringify({colorTheme:"dark",isTransparent:!0,width:"100%",height:"100%",locale:"en",importanceFilter:"0,1",countryFilter:"us,eu,gb,jp,cn"}),E.current.appendChild(k)}},[]),e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[e.jsxs("aside",{className:`${a?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"X"})})}),e.jsx("nav",{className:"flex-1 px-2",children:X.map(k=>e.jsxs("button",{onClick:()=>t(k.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${s===k.name?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:a?"":k.name,children:[e.jsx(k.icon,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:k.name})]},k.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:T,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white transition-colors rounded-lg",title:a?"":"Log Out",children:[e.jsx(Zt,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Log Out"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Dashboard"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back!"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-lg flex items-center justify-center",children:e.jsx(Qe,{size:20,className:"text-accent-green"})}),e.jsx("button",{onClick:()=>t("/wallet"),className:"text-accent-green text-xs font-medium hover:underline",children:"View"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Wallet Balance"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",j.toLocaleString()]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(it,{size:20,className:"text-blue-500"})}),e.jsxs("span",{className:"text-gray-500 text-xs",children:[f.length," accounts"]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Trades"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:w.toLocaleString()})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Yt,{size:20,className:"text-orange-500"})}),e.jsx("span",{className:"text-red-500 text-xs font-medium",children:"-2.4%"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Charges"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"$1,892.50"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Xo,{size:20,className:"text-purple-500"})}),e.jsx("span",{className:"text-accent-green text-xs font-medium",children:"+15.3%"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total PnL"}),e.jsx("p",{className:"text-white text-2xl font-bold text-accent-green",children:"+$8,432.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(ty,{size:20,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"Market News"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Real-time updates from TradingView"})]})]}),e.jsx("div",{className:"h-96 overflow-hidden rounded-lg",children:e.jsx("div",{ref:S,className:"tradingview-widget-container h-full",children:e.jsx("div",{className:"tradingview-widget-container__widget h-full"})})})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(gr,{size:20,className:"text-purple-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"Economic Calendar"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Real-time events from TradingView"})]})]}),e.jsx("div",{className:"h-96 overflow-hidden rounded-lg",children:e.jsx("div",{ref:E,className:"tradingview-widget-container h-full",children:e.jsx("div",{className:"tradingview-widget-container__widget h-full"})})})]})]})]})]})]})},Ji="eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiJiYmRlZGVjYWJjMDAzOTczNTQ3ODk2Y2NlYjgyNzY2NSIsImFjY2Vzc1J1bGVzIjpbeyJpZCI6InRyYWRpbmctYWNjb3VudC1tYW5hZ2VtZW50LWFwaSIsIm1ldGhvZHMiOlsidHJhZGluZy1hY2NvdW50LW1hbmFnZW1lbnQtYXBpOnJlc3Q6cHVibGljOio6KiJdLCJyb2xlcyI6WyJyZWFkZXIiXSwicmVzb3VyY2VzIjpbImFjY291bnQ6JFVTRVJfSUQkOjJkNjM4M2E1LWJiNjgtNGJhOS1hNDBmLTE4OTA5NGQ3YzE0ZiJdfSx7ImlkIjoibWV0YWFwaS1yZXN0LWFwaSIsIm1ldGhvZHMiOlsibWV0YWFwaS1hcGk6cmVzdDpwdWJsaWM6KjoqIl0sInJvbGVzIjpbInJlYWRlciIsIndyaXRlciJdLCJyZXNvdXJjZXMiOlsiYWNjb3VudDokVVNFUl9JRCQ6MmQ2MzgzYTUtYmI2OC00YmE5LWE0MGYtMTg5MDk0ZDdjMTRmIl19LHsiaWQiOiJtZXRhYXBpLXJwYy1hcGkiLCJtZXRob2RzIjpbIm1ldGFhcGktYXBpOndzOnB1YmxpYzoqOioiXSwicm9sZXMiOlsicmVhZGVyIiwid3JpdGVyIl0sInJlc291cmNlcyI6WyJhY2NvdW50OiRVU0VSX0lEJDoyZDYzODNhNS1iYjY4LTRiYTktYTQwZi0xODkwOTRkN2MxNGYiXX0seyJpZCI6Im1ldGFhcGktcmVhbC10aW1lLXN0cmVhbWluZy1hcGkiLCJtZXRob2RzIjpbIm1ldGFhcGktYXBpOndzOnB1YmxpYzoqOioiXSwicm9sZXMiOlsicmVhZGVyIiwid3JpdGVyIl0sInJlc291cmNlcyI6WyJhY2NvdW50OiRVU0VSX0lEJDoyZDYzODNhNS1iYjY4LTRiYTktYTQwZi0xODkwOTRkN2MxNGYiXX0seyJpZCI6Im1ldGFzdGF0cy1hcGkiLCJtZXRob2RzIjpbIm1ldGFzdGF0cy1hcGk6cmVzdDpwdWJsaWM6KjoqIl0sInJvbGVzIjpbInJlYWRlciJdLCJyZXNvdXJjZXMiOlsiYWNjb3VudDokVVNFUl9JRCQ6MmQ2MzgzYTUtYmI2OC00YmE5LWE0MGYtMTg5MDk0ZDdjMTRmIl19XSwiaWdub3JlUmF0ZUxpbWl0cyI6ZmFsc2UsInRva2VuSWQiOiIyMDIxMDIxMyIsImltcGVyc29uYXRlZCI6ZmFsc2UsInJlYWxVc2VySWQiOiJiYmRlZGVjYWJjMDAzOTczNTQ3ODk2Y2NlYjgyNzY2NSIsImlhdCI6MTc2Nzg2OTUyMywiZXhwIjoxNzc1NjQ1NTIzfQ.OKKP9THiaQN1GRbWEM2HaCRYkNeEyIwB63Jocxyuy-8jR0Gv2fQFncUnWAoVF7jBZRT3Eii4-HqcU7aXZGJZyFyRyekAROD4XEoWfvEDRHGuyi3Mzqt3II3apH-wlFIQDBaH4qtiCCHXPTw1-dDOSDrjcXzVhvx-1sU88Iq_0QBgz7MUJ7zKFWWzB3usBtbixcRHG6fhKFwLlKePry8BMbj9xrvySuyySj0wnl8Qw4Fgo9KYLc4UdliEhNAqN3MPumH4yccM-BZjrYWN_FMLZHCSfutjSSwjoQrwwOTyf8NsHnqJNXfcboV7IZkP5iGth6-hEMNb-UKmdsFZLQjenEI-Ql3xwo-i7luILfqErquc9ZIuhTZVLlAQPiyiiXDCwL6DlJRj625tiAJKgAKz65Bz8NiXZ0T37r9OCKcwK6Q7Rr8LK1bluHGBk3iewpJgpNzPa92GmjBhrbY5EaNfr8Os84zdLOGpww8nljfEqdy40boOl-2hZ8S9FpV6drnlSLD-aAhKbq3yIR9_S_tXqwstIl00_1JUKHpJHZn04zvIXtqYFGgiAxcY7AXKrk1Bty_xulnaiQ9dXuSj8boJJkeoaq6wwJGNe_aA-ytdQAKz6PSxtXRcQVB-PsKzhC8wKCBbxru9zCwDkSXJUPtEKN5c25eMvsTq5JNc5sgbrds",Ga="2d6383a5-bb68-4ba9-a40f-189094d7c14f";console.log("MetaAPI initialized with account:",Ga);class fy{constructor(){this.ws=null,this.subscribers=new Map,this.prices=new Map,this.symbols=[],this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5}async getSymbols(){try{const s=new AbortController,r=setTimeout(()=>s.abort(),5e3),a=await fetch(`https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/${Ga}/symbols`,{headers:{"auth-token":Ji,"Content-Type":"application/json"},signal:s.signal});if(clearTimeout(r),!a.ok)throw new Error("Failed to fetch symbols");const n=await a.json();return this.symbols=n,n}catch(s){return console.error("Error fetching symbols:",s),[]}}async getSymbolSpecification(s){try{const r=await fetch(`https://mt-client-api-v1.new-york.agiliumtrade.ai/users/current/accounts/${Ga}/symbols/${s}/specification`,{headers:{"auth-token":Ji,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch symbol specification");return await r.json()}catch(r){return console.error("Error fetching symbol specification:",r),null}}async getSymbolPrice(s){try{const r=await fetch(`http://localhost:5001/api/prices/${s}`);if(!r.ok)throw new Error("Failed to fetch symbol price");const a=await r.json();return a.success&&a.price?(this.prices.set(s,a.price),a.price):null}catch(r){return console.error("Error fetching symbol price:",r),null}}async getAllPrices(s){try{const r=await fetch("http://localhost:5001/api/prices/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbols:s})});if(!r.ok)throw new Error("Failed to fetch prices");const a=await r.json();return a.success&&a.prices?(Object.entries(a.prices).forEach(([n,l])=>{this.prices.set(n,l)}),a.prices):{}}catch(r){return console.error("Error fetching all prices:",r),{}}}connect(s=[]){if(this.ws&&this.ws.readyState===WebSocket.OPEN)return;const r="wss://mt-client-api-v1.new-york.agiliumtrade.ai/ws";this.ws=new WebSocket(r),this.ws.onopen=()=>{console.log("MetaAPI WebSocket connected"),this.isConnected=!0,this.reconnectAttempts=0,this.ws.send(JSON.stringify({type:"authenticate",accountId:Ga,token:Ji})),s.length>0&&this.subscribeToSymbols(s)},this.ws.onmessage=a=>{try{const n=JSON.parse(a.data);this.handleMessage(n)}catch(n){console.error("Error parsing WebSocket message:",n)}},this.ws.onerror=a=>{console.error("MetaAPI WebSocket error:",a)},this.ws.onclose=()=>{console.log("MetaAPI WebSocket disconnected"),this.isConnected=!1,this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>{console.log(`Reconnecting... Attempt ${this.reconnectAttempts}`),this.connect(Array.from(this.subscribers.keys()))},3e3*this.reconnectAttempts))}}handleMessage(s){if(s.type==="prices"||s.type==="price"){const r=s.symbol,a={bid:s.bid,ask:s.ask,spread:s.ask-s.bid,time:s.time};this.prices.set(r,a);const n=this.subscribers.get(r);n&&n(a)}}subscribeToSymbols(s){if(!this.ws||this.ws.readyState!==WebSocket.OPEN){console.warn("WebSocket not connected");return}this.ws.send(JSON.stringify({type:"subscribeToMarketData",accountId:Ga,symbols:s,subscriptions:[{type:"quotes"}]}))}subscribe(s,r){this.subscribers.set(s,r),this.isConnected&&this.subscribeToSymbols([s])}unsubscribe(s){this.subscribers.delete(s)}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.subscribers.clear(),this.isConnected=!1}getPrice(s){return this.prices.get(s)}}const Tn=new fy,jr="http://localhost:5001/api",yy=()=>{var yr,_t;const t=Ze(),[s,r]=o.useState("home"),[a,n]=o.useState(!1),[l,i]=o.useState(!1),[d,c]=o.useState(null),[u,g]=o.useState(null),[b,y]=o.useState([]),[j,v]=o.useState(null),[w,D]=o.useState([]),[f,x]=o.useState([]),[m,p]=o.useState([]),[S,E]=o.useState([]),[P,z]=o.useState({}),[G,V]=o.useState(!0),[U,F]=o.useState(""),[I,X]=o.useState("All"),[T,k]=o.useState("positions"),[W,C]=o.useState([{symbol:"XAUUSD",name:"Gold"}]),[$,h]=o.useState("XAUUSD"),[A,_]=o.useState("market"),[te,O]=o.useState("BUY"),[oe,de]=o.useState("0.01"),[Q,me]=o.useState(""),[ae,be]=o.useState(""),[Y,Te]=o.useState(!1),[H,he]=o.useState({balance:0,equity:0,credit:0,freeMargin:0,usedMargin:0,floatingPnl:0}),ye=o.useRef(null);o.useRef(null);const L=["All","Starred","Forex","Metals","Crypto"],ce=[{symbol:"EURUSD",name:"EUR/USD",bid:0,ask:0,spread:0,category:"Forex",starred:!0},{symbol:"GBPUSD",name:"GBP/USD",bid:0,ask:0,spread:0,category:"Forex",starred:!0},{symbol:"USDJPY",name:"USD/JPY",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"USDCHF",name:"USD/CHF",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"AUDUSD",name:"AUD/USD",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"NZDUSD",name:"NZD/USD",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"USDCAD",name:"USD/CAD",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"EURGBP",name:"EUR/GBP",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"EURJPY",name:"EUR/JPY",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"GBPJPY",name:"GBP/JPY",bid:0,ask:0,spread:0,category:"Forex",starred:!1},{symbol:"XAUUSD",name:"Gold",bid:0,ask:0,spread:0,category:"Metals",starred:!0},{symbol:"XAGUSD",name:"Silver",bid:0,ask:0,spread:0,category:"Metals",starred:!1},{symbol:"BTCUSD",name:"Bitcoin",bid:0,ask:0,spread:0,category:"Crypto",starred:!0},{symbol:"ETHUSD",name:"Ethereum",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"BNBUSD",name:"BNB",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"SOLUSD",name:"Solana",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"XRPUSD",name:"XRP",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"ADAUSD",name:"Cardano",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"DOGEUSD",name:"Dogecoin",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"DOTUSD",name:"Polkadot",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"MATICUSD",name:"Polygon",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"LTCUSD",name:"Litecoin",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"AVAXUSD",name:"Avalanche",bid:0,ask:0,spread:0,category:"Crypto",starred:!1},{symbol:"LINKUSD",name:"Chainlink",bid:0,ask:0,spread:0,category:"Crypto",starred:!1}];o.useEffect(()=>{const J=()=>{window.innerWidth>=768&&(sessionStorage.removeItem("viewChecked"),t("/dashboard"))};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[t]),o.useEffect(()=>{const J=JSON.parse(localStorage.getItem("user")||"{}");if(!J._id){t("/user/login");return}return g(J),E(ce),Z(J._id),R(),()=>{Tn.disconnect()}},[]),o.useEffect(()=>{if(j){Pe(),M(),le(),ie();const J=setInterval(()=>{Pe(),ie()},5e3);return()=>clearInterval(J)}},[j]),o.useEffect(()=>{R();const J=setInterval(()=>{R()},1e3);return()=>clearInterval(J)},[]);const R=async()=>{try{const J=S.map(ve=>ve.symbol),je=await Tn.getAllPrices(J);Object.keys(je).length>0&&(V(!1),z(ve=>({...ve,...je})),E(ve=>ve.map(pe=>{const Ae=je[pe.symbol];if(Ae&&Ae.bid){const Ne=Ae.bid,Se=Ae.ask||Ae.bid,Ue=Math.abs(Se-Ne)||Ne*1e-4;return{...pe,bid:Ne,ask:Se,spread:Ue}}return pe})))}catch(J){console.error("Live prices error:",J)}},Z=async J=>{var je;try{const pe=await(await fetch(`${jr}/trading-accounts/user/${J}`)).json();y(pe.accounts||[]),((je=pe.accounts)==null?void 0:je.length)>0&&v(pe.accounts[0])}catch{}V(!1)},Pe=async()=>{if(j)try{const je=await(await fetch(`${jr}/trade/open/${j._id}`)).json();je.success&&D(je.trades||[])}catch{}},M=async()=>{if(j)try{const je=await(await fetch(`${jr}/trade/pending/${j._id}`)).json();je.success&&x(je.orders||[])}catch{}},le=async()=>{if(j)try{const je=await(await fetch(`${jr}/trade/history/${j._id}?limit=50`)).json();je.success&&p(je.trades||[])}catch{}},ie=async()=>{if(j)try{const J=encodeURIComponent(JSON.stringify(P)),ve=await(await fetch(`${jr}/trade/summary/${j._id}?prices=${J}`)).json();ve.success&&he(ve.summary)}catch{}},fe=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")},Le=J=>{c(J),i(!0)},xt=async()=>{if(!j||!d||Y)return;Te(!0);const J=P[d.symbol]||{};try{const ve=await(await fetch(`${jr}/trade/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:u._id,tradingAccountId:j._id,symbol:d.symbol,segment:d.category,side:te,orderType:A==="market"?"MARKET":"PENDING",quantity:parseFloat(oe),bid:J.bid||0,ask:J.ask||0,sl:Q?parseFloat(Q):null,tp:ae?parseFloat(ae):null})})).json();ve.success?(i(!1),Pe(),ie(),alert("Order executed successfully!")):alert(ve.message||"Order failed")}catch{alert("Error executing order")}Te(!1)},yt=async J=>{const je=w.find(pe=>pe._id===J);if(!je)return;const ve=P[je.symbol]||{};try{(await(await fetch(`${jr}/trade/close/${J}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bid:ve.bid||je.openPrice,ask:ve.ask||je.openPrice})})).json()).success&&(Pe(),le(),ie())}catch{}},ot=S.filter(J=>{const je=J.symbol.toLowerCase().includes(U.toLowerCase())||J.name.toLowerCase().includes(U.toLowerCase()),ve=I==="All"||I==="Starred"&&J.starred||J.category===I;return je&&ve}),St=[{name:"Wallet",icon:Qe,path:"/wallet"},{name:"Copy Trade",icon:Gt,path:"/copytrade"},{name:"IB Program",icon:We,path:"/ib"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}],Me=J=>P[J]||{bid:0,ask:0},et=J=>{const je=Me(J.symbol),ve=J.side==="BUY"?je.bid:je.ask;return ve?J.side==="BUY"?(ve-J.openPrice)*J.quantity*(J.contractSize||1e5):(J.openPrice-ve)*J.quantity*(J.contractSize||1e5):0},mt=()=>{var J,je,ve,pe,Ae;return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Welcome back,"}),e.jsx("h1",{className:"text-white text-xl font-bold",children:(u==null?void 0:u.firstName)||"Trader"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"p-2 bg-dark-800 rounded-full",children:e.jsx(Hf,{size:20,className:"text-gray-400"})}),e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-bold",children:((J=u==null?void 0:u.firstName)==null?void 0:J.charAt(0))||"U"})})]})]}),j&&e.jsxs("div",{className:"bg-gradient-to-br from-accent-green/20 to-dark-800 rounded-2xl p-5 mb-6 border border-accent-green/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Trading Account"}),e.jsx("p",{className:"text-white font-medium",children:j.accountId})]}),e.jsx("select",{value:j._id,onChange:Ne=>{const Se=b.find(Ue=>Ue._id===Ne.target.value);Se&&v(Se)},className:"bg-dark-700 text-white text-sm rounded-lg px-3 py-1 border border-gray-700",children:b.map(Ne=>e.jsx("option",{value:Ne._id,children:Ne.accountId},Ne._id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Balance"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(je=H.balance)==null?void 0:je.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Equity"}),e.jsxs("p",{className:`text-2xl font-bold ${H.floatingPnl>=0?"text-green-500":"text-red-500"}`,children:["$",(ve=H.equity)==null?void 0:ve.toFixed(2)]})]}),H.credit>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Credit"}),e.jsxs("p",{className:"text-purple-400 font-semibold",children:["$",(pe=H.credit)==null?void 0:pe.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Free Margin"}),e.jsxs("p",{className:"text-white font-semibold",children:["$",(Ae=H.freeMargin)==null?void 0:Ae.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>t("/wallet"),className:"flex flex-col items-center p-3 bg-dark-800 rounded-xl",children:[e.jsx(Qe,{size:24,className:"text-accent-green mb-1"}),e.jsx("span",{className:"text-white text-xs",children:"Wallet"})]}),e.jsxs("button",{onClick:()=>r("market"),className:"flex flex-col items-center p-3 bg-dark-800 rounded-xl",children:[e.jsx(sx,{size:24,className:"text-blue-500 mb-1"}),e.jsx("span",{className:"text-white text-xs",children:"Market"})]}),e.jsxs("button",{onClick:()=>r("trade"),className:"flex flex-col items-center p-3 bg-dark-800 rounded-xl",children:[e.jsx(it,{size:24,className:"text-yellow-500 mb-1"}),e.jsx("span",{className:"text-white text-xs",children:"Trade"})]}),e.jsxs("button",{onClick:()=>t("/copytrade"),className:"flex flex-col items-center p-3 bg-dark-800 rounded-xl",children:[e.jsx(Gt,{size:24,className:"text-purple-500 mb-1"}),e.jsx("span",{className:"text-white text-xs",children:"Copy"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Open Positions"}),e.jsxs("span",{className:"text-accent-green text-sm",children:[w.length," active"]})]}),w.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No open positions"}):e.jsxs("div",{className:"space-y-2",children:[w.slice(0,3).map(Ne=>{const Se=et(Ne);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:Ne.symbol}),e.jsxs("p",{className:`text-xs ${Ne.side==="BUY"?"text-green-500":"text-red-500"}`,children:[Ne.side,"  ",Ne.quantity," lots"]})]}),e.jsxs("p",{className:`font-semibold ${Se>=0?"text-green-500":"text-red-500"}`,children:[Se>=0?"+":"","$",Se.toFixed(2)]})]},Ne._id)}),w.length>3&&e.jsxs("button",{onClick:()=>r("trade"),className:"w-full text-accent-green text-sm py-2",children:["View all ",w.length," positions "]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Market Watch"}),e.jsx("div",{className:"space-y-2",children:S.filter(Ne=>Ne.starred).slice(0,4).map(Ne=>{var Ue;const Se=Me(Ne.symbol);return e.jsxs("button",{onClick:()=>Le(Ne),className:"w-full flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cn,{size:16,className:"text-yellow-500 fill-yellow-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-white font-medium",children:Ne.symbol}),e.jsx("p",{className:"text-gray-500 text-xs",children:Ne.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-white",children:((Ue=Se.bid)==null?void 0:Ue.toFixed(Ne.category==="Forex"?5:2))||"-"}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Spread: ",((Se.ask-Se.bid)*(Ne.category==="Forex"?1e4:1)).toFixed(1)]})]})]},Ne.symbol)})})]})]})},Ie=()=>e.jsxs("div",{className:"flex flex-col h-full pb-16",children:[e.jsxs("div",{className:"p-4 bg-dark-800 border-b border-gray-800",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx(kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),e.jsx("input",{type:"text",placeholder:"Search instruments...",value:U,onChange:J=>F(J.target.value),className:"w-full bg-dark-700 border border-gray-700 rounded-xl pl-10 pr-4 py-3 text-white placeholder-gray-500"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:L.map(J=>e.jsx("button",{onClick:()=>X(J),className:`px-4 py-1.5 rounded-full text-sm whitespace-nowrap ${I===J?"bg-accent-green text-black":"bg-dark-700 text-gray-400"}`,children:J},J))})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:ot.map(J=>{var ve,pe;const je=Me(J.symbol);return e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),E(Ne=>Ne.map(Se=>Se.symbol===J.symbol?{...Se,starred:!Se.starred}:Se))},className:"p-1",children:e.jsx(Cn,{size:18,className:J.starred?"text-yellow-500 fill-yellow-500":"text-gray-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-white font-medium",children:J.symbol}),e.jsx("p",{className:"text-gray-500 text-xs",children:J.name})]})]}),e.jsxs("button",{onClick:()=>Le(J),className:"flex items-center gap-3 active:bg-dark-700 rounded-lg p-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-red-500 text-sm",children:((ve=je.bid)==null?void 0:ve.toFixed(J.category==="Forex"?5:2))||"-"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"Bid"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-green-500 text-sm",children:((pe=je.ask)==null?void 0:pe.toFixed(J.category==="Forex"?5:2))||"-"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"Ask"})]})]}),e.jsx("button",{onClick:()=>{W.find(Ne=>Ne.symbol===J.symbol)||C(Ne=>[...Ne,{symbol:J.symbol,name:J.name}]),h(J.symbol),r("chart")},className:"p-2 bg-dark-700 rounded-lg",children:e.jsx(tx,{size:18,className:"text-accent-green"})})]},J.symbol)})})]}),It=()=>{var J,je,ve;return e.jsxs("div",{className:"flex flex-col h-full pb-16",children:[e.jsx("div",{className:"bg-dark-800 p-3 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Bal:"}),e.jsxs("span",{className:"text-white ml-1",children:["$",(J=H.balance)==null?void 0:J.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Eq:"}),e.jsxs("span",{className:`ml-1 ${H.floatingPnl>=0?"text-green-500":"text-red-500"}`,children:["$",(je=H.equity)==null?void 0:je.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"P/L:"}),e.jsxs("span",{className:`ml-1 ${H.floatingPnl>=0?"text-green-500":"text-red-500"}`,children:[H.floatingPnl>=0?"+":"","$",(ve=H.floatingPnl)==null?void 0:ve.toFixed(2)]})]})]})}),e.jsx("div",{className:"flex border-b border-gray-800",children:["positions","pending","history"].map(pe=>e.jsx("button",{onClick:()=>k(pe),className:`flex-1 py-3 text-sm font-medium ${T===pe?"text-accent-green border-b-2 border-accent-green":"text-gray-500"}`,children:pe==="positions"?`Positions (${w.length})`:pe==="pending"?`Pending (${f.length})`:"History"},pe))}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[T==="positions"&&(w.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx(it,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{children:"No open positions"})]}):e.jsx("div",{className:"divide-y divide-gray-800",children:w.map(pe=>{var Se,Ue;const Ae=et(pe),Ne=Me(pe.symbol);return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:pe.symbol}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${pe.side==="BUY"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:pe.side})]}),e.jsxs("span",{className:`font-semibold ${Ae>=0?"text-green-500":"text-red-500"}`,children:[Ae>=0?"+":"","$",Ae.toFixed(2)]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Volume"}),e.jsx("p",{className:"text-white",children:pe.quantity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Open"}),e.jsx("p",{className:"text-white",children:(Se=pe.openPrice)==null?void 0:Se.toFixed(5)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Current"}),e.jsx("p",{className:"text-white",children:((Ue=pe.side==="BUY"?Ne.bid:Ne.ask)==null?void 0:Ue.toFixed(5))||"-"})]})]}),e.jsx("button",{onClick:()=>yt(pe._id),className:"w-full py-2 bg-red-500/20 text-red-500 rounded-lg text-sm font-medium",children:"Close Trade"})]},pe._id)})})),T==="pending"&&(f.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx(Et,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{children:"No pending orders"})]}):e.jsx("div",{className:"divide-y divide-gray-800",children:f.map(pe=>{var Ae;return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:pe.symbol}),e.jsxs("p",{className:"text-gray-500 text-xs",children:[pe.orderType,"  ",pe.quantity," lots"]})]}),e.jsx("p",{className:"text-white",children:(Ae=pe.pendingPrice)==null?void 0:Ae.toFixed(5)})]})},pe._id)})})),T==="history"&&(m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx(os,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{children:"No trade history"})]}):e.jsx("div",{className:"divide-y divide-gray-800",children:m.map(pe=>{var Ae;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:pe.symbol}),e.jsx("span",{className:`text-xs ${pe.side==="BUY"?"text-green-500":"text-red-500"}`,children:pe.side})]}),e.jsxs("span",{className:`font-semibold ${pe.realizedPnl>=0?"text-green-500":"text-red-500"}`,children:[pe.realizedPnl>=0?"+":"","$",(Ae=pe.realizedPnl)==null?void 0:Ae.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[pe.quantity," lots"]}),e.jsx("span",{children:new Date(pe.closedAt).toLocaleDateString()})]})]},pe._id)})}))]})]})},tt=J=>({EURUSD:"OANDA:EURUSD",GBPUSD:"OANDA:GBPUSD",USDJPY:"OANDA:USDJPY",USDCHF:"OANDA:USDCHF",AUDUSD:"OANDA:AUDUSD",NZDUSD:"OANDA:NZDUSD",USDCAD:"OANDA:USDCAD",EURGBP:"OANDA:EURGBP",EURJPY:"OANDA:EURJPY",GBPJPY:"OANDA:GBPJPY",XAUUSD:"OANDA:XAUUSD",XAGUSD:"OANDA:XAGUSD",BTCUSD:"COINBASE:BTCUSD",ETHUSD:"COINBASE:ETHUSD",LTCUSD:"COINBASE:LTCUSD",XRPUSD:"BITSTAMP:XRPUSD",BNBUSD:"BINANCE:BNBUSDT",SOLUSD:"COINBASE:SOLUSD",ADAUSD:"COINBASE:ADAUSD",DOGEUSD:"BINANCE:DOGEUSDT",DOTUSD:"COINBASE:DOTUSD",MATICUSD:"COINBASE:MATICUSD",AVAXUSD:"COINBASE:AVAXUSD",LINKUSD:"COINBASE:LINKUSD"})[J]||`OANDA:${J}`,st=()=>{var Ae,Ne;const J=S.find(Se=>Se.symbol===$),je=(J==null?void 0:J.category)==="Forex",ve=je?5:2,pe=je?1e4:1;return e.jsxs("div",{className:"flex flex-col h-screen",children:[e.jsxs("div",{className:"flex items-center bg-dark-800 border-b border-gray-800 overflow-x-auto shrink-0",style:{height:"40px"},children:[W.map(Se=>e.jsxs("button",{onClick:()=>h(Se.symbol),className:`flex items-center gap-2 px-3 py-2 text-xs whitespace-nowrap border-r border-gray-800 ${$===Se.symbol?"bg-dark-700 text-white":"text-gray-500"}`,children:[Se.symbol,W.length>1&&e.jsx(ge,{size:12,onClick:Ue=>{Ue.stopPropagation(),C(Wr=>Wr.filter(ds=>ds.symbol!==Se.symbol)),$===Se.symbol&&W.length>1&&h(W[0].symbol)},className:"hover:text-red-500"})]},Se.symbol)),e.jsx("button",{onClick:()=>r("market"),className:"px-3 py-2 text-gray-500 hover:text-white",children:e.jsx(qe,{size:16})})]}),e.jsx("div",{className:"flex-1 bg-[#0d0d0d] relative min-h-0",ref:ye,children:e.jsx("iframe",{src:`https://s.tradingview.com/widgetembed/?frameElementId=tradingview_mobile&symbol=${tt($)}&interval=5&hidesidetoolbar=1&hidetoptoolbar=0&symboledit=1&saveimage=0&toolbarbg=0d0d0d&studies=[]&theme=dark&style=1&timezone=Etc%2FUTC&withdateranges=0&showpopupbutton=0&studies_overrides={}&overrides={}&enabled_features=[]&disabled_features=["left_toolbar","header_fullscreen_button"]&locale=en&utm_source=localhost&utm_medium=widget_new&utm_campaign=chart`,style:{width:"100%",height:"100%",border:"none"},allowFullScreen:!0,title:"TradingView Chart"},$)}),e.jsxs("div",{className:"bg-dark-800 border-t border-gray-800 shrink-0",style:{paddingBottom:"64px"},children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-[10px]",children:"Bid"}),e.jsx("p",{className:"text-red-500 font-semibold text-sm",children:((Ae=Me($).bid)==null?void 0:Ae.toFixed(ve))||"-"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-[10px]",children:"Spread"}),e.jsx("p",{className:"text-white text-xs",children:((Me($).ask-Me($).bid)*pe).toFixed(1)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-[10px]",children:"Ask"}),e.jsx("p",{className:"text-green-500 font-semibold text-sm",children:((Ne=Me($).ask)==null?void 0:Ne.toFixed(ve))||"-"})]})]}),e.jsxs("div",{className:"flex gap-2 px-3 pb-2",children:[e.jsx("button",{onClick:()=>{const Se=S.find(Ue=>Ue.symbol===$)||{symbol:$,category:"Forex"};c(Se),O("SELL"),i(!0)},className:"flex-1 py-3 bg-red-500 text-white font-semibold rounded-xl",children:"SELL"}),e.jsx("button",{onClick:()=>{const Se=S.find(Ue=>Ue.symbol===$)||{symbol:$,category:"Forex"};c(Se),O("BUY"),i(!0)},className:"flex-1 py-3 bg-green-500 text-white font-semibold rounded-xl",children:"BUY"})]})]})]})};return G?e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:e.jsx(Be,{size:32,className:"text-accent-green animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-dark-900 flex flex-col",children:[e.jsxs("main",{className:"flex-1 overflow-hidden",children:[s==="home"&&mt(),s==="market"&&Ie(),s==="trade"&&It(),s==="chart"&&st()]}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-dark-800 border-t border-gray-800 z-40 safe-area-pb",children:e.jsx("div",{className:"flex items-center justify-around h-16",children:[{id:"home",icon:fr,label:"Home"},{id:"market",icon:sx,label:"Market"},{id:"trade",icon:it,label:"Trade"},{id:"chart",icon:tx,label:"Chart"},{id:"more",icon:Qc,label:"More"}].map(J=>e.jsxs("button",{onClick:()=>J.id==="more"?n(!0):r(J.id),className:`flex flex-col items-center justify-center flex-1 h-full ${s===J.id?"text-accent-green":"text-gray-500"}`,children:[e.jsx(J.icon,{size:22}),e.jsx("span",{className:"text-[10px] mt-1",children:J.label})]},J.id))})}),l&&d&&e.jsxs("div",{className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>i(!1)}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-dark-800 rounded-t-3xl animate-slide-up max-h-[80vh] overflow-auto",children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-10 h-1 bg-gray-600 rounded-full"})}),e.jsxs("div",{className:"px-4 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:d.symbol}),e.jsx("p",{className:"text-gray-500 text-sm",children:d.name})]}),e.jsx("button",{onClick:()=>i(!1),className:"p-2",children:e.jsx(ge,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-dark-700 rounded-xl",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Bid"}),e.jsx("p",{className:"text-red-500 text-xl font-bold",children:((yr=Me(d.symbol).bid)==null?void 0:yr.toFixed(d.category==="Forex"?5:2))||"-"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Spread"}),e.jsx("p",{className:"text-white",children:((Me(d.symbol).ask-Me(d.symbol).bid)*(d.category==="Forex"?1e4:1)).toFixed(1)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Ask"}),e.jsx("p",{className:"text-green-500 text-xl font-bold",children:((_t=Me(d.symbol).ask)==null?void 0:_t.toFixed(d.category==="Forex"?5:2))||"-"})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>_("market"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${A==="market"?"bg-accent-green text-black":"bg-dark-700 text-gray-400"}`,children:"Market"}),e.jsx("button",{onClick:()=>_("pending"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${A==="pending"?"bg-accent-green text-black":"bg-dark-700 text-gray-400"}`,children:"Pending"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Volume (Lots)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>de(J=>Math.max(.01,parseFloat(J)-.01).toFixed(2)),className:"p-3 bg-dark-700 rounded-lg",children:e.jsx(Vl,{size:18,className:"text-white"})}),e.jsx("input",{type:"text",value:oe,onChange:J=>de(J.target.value),className:"flex-1 bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white text-center"}),e.jsx("button",{onClick:()=>de(J=>(parseFloat(J)+.01).toFixed(2)),className:"p-3 bg-dark-700 rounded-lg",children:e.jsx(qe,{size:18,className:"text-white"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Stop Loss"}),e.jsx("input",{type:"text",value:Q,onChange:J=>me(J.target.value),placeholder:"Optional",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Take Profit"}),e.jsx("input",{type:"text",value:ae,onChange:J=>be(J.target.value),placeholder:"Optional",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{O("SELL"),xt()},disabled:Y,className:"flex-1 py-4 bg-red-500 text-white font-semibold rounded-xl disabled:opacity-50",children:Y?"Executing...":"SELL"}),e.jsx("button",{onClick:()=>{O("BUY"),xt()},disabled:Y,className:"flex-1 py-4 bg-green-500 text-white font-semibold rounded-xl disabled:opacity-50",children:Y?"Executing...":"BUY"})]})]})]})]}),a&&e.jsxs("div",{className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>n(!1)}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-dark-800 rounded-t-3xl animate-slide-up",children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-10 h-1 bg-gray-600 rounded-full"})}),e.jsxs("div",{className:"px-4 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"More"}),e.jsx("button",{onClick:()=>n(!1),className:"p-2",children:e.jsx(ge,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"space-y-1",children:[St.map(J=>e.jsxs("button",{onClick:()=>{t(J.path),n(!1)},className:"w-full flex items-center justify-between p-4 rounded-xl hover:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-dark-700 rounded-full flex items-center justify-center",children:e.jsx(J.icon,{size:20,className:"text-accent-green"})}),e.jsx("span",{className:"text-white font-medium",children:J.name})]}),e.jsx(Er,{size:20,className:"text-gray-500"})]},J.name)),e.jsx("button",{onClick:fe,className:"w-full flex items-center justify-between p-4 rounded-xl hover:bg-red-500/10 mt-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:e.jsx(Zt,{size:20,className:"text-red-500"})}),e.jsx("span",{className:"text-red-500 font-medium",children:"Log Out"})]})})]})]})]})]})]})},Ps="http://localhost:5001/api",by=()=>{var _t,J,je,ve,pe,Ae,Ne,Se,Ue,Wr,ds,Ln,bt,Mn,br,ka;const t=Ze(),[s]=qc(),[r,a]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState("Account"),[c,u]=o.useState(!1),[g,b]=o.useState("Real"),[y,j]=o.useState([]),[v,w]=o.useState([]),[D,f]=o.useState([]),[x,m]=o.useState(!1),[p,S]=o.useState(0),[E,P]=o.useState(!0),[z,G]=o.useState(!1),[V,U]=o.useState(!1),[F,I]=o.useState(!1),[X,T]=o.useState(!1),[k,W]=o.useState(!1),[C,$]=o.useState(!1),[h,A]=o.useState(null),[_,te]=o.useState(()=>{const B=localStorage.getItem("pinSecurityEnabled");return B!==null?JSON.parse(B):!0}),[O,oe]=o.useState(null),[de,Q]=o.useState(null),[me,ae]=o.useState(["","","",""]),[be,Y]=o.useState(["","","",""]),[Te,H]=o.useState(["","","",""]),[he,ye]=o.useState(""),[L,ce]=o.useState(["","","",""]),[R,Z]=o.useState(""),[Pe,M]=o.useState(""),le=x?["Real","Demo","Challenge","Archived"]:["Real","Demo","Archived"],ie=JSON.parse(localStorage.getItem("user")||"{}"),fe=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}];o.useEffect(()=>{const B=s.get("failed"),K=s.get("reason");B==="true"&&K&&(l(decodeURIComponent(K)),a(!0),b("Challenge"),t("/account",{replace:!0})),ot(),Le(),ie._id?(St(),yt(),xt()):P(!1)},[ie._id]);const Le=async()=>{try{const K=await(await fetch(`${Ps}/prop/status`)).json();K.success&&m(K.enabled)}catch(B){console.error("Error fetching challenge status:",B)}},xt=async()=>{try{const K=await(await fetch(`${Ps}/prop/my-accounts/${ie._id}`)).json();K.success&&f(K.accounts||[])}catch(B){console.error("Error fetching challenge accounts:",B)}},yt=async()=>{var B;try{const ke=await(await fetch(`${Ps}/wallet/${ie._id}`)).json();S(((B=ke.wallet)==null?void 0:B.balance)||0)}catch(K){console.error("Error fetching wallet:",K)}},ot=async()=>{try{const K=await(await fetch(`${Ps}/account-types`)).json();j(K.accountTypes||[])}catch(B){console.error("Error fetching account types:",B)}},St=async()=>{P(!0);try{const K=await(await fetch(`${Ps}/trading-accounts/user/${ie._id}`)).json();w(K.accounts||[])}catch(B){console.error("Error fetching accounts:",B)}P(!1)},Me=(B,K,ke,Es,zt="pin")=>{if(K.length>1&&(K=K.slice(-1)),K&&!/^\d$/.test(K))return;const ht=[...ke];if(ht[B]=K,Es(ht),K&&B<3){const es=document.getElementById(`${zt}-${B+1}`);es&&(es.focus(),es.select())}},et=(B,K,ke,Es,zt="pin")=>{if(B.key==="Backspace"){if(!ke[K]&&K>0){const ht=document.getElementById(`${zt}-${K-1}`);if(ht){const es=[...ke];es[K-1]="",Es(es),ht.focus()}}}else if(B.key==="ArrowLeft"&&K>0){const ht=document.getElementById(`${zt}-${K-1}`);ht&&ht.focus()}else if(B.key==="ArrowRight"&&K<3){const ht=document.getElementById(`${zt}-${K+1}`);ht&&ht.focus()}else B.key==="Enter"&&ke.every(es=>es!=="")&&(z?Ie():F?tt():X?st():V&&It())},mt=B=>{B.target.select()},Ie=async()=>{if(!O){Z("Please select an account type");return}const B=me.join("");if(B.length!==4){Z("Please enter a 4-digit PIN");return}if(!ie._id){Z("Please login to create an account");return}try{const K=await fetch(`${Ps}/trading-accounts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ie._id,accountTypeId:O._id,pin:B})}),ke=await K.json();K.ok?(M("Account created successfully!"),G(!1),ae(["","","",""]),oe(null),St(),setTimeout(()=>M(""),3e3)):Z(ke.message||"Failed to create account")}catch(K){console.error("Account creation error:",K),Z("Error creating account. Please try again.")}},It=async()=>{const B=Te.join(""),K=be.join("");if(B.length!==4||K.length!==4){Z("Please enter valid 4-digit PINs");return}try{const ke=await fetch(`${Ps}/trading-accounts/${de._id}/change-pin`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPin:B,newPin:K})}),Es=await ke.json();ke.ok?(M("PIN changed successfully!"),U(!1),H(["","","",""]),Y(["","","",""]),Q(null),setTimeout(()=>M(""),3e3)):Z(Es.message)}catch{Z("Error changing PIN")}},tt=async()=>{const B=L.join("");if(!he||parseFloat(he)<=0){Z("Please enter a valid amount");return}if(parseFloat(he)>p){Z("Insufficient wallet balance");return}if(_&&B.length!==4){Z("Please enter your 4-digit PIN");return}try{const K=await fetch(`${Ps}/trading-accounts/${de._id}/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ie._id,amount:parseFloat(he),pin:_?B:"0000",direction:"deposit",skipPinVerification:!_})}),ke=await K.json();K.ok?(M("Funds transferred successfully!"),I(!1),ye(""),ce(["","","",""]),Q(null),St(),yt(),setTimeout(()=>M(""),3e3)):Z(ke.message||"Transfer failed")}catch(K){console.error("Transfer error:",K),Z("Error transferring funds")}},st=async()=>{const B=L.join("");if(!he||parseFloat(he)<=0){Z("Please enter a valid amount");return}if(parseFloat(he)>de.balance){Z("Insufficient account balance");return}if(_&&B.length!==4){Z("Please enter your 4-digit PIN");return}try{const K=await fetch(`${Ps}/trading-accounts/${de._id}/transfer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ie._id,amount:parseFloat(he),pin:_?B:"0000",direction:"withdraw",skipPinVerification:!_})}),ke=await K.json();K.ok?(M("Funds withdrawn to main wallet!"),T(!1),ye(""),ce(["","","",""]),Q(null),St(),yt(),setTimeout(()=>M(""),3e3)):Z(ke.message||"Withdrawal failed")}catch(K){console.error("Withdraw error:",K),Z("Error withdrawing funds")}},yr=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[e.jsxs("aside",{className:`${c?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"X"})})}),e.jsx("nav",{className:"flex-1 px-2",children:fe.map(B=>e.jsxs("button",{onClick:()=>t(B.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${i===B.name?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:c?"":B.name,children:[e.jsx(B.icon,{size:18,className:"flex-shrink-0"}),c&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:B.name})]},B.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:yr,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white transition-colors rounded-lg",title:c?"":"Log Out",children:[e.jsx(Zt,{size:18,className:"flex-shrink-0"}),c&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Log Out"})]})})]}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-6",children:[Pe&&e.jsxs("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 flex items-center gap-2",children:[e.jsx(He,{size:18})," ",Pe]}),R&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500",children:R}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-white",children:"My Accounts"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:St,className:"p-2 hover:bg-dark-700 rounded-lg transition-colors",children:e.jsx(Be,{size:18,className:`text-gray-400 ${E?"animate-spin":""}`})}),e.jsxs("button",{onClick:()=>{ot(),G(!0)},className:"flex items-center gap-2 bg-accent-green text-black font-medium px-4 py-2.5 rounded-lg hover:bg-accent-green/90 transition-colors",children:[e.jsx(qe,{size:18})," Open Account"]})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-6",children:le.map(B=>e.jsx("button",{onClick:()=>b(B),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g===B?"bg-dark-700 text-white border border-gray-600":"text-gray-400 hover:text-white hover:bg-dark-800"}`,children:B},B))}),E?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin"})}):g==="Challenge"?e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-xl p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-yellow-500/20 rounded-xl flex items-center justify-center",children:e.jsx(dt,{size:28,className:"text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Prop Trading Challenge"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Get funded up to $200,000. Keep up to 80% of profits."})]})]}),e.jsxs("button",{onClick:()=>t("/buy-challenge"),className:"flex items-center gap-2 bg-yellow-500 text-black font-bold px-6 py-3 rounded-xl hover:bg-yellow-400 transition-colors",children:[e.jsx(dt,{size:18})," Buy Challenge"]})]})}),D.length===0?e.jsxs("div",{className:"border border-dashed border-gray-700 rounded-xl p-16 text-center",children:[e.jsx("div",{className:"w-14 h-14 bg-dark-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dt,{size:24,className:"text-gray-500"})}),e.jsx("h3",{className:"text-white font-medium text-lg mb-2",children:"No challenge accounts yet"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Buy a challenge to start your prop trading journey"}),e.jsxs("button",{onClick:()=>t("/buy-challenge"),className:"inline-flex items-center gap-2 text-yellow-500 hover:text-yellow-400 font-medium transition-colors",children:["Buy your first challenge ",e.jsx(Ma,{size:18})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(B=>{var K;return e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${B.status==="FUNDED"?"bg-purple-500/20":B.status==="PASSED"?"bg-green-500/20":B.status==="FAILED"?"bg-red-500/20":"bg-yellow-500/20"}`,children:e.jsx(dt,{size:20,className:B.status==="FUNDED"?"text-purple-500":B.status==="PASSED"?"text-green-500":B.status==="FAILED"?"text-red-500":"text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:B.accountId}),e.jsxs("p",{className:"text-gray-500 text-xs uppercase",children:[((K=B.challengeId)==null?void 0:K.name)||"Challenge","  Phase ",B.currentPhase,"/",B.totalPhases]})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.status==="FUNDED"?"bg-purple-500/20 text-purple-500":B.status==="PASSED"?"bg-green-500/20 text-green-500":B.status==="FAILED"?"bg-red-500/20 text-red-500":B.status==="EXPIRED"?"bg-orange-500/20 text-orange-500":"bg-blue-500/20 text-blue-500"}`,children:B.status})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(B.currentBalance||0).toLocaleString()]}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Balance"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Profit"}),e.jsxs("p",{className:`font-medium ${B.currentProfitPercent>=0?"text-green-500":"text-red-500"}`,children:[B.currentProfitPercent>=0?"+":"",(B.currentProfitPercent||0).toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Daily DD"}),e.jsxs("p",{className:"text-red-500 font-medium",children:[(B.currentDailyDrawdownPercent||0).toFixed(2),"%"]})]})]})]}),e.jsx("div",{className:"flex border-t border-gray-800",children:B.status==="ACTIVE"||B.status==="FUNDED"?e.jsxs("button",{onClick:()=>{A(B),$(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3 bg-yellow-500 text-black font-medium hover:bg-yellow-400 transition-colors",children:[e.jsx(Ma,{size:16})," Start Trading"]}):e.jsx("div",{className:"flex-1 flex items-center justify-center gap-2 py-3 text-gray-500 bg-dark-700",children:B.status==="PASSED"?"Awaiting Funded Account":B.status})})]},B._id)})})]}):v.length===0?e.jsxs("div",{className:"border border-dashed border-gray-700 rounded-xl p-16 text-center",children:[e.jsx("div",{className:"w-14 h-14 bg-dark-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(it,{size:24,className:"text-gray-500"})}),e.jsxs("h3",{className:"text-white font-medium text-lg mb-2",children:["No ",g.toLowerCase()," accounts yet"]}),e.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Open your first ",g.toLowerCase()," trading account to start trading"]}),e.jsxs("button",{onClick:()=>{ot(),G(!0)},className:"inline-flex items-center gap-2 text-accent-green hover:text-accent-green/80 font-medium transition-colors",children:["Open your first ",g.toLowerCase()," account ",e.jsx(Ma,{size:18})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.filter(B=>{var K,ke;return g==="Real"?((K=B.accountTypeId)==null?void 0:K.category)!=="Demo"&&B.status==="Active":g==="Demo"?((ke=B.accountTypeId)==null?void 0:ke.category)==="Demo":g==="Archived"?B.status!=="Active":!0}).map(B=>{var K;return e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(it,{size:20,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:B.accountId}),e.jsx("p",{className:"text-gray-500 text-xs uppercase",children:((K=B.accountTypeId)==null?void 0:K.name)||"STANDARD"})]})]}),e.jsx("button",{className:"text-gray-500 hover:text-white p-1",children:e.jsx(Qc,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${B.status==="Active"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-xs ${B.status==="Active"?"text-green-500":"text-red-500"}`,children:B.status==="Active"?"Live":B.status})]})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsxs("p",{className:"text-white text-3xl font-bold",children:["$",B.balance.toLocaleString()]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Balance"})]}),e.jsxs("div",{className:"flex border-t border-gray-800",children:[e.jsxs("button",{onClick:()=>t(`/trade/${B._id}`),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-accent-green text-black font-medium hover:bg-accent-green/90 transition-colors",children:[e.jsx(Ma,{size:16})," Trade"]}),e.jsxs("button",{onClick:()=>{Q(B),I(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3 text-gray-400 hover:text-white hover:bg-dark-700 transition-colors border-l border-gray-800",children:[e.jsx(qe,{size:16})," Deposit"]}),e.jsxs("button",{onClick:()=>{Q(B),T(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3 text-gray-400 hover:text-white hover:bg-dark-700 transition-colors border-l border-gray-800",children:[e.jsx(Vl,{size:16})," Withdraw"]})]})]},B._id)})})]})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Open New Account"}),e.jsx("button",{onClick:()=>{G(!1),ae(["","","",""]),oe(null),Z("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Select Account Type"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:y.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No account types available"}):y.map(B=>e.jsxs("button",{onClick:()=>oe(B),className:`w-full p-4 rounded-lg border text-left transition-colors ${(O==null?void 0:O._id)===B._id?"border-accent-green bg-accent-green/10":"border-gray-700 bg-dark-700 hover:border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white font-medium",children:B.name}),e.jsxs("span",{className:"text-gray-400 text-sm",children:["Min: $",B.minDeposit]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:["Leverage: ",B.leverage]}),B.exposureLimit>0&&e.jsxs("span",{children:["Exposure: $",B.exposureLimit]})]})]},B._id))})]}),O&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"p-3 bg-dark-700 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Your Wallet Balance:"}),e.jsxs("span",{className:`font-medium ${p>=O.minDeposit?"text-green-500":"text-red-500"}`,children:["$",p.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Required Deposit:"}),e.jsxs("span",{className:"text-white font-medium",children:["$",O.minDeposit.toLocaleString()]})]})]}),p<O.minDeposit?e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg mb-4",children:e.jsxs("p",{className:"text-red-400 text-sm",children:["Insufficient balance. Please ",e.jsx("button",{onClick:()=>t("/wallet"),className:"text-accent-green underline",children:"deposit funds"})," to your wallet first."]})}):e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Set 4-digit Account PIN"}),e.jsx("div",{className:"flex gap-3 justify-center",children:me.map((B,K)=>e.jsx("input",{id:`pin-${K}`,type:"password",inputMode:"numeric",maxLength:1,value:B,onChange:ke=>Me(K,ke.target.value,me,ae,"pin"),onKeyDown:ke=>et(ke,K,me,ae,"pin"),onFocus:mt,autoFocus:K===0,className:"w-14 h-14 bg-dark-700 border border-gray-700 rounded-lg text-center text-white text-2xl focus:outline-none focus:border-accent-green"},K))})]})]}),R&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:R}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{G(!1),ae(["","","",""]),oe(null),Z("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),O&&p>=O.minDeposit?e.jsx("button",{onClick:Ie,className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Create Account"}):e.jsx("button",{onClick:()=>t("/wallet"),className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Deposit Funds"})]})]})}),V&&de&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Change PIN"}),e.jsx("button",{onClick:()=>{U(!1),H(["","","",""]),Y(["","","",""]),Z("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Current PIN"}),e.jsx("div",{className:"flex gap-3 justify-center",children:Te.map((B,K)=>e.jsx("input",{id:`currentpin-${K}`,type:"password",inputMode:"numeric",maxLength:1,value:B,onChange:ke=>Me(K,ke.target.value,Te,H,"currentpin"),onKeyDown:ke=>et(ke,K,Te,H,"currentpin"),onFocus:mt,autoFocus:K===0,className:"w-12 h-12 bg-dark-700 border border-gray-700 rounded-lg text-center text-white text-xl focus:outline-none focus:border-accent-green"},`current-${K}`))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"New PIN"}),e.jsx("div",{className:"flex gap-3 justify-center",children:be.map((B,K)=>e.jsx("input",{id:`newpin-${K}`,type:"password",inputMode:"numeric",maxLength:1,value:B,onChange:ke=>Me(K,ke.target.value,be,Y,"newpin"),onKeyDown:ke=>et(ke,K,be,Y,"newpin"),onFocus:mt,className:"w-12 h-12 bg-dark-700 border border-gray-700 rounded-lg text-center text-white text-xl focus:outline-none focus:border-accent-green"},`new-${K}`))})]}),R&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:R}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{U(!1),H(["","","",""]),Y(["","","",""]),Z("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:It,className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Change PIN"})]})]})}),F&&de&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Transfer to Account"}),e.jsx("button",{onClick:()=>{I(!1),ye(""),ce(["","","",""]),Z("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"p-3 bg-dark-700 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded flex items-center justify-center",children:e.jsx(it,{size:16,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:de.accountId}),e.jsx("p",{className:"text-gray-500 text-xs",children:(_t=de.accountTypeId)==null?void 0:_t.name})]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-3 pt-3 border-t border-gray-600",children:[e.jsx("span",{className:"text-gray-400",children:"Account Balance:"}),e.jsxs("span",{className:"text-white font-medium",children:["$",de.balance.toLocaleString()]})]})]}),e.jsx("div",{className:"p-3 bg-accent-green/10 border border-accent-green/30 rounded-lg mb-4",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Main Wallet Balance:"}),e.jsxs("span",{className:"text-accent-green font-medium",children:["$",p.toLocaleString()]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Transfer Amount"}),e.jsx("input",{type:"text",inputMode:"decimal",value:he,onChange:B=>{const K=B.target.value.replace(/,/g,".");(K===""||/^\d*\.?\d*$/.test(K))&&ye(K)},placeholder:"Enter amount (e.g., 100.50)",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-accent-green"}),e.jsx("div",{className:"flex justify-between mt-2",children:e.jsxs("button",{type:"button",onClick:()=>ye(p.toString()),className:"text-accent-green text-xs hover:underline",children:["Max: $",p.toLocaleString()]})})]}),_&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Enter Account PIN"}),e.jsx("div",{className:"flex gap-3 justify-center",children:L.map((B,K)=>e.jsx("input",{id:`transferpin-${K}`,type:"password",inputMode:"numeric",maxLength:1,value:B,onChange:ke=>Me(K,ke.target.value,L,ce,"transferpin"),onKeyDown:ke=>et(ke,K,L,ce,"transferpin"),onFocus:mt,autoFocus:K===0,className:"w-12 h-12 bg-dark-700 border border-gray-700 rounded-lg text-center text-white text-xl focus:outline-none focus:border-accent-green"},`transfer-${K}`))})]}),R&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:R}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{I(!1),ye(""),ce(["","","",""]),Z("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:tt,className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Transfer Funds"})]})]})}),X&&de&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Withdraw to Main Wallet"}),e.jsx("button",{onClick:()=>{T(!1),ye(""),ce(["","","",""]),Z("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"p-3 bg-dark-700 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded flex items-center justify-center",children:e.jsx(it,{size:16,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:de.accountId}),e.jsx("p",{className:"text-gray-500 text-xs",children:(J=de.accountTypeId)==null?void 0:J.name})]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-3 pt-3 border-t border-gray-600",children:[e.jsx("span",{className:"text-gray-400",children:"Available Balance:"}),e.jsxs("span",{className:"text-white font-medium",children:["$",de.balance.toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Withdraw Amount"}),e.jsx("input",{type:"text",inputMode:"decimal",value:he,onChange:B=>{const K=B.target.value.replace(/,/g,".");(K===""||/^\d*\.?\d*$/.test(K))&&ye(K)},placeholder:"Enter amount (e.g., 100.50)",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-accent-green"}),e.jsx("div",{className:"flex justify-between mt-2",children:e.jsxs("button",{type:"button",onClick:()=>ye(de.balance.toString()),className:"text-accent-green text-xs hover:underline",children:["Max: $",de.balance.toLocaleString()]})})]}),_&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Enter Account PIN"}),e.jsx("div",{className:"flex gap-3 justify-center",children:L.map((B,K)=>e.jsx("input",{id:`withdrawpin-${K}`,type:"password",inputMode:"numeric",maxLength:1,value:B,onChange:ke=>Me(K,ke.target.value,L,ce,"withdrawpin"),onKeyDown:ke=>et(ke,K,L,ce,"withdrawpin"),onFocus:mt,autoFocus:K===0,className:"w-12 h-12 bg-dark-700 border border-gray-700 rounded-lg text-center text-white text-xl focus:outline-none focus:border-accent-green"},`withdraw-${K}`))})]}),R&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:R}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{T(!1),ye(""),ce(["","","",""]),Z("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:st,className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Withdraw"})]})]})}),C&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-700",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between sticky top-0 bg-dark-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:e.jsx(dt,{size:20,className:"text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Challenge Rules"}),e.jsx("p",{className:"text-gray-500 text-sm",children:h.accountId})]})]}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-dark-700 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Account Size"}),e.jsxs("p",{className:"text-white font-bold",children:["$",(h.initialBalance||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Current Balance"}),e.jsxs("p",{className:"text-white font-bold",children:["$",(h.currentBalance||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Phase"}),e.jsxs("p",{className:"text-white font-bold",children:[h.currentPhase,"/",h.totalPhases]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Status"}),e.jsx("p",{className:`font-bold ${h.status==="ACTIVE"?"text-blue-500":h.status==="FUNDED"?"text-purple-500":"text-gray-400"}`,children:h.status})]})]})}),e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Trading Rules You Must Follow"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-dark-700 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-400",children:"Daily Drawdown Limit"}),e.jsxs("span",{className:"text-red-500 font-bold",children:[((ve=(je=h.challengeId)==null?void 0:je.rules)==null?void 0:ve.maxDailyDrawdownPercent)||5,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-dark-700 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-400",children:"Overall Drawdown Limit"}),e.jsxs("span",{className:"text-red-500 font-bold",children:[((Ae=(pe=h.challengeId)==null?void 0:pe.rules)==null?void 0:Ae.maxOverallDrawdownPercent)||10,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-dark-700 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-400",children:"Profit Target"}),e.jsxs("span",{className:"text-green-500 font-bold",children:[((Se=(Ne=h.challengeId)==null?void 0:Ne.rules)==null?void 0:Se.profitTargetPhase1Percent)||8,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-dark-700 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-400",children:"Min Lot Size"}),e.jsx("span",{className:"text-white font-bold",children:((Wr=(Ue=h.challengeId)==null?void 0:Ue.rules)==null?void 0:Wr.minLotSize)||.01})]}),e.jsxs("div",{className:"flex items-center justify-between bg-dark-700 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-400",children:"Max Lot Size"}),e.jsx("span",{className:"text-white font-bold",children:((Ln=(ds=h.challengeId)==null?void 0:ds.rules)==null?void 0:Ln.maxLotSize)||100})]}),e.jsxs("div",{className:"flex items-center justify-between bg-dark-700 rounded-lg p-3",children:[e.jsx("span",{className:"text-gray-400",children:"Max Leverage"}),e.jsxs("span",{className:"text-white font-bold",children:["1:",((Mn=(bt=h.challengeId)==null?void 0:bt.rules)==null?void 0:Mn.maxLeverage)||100]})]}),((ka=(br=h.challengeId)==null?void 0:br.rules)==null?void 0:ka.stopLossMandatory)&&e.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[e.jsx(He,{size:18,className:"text-yellow-500"}),e.jsx("span",{className:"text-yellow-500",children:"Stop Loss is REQUIRED on all trades"})]})]}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-red-500 font-medium mb-2",children:" Important Warning"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Breaking any of the above rules will result in immediate account failure. Your challenge will be terminated and no refund will be provided."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>$(!1),className:"flex-1 py-3 bg-dark-700 text-white rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:()=>{$(!1),t(`/trade/${h._id}?type=challenge`)},className:"flex-1 py-3 bg-yellow-500 text-black font-bold rounded-lg hover:bg-yellow-400 transition-colors flex items-center justify-center gap-2",children:["I Agree, Start Trading ",e.jsx(Ma,{size:18})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-md border border-red-500/30",children:[e.jsx("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center",children:e.jsx(ge,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-red-500",children:"Challenge Failed"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Your challenge account has been terminated"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-red-400 font-medium mb-2",children:"Reason for Failure:"}),e.jsx("p",{className:"text-white",children:n})]}),e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"What happened?"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"You violated the challenge rules multiple times. After 3 warnings for the same rule violation, your challenge account is automatically failed. No refund is available for failed challenges."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>a(!1),className:"w-full py-3 bg-dark-700 text-white rounded-lg hover:bg-dark-600 transition-colors",children:"View My Accounts"}),e.jsx("button",{onClick:()=>{a(!1),t("/challenge")},className:"w-full py-3 bg-yellow-500 text-black font-bold rounded-lg hover:bg-yellow-400 transition-colors",children:"Try a New Challenge"})]})]})]})})]})},Hr="http://localhost:5001/api",jy=()=>{var Q,me,ae,be;const t=Ze(),[s,r]=o.useState("Wallet"),[a,n]=o.useState(!1),[l,i]=o.useState(null),[d,c]=o.useState([]),[u,g]=o.useState(window.innerWidth<768),[b,y]=o.useState([]),[j,v]=o.useState(!0),[w,D]=o.useState(!1),[f,x]=o.useState(!1),[m,p]=o.useState(null),[S,E]=o.useState(""),[P,z]=o.useState(""),[G,V]=o.useState(""),[U,F]=o.useState(""),[I,X]=o.useState(!1),T=JSON.parse(localStorage.getItem("user")||"{}"),k=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}];o.useEffect(()=>{const Y=()=>g(window.innerWidth<768);return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),o.useEffect(()=>{W(),T._id&&(C(),$()),h()},[T._id]);const W=async()=>{try{const Te=await(await fetch(`${Hr}/prop/status`)).json();Te.success&&X(Te.enabled)}catch(Y){console.error("Error fetching challenge status:",Y)}},C=async()=>{try{const Te=await(await fetch(`${Hr}/wallet/${T._id}`)).json();i(Te.wallet)}catch(Y){console.error("Error fetching wallet:",Y)}},$=async()=>{v(!0);try{const Te=await(await fetch(`${Hr}/wallet/transactions/${T._id}`)).json();c(Te.transactions||[])}catch(Y){console.error("Error fetching transactions:",Y)}v(!1)},h=async()=>{try{const Te=await(await fetch(`${Hr}/payment-methods`)).json();y(Te.paymentMethods||[])}catch(Y){console.error("Error fetching payment methods:",Y)}},A=async()=>{if(!T._id){V("Please login to make a deposit");return}if(!S||parseFloat(S)<=0){V("Please enter a valid amount");return}if(!m){V("Please select a payment method");return}try{const Y=await fetch(`${Hr}/wallet/deposit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:T._id,amount:parseFloat(S),paymentMethod:m.type,transactionRef:P})}),Te=await Y.json();Y.ok?(F("Deposit request submitted successfully!"),D(!1),E(""),z(""),p(null),C(),$(),setTimeout(()=>F(""),3e3)):V(Te.message||"Failed to create deposit")}catch(Y){console.error("Deposit error:",Y),V("Error submitting deposit. Please try again.")}},_=async()=>{if(!S||parseFloat(S)<=0){V("Please enter a valid amount");return}if(!m){V("Please select a payment method");return}if(l&&parseFloat(S)>l.balance){V("Insufficient balance");return}try{const Y=await fetch(`${Hr}/wallet/withdraw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:T._id,amount:parseFloat(S),paymentMethod:m.type})}),Te=await Y.json();Y.ok?(F("Withdrawal request submitted successfully!"),x(!1),E(""),p(null),C(),$(),setTimeout(()=>F(""),3e3)):V(Te.message)}catch{V("Error submitting withdrawal")}},te=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")},O=Y=>{switch(Y){case"Approved":case"Completed":return e.jsx(He,{size:16,className:"text-green-500"});case"Rejected":return e.jsx($r,{size:16,className:"text-red-500"});default:return e.jsx(Et,{size:16,className:"text-yellow-500"})}},oe=Y=>{switch(Y){case"Bank Transfer":return e.jsx($0,{size:18});case"UPI":return e.jsx(ya,{size:18});case"QR Code":return e.jsx(Hl,{size:18});default:return e.jsx(Qe,{size:18})}},de=Y=>new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[u&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-800 border-b border-gray-800 px-4 py-3 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 -ml-2 hover:bg-dark-700 rounded-lg",children:e.jsx(Br,{size:22,className:"text-white"})}),e.jsx("h1",{className:"text-white font-semibold text-lg flex-1",children:"Wallet"}),e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 hover:bg-dark-700 rounded-lg",children:e.jsx(fr,{size:20,className:"text-gray-400"})})]}),!u&&e.jsxs("aside",{className:`${a?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"X"})})}),e.jsx("nav",{className:"flex-1 px-2",children:k.map(Y=>e.jsxs("button",{onClick:()=>t(Y.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${s===Y.name?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:a?"":Y.name,children:[e.jsx(Y.icon,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Y.name})]},Y.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:te,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white transition-colors rounded-lg",title:a?"":"Log Out",children:[e.jsx(Zt,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Log Out"})]})})]}),e.jsxs("main",{className:`flex-1 overflow-auto ${u?"pt-14":""}`,children:[!u&&e.jsx("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Wallet"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your funds"})]})}),e.jsxs("div",{className:"p-6",children:[U&&e.jsxs("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 flex items-center gap-2",children:[e.jsx(He,{size:18})," ",U]}),G&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500",children:G}),e.jsx("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Available Balance"}),e.jsxs("p",{className:"text-white text-4xl font-bold",children:["$",((Q=l==null?void 0:l.balance)==null?void 0:Q.toLocaleString())||"0.00"]}),e.jsxs("div",{className:"flex gap-6 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Pending Deposits"}),e.jsxs("p",{className:"text-yellow-500 font-medium",children:["$",((me=l==null?void 0:l.pendingDeposits)==null?void 0:me.toLocaleString())||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Pending Withdrawals"}),e.jsxs("p",{className:"text-orange-500 font-medium",children:["$",((ae=l==null?void 0:l.pendingWithdrawals)==null?void 0:ae.toLocaleString())||"0.00"]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{D(!0),V("")},className:"flex items-center gap-2 bg-accent-green text-black font-medium px-6 py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:[e.jsx(qo,{size:20})," Deposit"]}),e.jsxs("button",{onClick:()=>{x(!0),V("")},className:"flex items-center gap-2 bg-dark-700 text-white font-medium px-6 py-3 rounded-lg hover:bg-dark-600 transition-colors border border-gray-700",children:[e.jsx(Ko,{size:20})," Withdraw"]})]})]})}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Transaction History"}),e.jsx("button",{onClick:$,className:"p-2 hover:bg-dark-700 rounded-lg transition-colors",children:e.jsx(Be,{size:18,className:`text-gray-400 ${j?"animate-spin":""}`})})]}),j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin"})}):d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qe,{size:48,className:"text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Type"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Amount"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Method"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Date"})]})}),e.jsx("tbody",{children:d.map(Y=>e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[Y.type==="Deposit"&&e.jsx(qo,{size:18,className:"text-green-500"}),Y.type==="Withdrawal"&&e.jsx(Ko,{size:18,className:"text-red-500"}),Y.type==="Transfer_To_Account"&&e.jsx(Yl,{size:18,className:"text-blue-500"}),Y.type==="Transfer_From_Account"&&e.jsx(R0,{size:18,className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white",children:Y.type==="Transfer_To_Account"?"To Trading Account":Y.type==="Transfer_From_Account"?"From Trading Account":Y.type}),Y.tradingAccountName&&e.jsx("p",{className:"text-gray-500 text-xs",children:Y.tradingAccountName})]})]})}),e.jsxs("td",{className:`py-4 px-4 font-medium ${Y.type==="Deposit"||Y.type==="Transfer_From_Account"?"text-green-500":"text-red-500"}`,children:[Y.type==="Deposit"||Y.type==="Transfer_From_Account"?"+":"-","$",Y.amount.toLocaleString()]}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:Y.type==="Transfer_To_Account"||Y.type==="Transfer_From_Account"?"Internal":Y.paymentMethod}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[O(Y.status),e.jsx("span",{className:`${Y.status==="Approved"||Y.status==="Completed"?"text-green-500":Y.status==="Rejected"?"text-red-500":"text-yellow-500"}`,children:Y.status})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-400 text-sm",children:de(Y.createdAt)})]},Y._id))})]})})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Deposit Funds"}),e.jsx("button",{onClick:()=>{D(!1),E(""),z(""),p(null),V("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),e.jsx("input",{type:"number",value:S,onChange:Y=>E(Y.target.value),placeholder:"Enter amount",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-accent-green"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:b.map(Y=>e.jsxs("button",{onClick:()=>p(Y),className:`p-4 rounded-lg border transition-colors flex flex-col items-center gap-2 ${(m==null?void 0:m._id)===Y._id?"border-accent-green bg-accent-green/10":"border-gray-700 bg-dark-700 hover:border-gray-600"}`,children:[oe(Y.type),e.jsx("span",{className:"text-white text-sm",children:Y.type})]},Y._id))}),b.length===0&&e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No payment methods available"})]}),m&&e.jsxs("div",{className:"mb-4 p-4 bg-dark-700 rounded-lg",children:[m.type==="Bank Transfer"&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"text-gray-400",children:["Bank: ",e.jsx("span",{className:"text-white",children:m.bankName})]}),e.jsxs("p",{className:"text-gray-400",children:["Account: ",e.jsx("span",{className:"text-white",children:m.accountNumber})]}),e.jsxs("p",{className:"text-gray-400",children:["Name: ",e.jsx("span",{className:"text-white",children:m.accountHolderName})]}),e.jsxs("p",{className:"text-gray-400",children:["IFSC: ",e.jsx("span",{className:"text-white",children:m.ifscCode})]})]}),m.type==="UPI"&&e.jsxs("p",{className:"text-gray-400",children:["UPI ID: ",e.jsx("span",{className:"text-white",children:m.upiId})]}),m.type==="QR Code"&&m.qrCodeImage&&e.jsx("img",{src:m.qrCodeImage,alt:"QR Code",className:"mx-auto max-w-48"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Transaction Reference (Optional)"}),e.jsx("input",{type:"text",value:P,onChange:Y=>z(Y.target.value),placeholder:"Enter transaction ID or reference",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-accent-green"})]}),G&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:G}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{D(!1),E(""),z(""),p(null),V("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:A,className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Submit Deposit"})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Withdraw Funds"}),e.jsx("button",{onClick:()=>{x(!1),E(""),p(null),V("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"mb-2 p-3 bg-dark-700 rounded-lg",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Available Balance"}),e.jsxs("p",{className:"text-white text-xl font-bold",children:["$",((be=l==null?void 0:l.balance)==null?void 0:be.toLocaleString())||"0.00"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),e.jsx("input",{type:"number",value:S,onChange:Y=>E(Y.target.value),placeholder:"Enter amount",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-accent-green"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Withdrawal Method"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:b.map(Y=>e.jsxs("button",{onClick:()=>p(Y),className:`p-4 rounded-lg border transition-colors flex flex-col items-center gap-2 ${(m==null?void 0:m._id)===Y._id?"border-accent-green bg-accent-green/10":"border-gray-700 bg-dark-700 hover:border-gray-600"}`,children:[oe(Y.type),e.jsx("span",{className:"text-white text-sm",children:Y.type})]},Y._id))})]}),G&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:G}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{x(!1),E(""),p(null),V("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:_,className:"flex-1 bg-accent-green text-black font-medium py-3 rounded-lg hover:bg-accent-green/90 transition-colors",children:"Submit Withdrawal"})]})]})})]})};class vy{constructor(){this.ws=null,this.prices=new Map,this.subscribers=new Map,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5}toBinanceSymbol(s){return{BTCUSD:"btcusdt",ETHUSD:"ethusdt",LTCUSD:"ltcusdt",XRPUSD:"xrpusdt",BCHUSD:"bchusdt",BNBUSD:"bnbusdt",ADAUSD:"adausdt",DOTUSD:"dotusdt",SOLUSD:"solusdt",DOGEUSD:"dogeusdt",MATICUSD:"maticusdt",AVAXUSD:"avaxusdt",LINKUSD:"linkusdt",UNIUSD:"uniusdt",ATOMUSD:"atomusdt",XLMUSD:"xlmusdt",ALGOUSD:"algousdt",VETUSD:"vetusdt",ICPUSD:"icpusdt",FILUSD:"filusdt",TRXUSD:"trxusdt",ETCUSD:"etcusdt",XMRUSD:"xmrusdt",EOSUSD:"eosusdt",AAVEUSD:"aaveusdt",MKRUSD:"mkrusdt",COMPUSD:"compusdt",SNXUSD:"snxusdt",YFIUSD:"yfiusdt",SUSHIUSD:"sushiusdt",NEARUSD:"nearusdt",FTMUSD:"ftmusdt",SANDUSD:"sandusdt",MANAUSD:"manausdt",AXSUSD:"axsusdt",GALAUSD:"galausdt",APEUSD:"apeusdt",GMTUSD:"gmtusdt",OPUSD:"opusdt",ARBUSD:"arbusdt",PEPEUSD:"pepeusdt",SHIBUSD:"shibusdt"}[s]||s.toLowerCase().replace("usd","usdt")}fromBinanceSymbol(s){return s.toUpperCase().replace("USDT","USD")}getCryptoSymbols(){return[{symbol:"BTCUSD",name:"Bitcoin",category:"Crypto"},{symbol:"ETHUSD",name:"Ethereum",category:"Crypto"},{symbol:"BNBUSD",name:"BNB",category:"Crypto"},{symbol:"SOLUSD",name:"Solana",category:"Crypto"},{symbol:"XRPUSD",name:"XRP",category:"Crypto"},{symbol:"ADAUSD",name:"Cardano",category:"Crypto"},{symbol:"DOGEUSD",name:"Dogecoin",category:"Crypto"},{symbol:"DOTUSD",name:"Polkadot",category:"Crypto"},{symbol:"MATICUSD",name:"Polygon",category:"Crypto"},{symbol:"LTCUSD",name:"Litecoin",category:"Crypto"},{symbol:"SHIBUSD",name:"Shiba Inu",category:"Crypto"},{symbol:"AVAXUSD",name:"Avalanche",category:"Crypto"},{symbol:"LINKUSD",name:"Chainlink",category:"Crypto"},{symbol:"UNIUSD",name:"Uniswap",category:"Crypto"},{symbol:"ATOMUSD",name:"Cosmos",category:"Crypto"},{symbol:"XLMUSD",name:"Stellar",category:"Crypto"},{symbol:"NEARUSD",name:"NEAR Protocol",category:"Crypto"},{symbol:"FTMUSD",name:"Fantom",category:"Crypto"},{symbol:"ALGOUSD",name:"Algorand",category:"Crypto"},{symbol:"VETUSD",name:"VeChain",category:"Crypto"},{symbol:"ICPUSD",name:"Internet Computer",category:"Crypto"},{symbol:"FILUSD",name:"Filecoin",category:"Crypto"},{symbol:"TRXUSD",name:"TRON",category:"Crypto"},{symbol:"ETCUSD",name:"Ethereum Classic",category:"Crypto"},{symbol:"AAVEUSD",name:"Aave",category:"Crypto"},{symbol:"SANDUSD",name:"The Sandbox",category:"Crypto"},{symbol:"MANAUSD",name:"Decentraland",category:"Crypto"},{symbol:"AXSUSD",name:"Axie Infinity",category:"Crypto"},{symbol:"APEUSD",name:"ApeCoin",category:"Crypto"},{symbol:"ARBUSD",name:"Arbitrum",category:"Crypto"},{symbol:"OPUSD",name:"Optimism",category:"Crypto"},{symbol:"PEPEUSD",name:"Pepe",category:"Crypto"}]}async getSymbolPrice(s){try{const r=this.toBinanceSymbol(s),a=await fetch(`https://api.binance.com/api/v3/ticker/bookTicker?symbol=${r.toUpperCase()}`);if(!a.ok)throw new Error("Failed to fetch price");const n=await a.json(),l={bid:parseFloat(n.bidPrice),ask:parseFloat(n.askPrice),spread:parseFloat(n.askPrice)-parseFloat(n.bidPrice)};return this.prices.set(s,l),l}catch(r){return console.error(`Error fetching ${s} price:`,r),null}}async getAllPrices(s){const r={};try{const a=await fetch("https://api.binance.com/api/v3/ticker/bookTicker");if(!a.ok)throw new Error("Failed to fetch prices");const n=await a.json(),l=new Map(n.map(i=>[i.symbol.toLowerCase(),i]));for(const i of s){const d=this.toBinanceSymbol(i),c=l.get(d);c&&(r[i]={bid:parseFloat(c.bidPrice),ask:parseFloat(c.askPrice),spread:parseFloat(c.askPrice)-parseFloat(c.bidPrice)},this.prices.set(i,r[i]))}}catch(a){console.error("Error fetching all prices:",a)}return r}connect(s=[]){if(this.ws&&this.ws.readyState===WebSocket.OPEN||s.length===0)return;const a=`wss://stream.binance.com:9443/stream?streams=${s.map(n=>`${this.toBinanceSymbol(n)}@bookTicker`).join("/")}`;this.ws=new WebSocket(a),this.ws.onopen=()=>{console.log("Binance WebSocket connected"),this.isConnected=!0,this.reconnectAttempts=0},this.ws.onmessage=n=>{try{const l=JSON.parse(n.data);l.data&&this.handleMessage(l.data)}catch(l){console.error("Error parsing WebSocket message:",l)}},this.ws.onerror=n=>{console.error("Binance WebSocket error:",n)},this.ws.onclose=()=>{console.log("Binance WebSocket disconnected"),this.isConnected=!1,this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>{console.log(`Reconnecting to Binance... Attempt ${this.reconnectAttempts}`),this.connect(Array.from(this.subscribers.keys()))},3e3*this.reconnectAttempts))}}handleMessage(s){const r=this.fromBinanceSymbol(s.s),a={bid:parseFloat(s.b),ask:parseFloat(s.a),spread:parseFloat(s.a)-parseFloat(s.b),time:new Date().toISOString()};this.prices.set(r,a);const n=this.subscribers.get(r);n&&n(a)}subscribe(s,r){this.subscribers.set(s,r)}unsubscribe(s){this.subscribers.delete(s)}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.subscribers.clear(),this.isConnected=!1}getPrice(s){return this.prices.get(s)}}const Ny=new vy,Bt="http://localhost:5001/api",wy=()=>{var sd,rd,ad,nd,ld,id,od,cd,dd,ud,xd,md,hd,pd,gd,fd,yd,bd,jd,vd,Nd,wd,kd,Sd,Cd,Td,Ed,Pd,Ad,Dd,Id,zd,Ld,Md,Ud;const t=Ze(),{accountId:s}=hf(),[r]=qc(),a=r.get("type"),[n,l]=o.useState(null),[i,d]=o.useState(null),[c,u]=o.useState(null),[g,b]=o.useState(!0),[y,j]=o.useState(!1),[v,w]=o.useState({symbol:"XAUUSD",name:"CFDs on Gold (US$ / OZ)",bid:0,ask:0,spread:0}),[D,f]=o.useState(window.innerWidth>=768),[x,m]=o.useState(window.innerWidth>=768),[p,S]=o.useState("Market"),[E,P]=o.useState("0.01"),[z,G]=o.useState("1:100"),[V,U]=o.useState(""),[F,I]=o.useState("All"),[X,T]=o.useState("Positions"),[k,W]=o.useState(!1),[C,$]=o.useState("BUY"),[h,A]=o.useState([{symbol:"XAUUSD",name:"CFDs on Gold (US$ / OZ)",bid:0,ask:0,spread:0}]),[_,te]=o.useState("XAUUSD"),[O,oe]=o.useState(!1),[de,Q]=o.useState(!1),[me,ae]=o.useState(""),[be,Y]=o.useState(""),[Te,H]=o.useState("BUY LIMIT"),[he,ye]=o.useState(""),[L,ce]=o.useState([{symbol:"EURUSD",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!0},{symbol:"GBPUSD",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!0},{symbol:"USDJPY",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"USDCHF",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"AUDUSD",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"NZDUSD",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"USDCAD",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"EURGBP",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"EURJPY",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"GBPJPY",bid:0,ask:0,spread:0,change:0,category:"Forex",starred:!1},{symbol:"XAUUSD",bid:0,ask:0,spread:0,change:0,category:"Metals",starred:!0},{symbol:"XAGUSD",bid:0,ask:0,spread:0,change:0,category:"Metals",starred:!1},{symbol:"BTCUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!0},{symbol:"ETHUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"BNBUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"SOLUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"XRPUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"ADAUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"DOGEUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"DOTUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"MATICUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"LTCUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"AVAXUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1},{symbol:"LINKUSD",bid:0,ask:0,spread:0,change:0,category:"Crypto",starred:!1}]),[R,Z]=o.useState(!0),[Pe,M]=o.useState(["XAUUSD","EURUSD","GBPUSD"]),[le,ie]=o.useState(window.innerWidth<768),[fe,Le]=o.useState([]),[xt,yt]=o.useState([]),[ot,St]=o.useState([]),[Me,et]=o.useState(!1),[mt,Ie]=o.useState(""),[It,tt]=o.useState(""),[st,yr]=o.useState({balance:0,credit:0,equity:0,usedMargin:0,freeMargin:0,floatingPnl:0}),[_t,J]=o.useState({}),[je,ve]=o.useState(!1),[pe,Ae]=o.useState(!1),[Ne,Se]=o.useState(!1),[Ue,Wr]=o.useState(null),[ds,Ln]=o.useState(null),[bt,Mn]=o.useState("all"),[br,ka]=o.useState(""),[B,K]=o.useState(""),[ke,Es]=o.useState(!1),[zt,ht]=o.useState(!1),[es,Un]=o.useState(null),[$n,vs]=o.useState({value:30,unit:"minutes"}),[Fn,ui]=o.useState(""),H0=["All","Forex","Metals","Crypto"],xi=JSON.parse(localStorage.getItem("user")||"{}");o.useEffect(()=>(sh(),mi(),()=>{Tn.disconnect()}),[s]),o.useEffect(()=>{if(s){Vs(),hi(),Rn(),Sa();const N=setInterval(()=>{Vs(),Sa()},5e3);return()=>clearInterval(N)}},[s]),o.useEffect(()=>{const N=()=>{const q=window.innerWidth<768;ie(q)};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),o.useEffect(()=>{mi();const N=setInterval(()=>{mi()},1e3);return()=>clearInterval(N)},[]),o.useEffect(()=>{const N=localStorage.getItem(`killSwitch_${s}`);if(N){const q=parseInt(N);q>Date.now()?(ht(!0),Un(q)):localStorage.removeItem(`killSwitch_${s}`)}},[s]),o.useEffect(()=>{if(!zt||!es)return;const N=()=>{const ne=Date.now(),ue=es-ne;if(ue<=0){ht(!1),Un(null),ui(""),localStorage.removeItem(`killSwitch_${s}`);return}const se=Math.floor(ue/(1e3*60*60*24)),we=Math.floor(ue%(1e3*60*60*24)/(1e3*60*60)),De=Math.floor(ue%(1e3*60*60)/(1e3*60)),us=Math.floor(ue%(1e3*60)/1e3);let Ge="";se>0&&(Ge+=`${se}d `),(we>0||se>0)&&(Ge+=`${we}h `),(De>0||we>0||se>0)&&(Ge+=`${De}m `),Ge+=`${us}s`,ui(Ge.trim())};N();const q=setInterval(N,1e3);return()=>clearInterval(q)},[zt,es,s]),o.useEffect(()=>{let N=0,q=0;fe.length>0&&fe.forEach(se=>{const we=_t[se.symbol],De=L.find(Ca=>Ca.symbol===se.symbol),us=we?se.side==="BUY"?we.bid:we.ask:De?se.side==="BUY"?De.bid:De.ask:se.openPrice,Ge=se.side==="BUY"?(us-se.openPrice)*se.quantity*se.contractSize:(se.openPrice-us)*se.quantity*se.contractSize;N+=Ge-(se.commission||0)-(se.swap||0),q+=se.marginUsed||0});const ne=Math.round((st.balance+(st.credit||0)+N)*100)/100,ue=Math.round((st.balance+(st.credit||0)+N-q)*100)/100;yr(se=>({...se,floatingPnl:Math.round(N*100)/100,usedMargin:Math.round(q*100)/100,equity:ne,freeMargin:ue})),fe.length>0&&(ne<=0||ue<-q)&&Y0()},[_t,L,fe]);const mi=async()=>{try{const N=L.map(ne=>ne.symbol),q=await Tn.getAllPrices(N);if(Object.keys(q).length>0&&(Z(!1),J(ne=>({...ne,...q})),ce(ne=>ne.map(ue=>{const se=q[ue.symbol];if(se&&se.bid){const we=se.bid,De=se.ask||se.bid,us=Math.abs(De-we)||we*1e-4;return{...ue,bid:we,ask:De,spread:us}}return ue})),w(ne=>{const ue=q[ne.symbol];if(ue&&ue.bid){const se=ue.bid,we=ue.ask||ue.bid;return{...ne,bid:se,ask:we,spread:Math.abs(we-se)||se*1e-4}}return ne}),A(ne=>ne.map(ue=>{const se=q[ue.symbol];if(se&&se.bid){const we=se.bid,De=se.ask||se.bid;return{...ue,bid:we,ask:De,spread:Math.abs(De-we)||we*1e-4}}return ue})),a==="challenge"&&Object.keys(q).length>0))try{const ue=await(await fetch(`${Bt}/trade/check-sltp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prices:q})})).json();ue.success&&ue.closedCount>0&&(Vs(),Rn(),ue.closedTrades.forEach(se=>{tt(`Trade ${se.symbol} closed by ${se.reason}: ${se.pnl>=0?"+":""}$${se.pnl.toFixed(2)}`)}))}catch{}}catch(N){console.error("Live prices error:",N)}},ed=N=>["XAUUSD","XAGUSD","XPTUSD","XPDUSD"].includes(N)?"Metals":["BTCUSD","ETHUSD","LTCUSD","XRPUSD","BCHUSD"].includes(N)?"Crypto":"Forex",Vs=async()=>{try{const q=await(await fetch(`${Bt}/trade/open/${s}`)).json();q.success&&Le(q.trades||[])}catch(N){console.error("Error fetching open trades:",N)}},hi=async()=>{try{const q=await(await fetch(`${Bt}/trade/pending/${s}`)).json();q.success&&yt(q.trades||[])}catch(N){console.error("Error fetching pending orders:",N)}},Rn=async()=>{try{const q=await(await fetch(`${Bt}/trade/history/${s}`)).json();q.success&&St(q.trades||[])}catch(N){console.error("Error fetching trade history:",N)}},Sa=async()=>{try{const N={};L.forEach(se=>{se.bid&&se.ask&&(N[se.symbol]={bid:se.bid,ask:se.ask})});const q=encodeURIComponent(JSON.stringify(N)),ue=await(await fetch(`${Bt}/trade/summary/${s}?prices=${q}`)).json();ue.success&&yr(ue.summary)}catch(N){console.error("Error fetching account summary:",N)}},Y0=async()=>{try{const N={};L.forEach(ue=>{ue.bid&&ue.ask&&(N[ue.symbol]={bid:ue.bid,ask:ue.ask})});const ne=await(await fetch(`${Bt}/trade/check-stopout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradingAccountId:s,prices:N})})).json();ne.success&&ne.stopOutTriggered&&(alert(` STOP OUT: ${ne.message}

All your trades have been closed to prevent further losses.`),Vs(),Sa(),Rn())}catch(N){console.error("Error checking stop out:",N)}},J0=()=>{const N={seconds:1e3,minutes:6e4,hours:36e5,days:864e5},q=$n.value*N[$n.unit],ne=Date.now()+q;ht(!0),Un(ne),localStorage.setItem(`killSwitch_${s}`,ne.toString()),Es(!1)},G0=()=>{ht(!1),Un(null),ui(""),localStorage.removeItem(`killSwitch_${s}`)},pi=async N=>{if(zt){Ie(`Trading blocked! Kill Switch active for ${Fn}`);return}et(!0),Ie(""),tt("");try{const q=ed(v.symbol),ne=_t[v.symbol],ue=(ne==null?void 0:ne.bid)||v.bid,se=(ne==null?void 0:ne.ask)||v.ask;if(!ue||!se||ue===0||se===0){Ie("Price not available. Please wait for prices to load."),et(!1);return}const De=await(await fetch(`${Bt}/trade/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:xi._id,tradingAccountId:s,symbol:v.symbol,segment:q,side:N,orderType:"MARKET",quantity:parseFloat(E),bid:ue,ask:se,sl:de&&be?parseFloat(be):null,tp:O&&me?parseFloat(me):null})})).json();if(De.success)tt(`${N} order executed successfully!`),Vs(),Sa(),Y(""),ae(""),Q(!1),oe(!1);else{if(De.accountFailed){t(`/account?failed=true&reason=${encodeURIComponent(De.failReason||De.message)}`);return}De.warningCount>0?Ie(`${De.message} (Warning ${De.warningCount}/3 - ${De.remainingWarnings} remaining before account fails)`):Ie(De.message||"Failed to execute order")}}catch(q){console.error("Error executing trade:",q),Ie("Failed to execute order. Please try again.")}et(!1),setTimeout(()=>{Ie(""),tt("")},3e3)},X0=async()=>{if(zt){Ie(`Trading blocked! Kill Switch active for ${Fn}`);return}et(!0),Ie(""),tt("");try{const N=ed(v.symbol),q=Te.includes("BUY")?"BUY":"SELL",ne=Te.replace(" ","_"),ue=he?parseFloat(he):null,se=_t[v.symbol],we=(se==null?void 0:se.bid)||v.bid,De=(se==null?void 0:se.ask)||v.ask,Ge=await(await fetch(`${Bt}/trade/open`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:xi._id,tradingAccountId:s,symbol:v.symbol,segment:N,side:q,orderType:ne,quantity:parseFloat(E),bid:ue||we,ask:ue||De,sl:de&&be?parseFloat(be):null,tp:O&&me?parseFloat(me):null})})).json();Ge.success?(tt(`${Te} order placed successfully!`),hi(),ye("")):Ie(Ge.message||"Failed to place order")}catch(N){console.error("Error placing pending order:",N),Ie("Failed to place order. Please try again.")}et(!1),setTimeout(()=>{Ie(""),tt("")},3e3)},td=async N=>{var q;try{const ne=fe.find(Ca=>Ca._id===N);if(!ne)return;const ue=_t[ne.symbol],se=L.find(Ca=>Ca.symbol===ne.symbol)||v,we=(ue==null?void 0:ue.bid)||se.bid,De=(ue==null?void 0:ue.ask)||se.ask;if(!we||!De||we===0||De===0){Ie("Price not available. Please wait for prices to load.");return}const Ge=await(await fetch(`${Bt}/trade/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeId:N,bid:we,ask:De})})).json();Ge.success?(tt(`Trade closed. P/L: $${(q=Ge.realizedPnl)==null?void 0:q.toFixed(2)}`),Vs(),Rn(),Sa()):Ie(Ge.message||"Failed to close trade")}catch(ne){console.error("Error closing trade:",ne),Ie("Failed to close trade")}setTimeout(()=>{Ie(""),tt("")},3e3)},q0=async N=>{try{const ne=await(await fetch(`${Bt}/trade/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeId:N})})).json();ne.success?(tt("Order cancelled"),hi()):Ie(ne.message||"Failed to cancel order")}catch(q){console.error("Error cancelling order:",q),Ie("Failed to cancel order")}setTimeout(()=>{Ie(""),tt("")},3e3)},K0=N=>{var q,ne;Wr(N),ka(((q=N.sl||N.stopLoss)==null?void 0:q.toString())||""),K(((ne=N.tp||N.takeProfit)==null?void 0:ne.toString())||""),ve(!0)},Q0=async()=>{var N,q;if(console.log("handleModifyTrade called"),!Ue){console.log("No trade selected for modify"),Ie("No trade selected");return}console.log("Modifying trade:",Ue._id,"SL:",br,"TP:",B),Ie("");try{const ne={tradeId:Ue._id,sl:br?parseFloat(br):null,tp:B?parseFloat(B):null};console.log("Request body:",JSON.stringify(ne));const ue=await fetch(`${Bt}/trade/modify`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});console.log("Response status:",ue.status);const se=await ue.json();console.log("Response data:",se),se.success?(tt("Trade modified successfully"),Vs(),ve(!1)):(console.log("Modify failed:",se.message),(N=se.message)!=null&&N.includes("not open")||(q=se.message)!=null&&q.includes("not found")?(Vs(),Ie("This trade is no longer open. Refreshing..."),setTimeout(()=>ve(!1),1500)):Ie(se.message||"Failed to modify trade"))}catch(ne){console.error("Error modifying trade:",ne),Ie("Failed to modify trade: "+ne.message)}setTimeout(()=>{Ie(""),tt("")},3e3)},Z0=N=>{Ln(N),Ae(!0)},eh=async()=>{ds&&(await td(ds._id),Ae(!1))},gi=async N=>{Mn(N),Se(!0)},th=async()=>{const N=fe.filter(q=>{const ne=_t[q.symbol],ue=L.find(De=>De.symbol===q.symbol)||v,se=ne?q.side==="BUY"?ne.bid:ne.ask:q.side==="BUY"?ue.bid:ue.ask,we=q.side==="BUY"?(se-q.openPrice)*q.quantity*q.contractSize:(q.openPrice-se)*q.quantity*q.contractSize;return bt==="profit"?we>0:bt==="loss"?we<0:!0});for(const q of N)await td(q._id);Se(!1),tt(`Closed ${N.length} trade(s)`),setTimeout(()=>tt(""),3e3)},sh=async()=>{var N,q,ne;b(!0);try{if(a==="challenge"){const se=await(await fetch(`${Bt}/prop/account/${s}`)).json();se.success&&se.account?(d(se),u(se.rules||{}),l({_id:se.account._id,accountId:se.account.accountId,balance:((N=se.balance)==null?void 0:N.current)||0,equity:((q=se.balance)==null?void 0:q.equity)||0,leverage:"1:100",accountType:"CHALLENGE",status:se.account.status}),G("1:100")):t("/account")}else{const we=(ne=(await(await fetch(`${Bt}/trading-accounts/user/${xi._id}`)).json()).accounts)==null?void 0:ne.find(De=>De._id===s);we?(l(we),G(we.leverage||"1:100")):t("/account")}}catch(ue){console.error("Error fetching account:",ue)}b(!1)},rh=N=>({EURUSD:"OANDA:EURUSD",GBPUSD:"OANDA:GBPUSD",USDJPY:"OANDA:USDJPY",USDCHF:"OANDA:USDCHF",AUDUSD:"OANDA:AUDUSD",NZDUSD:"OANDA:NZDUSD",USDCAD:"OANDA:USDCAD",EURGBP:"OANDA:EURGBP",EURJPY:"OANDA:EURJPY",GBPJPY:"OANDA:GBPJPY",EURCHF:"OANDA:EURCHF",EURAUD:"OANDA:EURAUD",EURCAD:"OANDA:EURCAD",GBPAUD:"OANDA:GBPAUD",GBPCAD:"OANDA:GBPCAD",AUDCAD:"OANDA:AUDCAD",AUDJPY:"OANDA:AUDJPY",CADJPY:"OANDA:CADJPY",CHFJPY:"OANDA:CHFJPY",NZDJPY:"OANDA:NZDJPY",XAUUSD:"OANDA:XAUUSD",XAGUSD:"OANDA:XAGUSD",BTCUSD:"COINBASE:BTCUSD",ETHUSD:"COINBASE:ETHUSD",LTCUSD:"COINBASE:LTCUSD",XRPUSD:"BITSTAMP:XRPUSD",BCHUSD:"COINBASE:BCHUSD"})[N]||`OANDA:${N}`,fi=L.filter(N=>{const q=N.symbol.toLowerCase().includes(V.toLowerCase()),ne=F==="All"||N.category===F;return q&&ne}),ah=N=>{h.find(ne=>ne.symbol===N.symbol)||A([...h,N]),te(N.symbol),w(N)},nh=N=>{te(N);const q=h.find(ne=>ne.symbol===N);q&&w(q)},lh=(N,q)=>{if(N.stopPropagation(),h.length===1)return;const ne=h.filter(ue=>ue.symbol!==q);A(ne),_===q&&(te(ne[0].symbol),w(ne[0]))},ih=()=>{const N=parseFloat(E)||0,q=v.ask||0,ne=parseInt(z==null?void 0:z.split(":")[1])||100;return(N*1e5*q/ne).toFixed(2)};return g?e.jsx("div",{className:"h-screen bg-black flex items-center justify-center",children:e.jsx("div",{className:"text-white",children:"Loading..."})}):e.jsxs("div",{className:"h-screen bg-black flex overflow-hidden text-sm",children:[e.jsxs("div",{className:"w-12 bg-[#0a0a0a] border-r border-gray-800 flex flex-col items-center py-3 shrink-0",children:[e.jsx("button",{onClick:()=>t("/account"),className:"w-9 h-9 flex items-center justify-center text-gray-500 hover:text-white hover:bg-[#1a1a1a] rounded-lg mb-2 transition-colors",title:"Home",children:e.jsx(fr,{size:20})}),e.jsx("button",{onClick:()=>f(!D),className:`w-9 h-9 flex items-center justify-center rounded-lg mb-2 transition-colors ${D?"text-white bg-[#1a1a1a]":"text-gray-500 hover:text-white hover:bg-[#1a1a1a]"}`,title:"Instruments",children:e.jsx(Kf,{size:20})}),e.jsx("button",{onClick:()=>t("/account"),className:"w-9 h-9 flex items-center justify-center text-gray-500 hover:text-white hover:bg-[#1a1a1a] rounded-lg mb-2 transition-colors",title:"Wallet",children:e.jsx(Qe,{size:20})}),e.jsx("button",{className:"w-9 h-9 flex items-center justify-center text-gray-500 hover:text-white hover:bg-[#1a1a1a] rounded-lg mb-2 transition-colors",title:"Charts",children:e.jsx(Kc,{size:20})}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"w-6 h-6 rounded bg-red-500 flex items-center justify-center text-white text-xs font-bold cursor-pointer hover:bg-red-600",onClick:()=>f(!1),children:e.jsx(ge,{size:14})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a==="challenge"&&i&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border-b border-yellow-500/30 px-3 py-2 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{size:18,className:"text-yellow-500"}),e.jsxs("span",{className:"text-yellow-500 font-medium text-sm",children:[((sd=i.challenge)==null?void 0:sd.name)||"Challenge"," - Phase ",(rd=i.account)==null?void 0:rd.currentPhase,"/",(ad=i.account)==null?void 0:ad.totalPhases]}),e.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),e.jsxs("span",{className:"text-gray-300 text-xs",children:["Daily DD: ",e.jsxs("span",{className:((nd=i.drawdown)==null?void 0:nd.dailyUsed)>3?"text-red-500":"text-green-500",children:[((id=(ld=i.drawdown)==null?void 0:ld.dailyUsed)==null?void 0:id.toFixed(2))||0,"%"]})," / ",((od=i.drawdown)==null?void 0:od.dailyMax)||5,"%"]}),e.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),e.jsxs("span",{className:"text-gray-300 text-xs",children:["Overall DD: ",e.jsxs("span",{className:((cd=i.drawdown)==null?void 0:cd.overallUsed)>6?"text-red-500":"text-green-500",children:[((ud=(dd=i.drawdown)==null?void 0:dd.overallUsed)==null?void 0:ud.toFixed(2))||0,"%"]})," / ",((xd=i.drawdown)==null?void 0:xd.overallMax)||10,"%"]}),e.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),e.jsxs("span",{className:"text-gray-300 text-xs",children:["Profit: ",e.jsxs("span",{className:"text-green-500",children:[((hd=(md=i.profit)==null?void 0:md.currentPercent)==null?void 0:hd.toFixed(2))||0,"%"]})," / ",((pd=i.profit)==null?void 0:pd.targetPercent)||8,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[((gd=i.time)==null?void 0:gd.remainingDays)||0," days left"]}),(c==null?void 0:c.stopLossMandatory)&&e.jsxs("span",{className:"bg-red-500/20 text-red-400 text-xs px-2 py-0.5 rounded flex items-center gap-1",children:[e.jsx(di,{size:12})," SL Required"]})]})]}),e.jsxs("header",{className:"h-10 sm:h-8 bg-black border-b border-gray-800 flex items-center px-2 sm:px-3 shrink-0",children:[e.jsx("span",{className:"text-white font-medium text-sm sm:text-base",children:v.symbol}),!le&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:`ml-3 text-xs ${a==="challenge"?"text-yellow-500":"text-teal-400"}`,children:[a==="challenge"?"Challenge":"Standard"," - ",n==null?void 0:n.accountId]}),e.jsxs("span",{className:"text-gray-400 ml-3 text-xs",children:["Balance: ",e.jsxs("span",{className:"text-white",children:["$",((fd=st.balance)==null?void 0:fd.toFixed(2))||"0.00"]})]})]}),e.jsx("div",{className:"flex-1"}),e.jsx("span",{className:"text-red-500 font-mono text-xs sm:text-sm mr-1 sm:mr-2",children:(yd=v.bid)==null?void 0:yd.toFixed(2)}),e.jsx("span",{className:"text-green-500 font-mono text-xs sm:text-sm mr-2 sm:mr-4",children:(bd=v.ask)==null?void 0:bd.toFixed(2)}),e.jsx("button",{onClick:()=>m(!x),className:"bg-teal-500 hover:bg-teal-600 text-white text-xs px-2 sm:px-3 py-1 rounded",children:le?"Order":"New Order"}),e.jsx("button",{onClick:()=>zt?G0():Es(!0),className:`ml-2 text-xs px-2 sm:px-3 py-1 rounded flex items-center gap-1 ${zt?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-orange-500 hover:bg-orange-600 text-white"}`,title:zt?`Trading blocked for ${Fn}`:"Activate Kill Switch to prevent emotional trading",children:zt?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"hidden sm:inline",children:[" ",Fn]}),e.jsx("span",{className:"sm:hidden",children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:inline",children:"Kill Switch"}),e.jsx("span",{className:"sm:hidden",children:""})]})}),e.jsx("button",{onClick:()=>m(!x),className:"ml-1 sm:ml-2 text-gray-400 hover:text-white",children:e.jsx(ur,{size:16})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[D&&e.jsxs("div",{className:`${le?"absolute inset-0 z-20":"w-[280px]"} bg-[#0d0d0d] border-r border-gray-800 flex flex-col shrink-0`,children:[e.jsxs("div",{className:"px-3 py-3 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("span",{className:"text-white text-sm font-medium",children:"Instruments"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-white",children:e.jsx(ge,{size:16})})]}),e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search instruments",value:V,onChange:N=>U(N.target.value),className:"w-full bg-[#1a1a1a] border border-gray-700 rounded pl-9 pr-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-gray-600"})]})}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 border-b border-gray-800 overflow-x-auto",children:[e.jsx("button",{className:"text-gray-600 hover:text-yellow-500 shrink-0",children:e.jsx(Cn,{size:14})}),H0.map(N=>e.jsx("button",{onClick:()=>I(N),className:`px-2 py-1 rounded text-xs font-medium transition-colors shrink-0 ${F===N?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:N},N))]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:R?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading instruments..."})}):fi.length===0?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500 text-sm",children:"No instruments found"})}):fi.map(N=>{var q;return e.jsxs("button",{onClick:()=>ah(N),className:`w-full px-3 py-2.5 my-1 flex items-center rounded-lg border border-gray-700 hover:border-gray-600 hover:bg-[#1a1a1a] transition-colors ${v.symbol===N.symbol?"bg-[#1a1a1a] border-blue-500":""}`,children:[e.jsx(Cn,{size:12,className:`shrink-0 mr-2 ${N.starred?"text-yellow-500 fill-yellow-500":"text-gray-700"}`}),e.jsxs("div",{className:"text-left min-w-[55px]",children:[e.jsx("div",{className:"text-white text-xs font-medium",children:N.symbol}),e.jsxs("div",{className:"text-green-500 text-[10px]",children:["+",((q=N.change)==null?void 0:q.toFixed(2))||"0.00","%"]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"text-right w-16",children:[e.jsx("div",{className:"text-red-500 text-xs font-mono",children:N.bid>0?N.bid.toFixed(N.bid>100?2:5):"..."}),e.jsx("div",{className:"text-gray-600 text-[9px]",children:"Bid"})]}),e.jsx("div",{className:"bg-[#2a2a2a] px-1.5 py-0.5 rounded text-cyan-400 text-[10px] font-medium min-w-[28px] text-center mx-2",children:N.spread>0?N.spread.toFixed(1):"-"}),e.jsxs("div",{className:"text-right w-14",children:[e.jsx("div",{className:"text-green-500 text-xs font-mono",children:N.ask>0?N.ask.toFixed(N.ask>100?2:5):"..."}),e.jsx("div",{className:"text-gray-600 text-[9px]",children:"Ask"})]})]},N.symbol)})}),e.jsxs("div",{className:"px-3 py-2 border-t border-gray-800 flex items-center justify-between shrink-0",children:[e.jsxs("span",{className:"text-gray-500 text-xs",children:[fi.length," instruments"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-500 text-xs",children:"Live"})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-[#0d0d0d]",children:[e.jsxs("div",{className:"h-9 bg-[#0d0d0d] border-b border-gray-800 flex items-center px-2 shrink-0 gap-1",children:[h.map(N=>e.jsxs("div",{onClick:()=>nh(N.symbol),className:`flex items-center gap-2 px-3 py-1.5 rounded cursor-pointer transition-colors ${_===N.symbol?"bg-blue-600 text-white":"bg-[#1a1a1a] text-gray-400 hover:bg-[#252525] hover:text-white"}`,children:[e.jsx("span",{className:"text-sm font-medium",children:N.symbol}),h.length>1&&e.jsx("button",{onClick:q=>lh(q,N.symbol),className:"hover:text-red-400 ml-1",children:e.jsx(ge,{size:12})})]},N.symbol)),e.jsx("button",{className:"ml-1 text-gray-500 hover:text-white p-1.5 hover:bg-[#1a1a1a] rounded",children:e.jsx(qe,{size:16})})]}),e.jsx("div",{className:"flex-1 min-h-0 bg-[#0d0d0d] relative",children:e.jsx("iframe",{src:`https://s.tradingview.com/widgetembed/?frameElementId=tradingview_chart&symbol=${rh(v.symbol)}&interval=5&hidesidetoolbar=0&hidetoptoolbar=0&symboledit=1&saveimage=1&toolbarbg=0d0d0d&studies=[]&theme=dark&style=1&timezone=Etc%2FUTC&withdateranges=1&showpopupbutton=1&studies_overrides={}&overrides={}&enabled_features=["left_toolbar","header_widget"]&disabled_features=[]&locale=en&utm_source=localhost&utm_medium=widget_new&utm_campaign=chart&hide_side_toolbar=0`,style:{width:"100%",height:"100%",border:"none"},allowFullScreen:!0,title:"TradingView Chart"},v.symbol)}),e.jsxs("div",{className:`${le?"h-32":"h-44"} bg-[#0d0d0d] border-t border-gray-800 flex flex-col shrink-0`,children:[e.jsxs("div",{className:"h-10 flex items-center justify-between px-2 sm:px-4 border-b border-gray-800 overflow-x-auto",children:[e.jsx("div",{className:"flex gap-2 sm:gap-6",children:[{name:"Positions",count:fe.length},{name:"Pending",count:xt.length},{name:"History",count:ot.length},{name:"Cancelled",count:0}].map(N=>e.jsx("button",{onClick:()=>T(N.name),className:`text-xs sm:text-sm whitespace-nowrap ${X===N.name?"text-white":"text-gray-500 hover:text-white"}`,children:le?`${N.name.split(" ")[0]}(${N.count})`:`${N.name}(${N.count})`},N.name))}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 shrink-0",children:[!le&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"One Click"}),e.jsx("button",{onClick:()=>W(!k),className:`w-10 h-5 rounded-full relative transition-colors ${k?"bg-blue-600":"bg-gray-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all ${k?"left-5":"left-0.5"}`})}),k&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>pi("SELL"),disabled:Me,className:"w-8 h-8 rounded-full bg-red-500 text-white text-sm font-bold hover:bg-red-600 transition-colors disabled:opacity-50",children:"S"}),e.jsx("input",{type:"text",value:E,onChange:N=>P(N.target.value),className:"w-14 h-7 bg-[#1a1a1a] border border-gray-600 rounded text-center text-white text-sm font-medium focus:outline-none focus:border-blue-500"}),e.jsx("button",{onClick:()=>pi("BUY"),disabled:Me,className:"w-8 h-8 rounded-full bg-green-500 text-white text-sm font-bold hover:bg-green-600 transition-colors disabled:opacity-50",children:"B"})]})]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["P/L: ",e.jsxs("span",{className:st.floatingPnl>=0?"text-green-500":"text-red-500",children:[st.floatingPnl>=0?"+":"","$",((jd=st.floatingPnl)==null?void 0:jd.toFixed(2))||"0.00"]})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[X==="Positions"&&e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-gray-500 border-b border-gray-800 sticky top-0 bg-[#0d0d0d]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Time"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Symbol"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Side"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Lots"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Entry"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Current"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"SL"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"TP"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Charges"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Swap"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"P/L"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Action"})]})}),e.jsx("tbody",{children:fe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"12",className:"text-center py-8 text-gray-500",children:"No open positions"})}):fe.map(N=>{var De,us;const q=_t[N.symbol],ne=L.find(Ge=>Ge.symbol===N.symbol)||v,ue=q?N.side==="BUY"?q.bid:q.ask:N.side==="BUY"?ne.bid:ne.ask,se=N.side==="BUY"?(ue-N.openPrice)*N.quantity*N.contractSize:(N.openPrice-ue)*N.quantity*N.contractSize,we=Ge=>Ge?N.symbol.includes("JPY")?Ge.toFixed(3):["BTCUSD","ETHUSD","XAUUSD"].includes(N.symbol)?Ge.toFixed(2):["XAGUSD"].includes(N.symbol)?Ge.toFixed(4):Ge.toFixed(5):"-";return e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-[#1a1a1a]",children:[e.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(N.openedAt).toLocaleTimeString()}),e.jsx("td",{className:"py-2 px-3 text-xs font-medium",children:N.symbol}),e.jsx("td",{className:`py-2 px-3 text-xs font-medium ${N.side==="BUY"?"text-blue-400":"text-red-400"}`,children:N.side}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.quantity}),e.jsx("td",{className:"py-2 px-3 text-xs",children:we(N.openPrice)}),e.jsx("td",{className:"py-2 px-3 text-xs",children:we(ue)}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.stopLoss?we(N.stopLoss):"-"}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.takeProfit?we(N.takeProfit):"-"}),e.jsxs("td",{className:"py-2 px-3 text-xs",children:["$",((De=N.commission)==null?void 0:De.toFixed(2))||"0.00"]}),e.jsxs("td",{className:"py-2 px-3 text-xs",children:["$",((us=N.swap)==null?void 0:us.toFixed(2))||"0.00"]}),e.jsxs("td",{className:`py-2 px-3 text-xs font-medium ${se>=0?"text-green-400":"text-red-400"}`,children:["$",se.toFixed(2)]}),e.jsx("td",{className:"py-2 px-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>K0(N),className:"p-1.5 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/30 transition-colors",title:"Modify SL/TP",children:e.jsx(ay,{size:12})}),e.jsx("button",{onClick:()=>Z0(N),className:"p-1.5 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Close Trade",children:e.jsx(ge,{size:12})})]})})]},N._id)})})]}),X==="History"&&e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-gray-500 border-b border-gray-800 sticky top-0 bg-[#0d0d0d]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Closed"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Symbol"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Side"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Lots"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Entry"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Close"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Charges"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Swap"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"P/L"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Closed By"})]})}),e.jsx("tbody",{children:ot.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"text-center py-8 text-gray-500",children:"No trade history"})}):ot.map(N=>{var ne,ue,se;const q=we=>we?N.symbol.includes("JPY")?we.toFixed(3):["BTCUSD","ETHUSD","XAUUSD"].includes(N.symbol)?we.toFixed(2):["XAGUSD"].includes(N.symbol)?we.toFixed(4):we.toFixed(5):"-";return e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-[#1a1a1a]",children:[e.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(N.closedAt).toLocaleString()}),e.jsx("td",{className:"py-2 px-3 text-xs font-medium",children:N.symbol}),e.jsx("td",{className:`py-2 px-3 text-xs font-medium ${N.side==="BUY"?"text-blue-400":"text-red-400"}`,children:N.side}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.quantity}),e.jsx("td",{className:"py-2 px-3 text-xs",children:q(N.openPrice)}),e.jsx("td",{className:"py-2 px-3 text-xs",children:q(N.closePrice)}),e.jsxs("td",{className:"py-2 px-3 text-xs",children:["$",((ne=N.commission)==null?void 0:ne.toFixed(2))||"0.00"]}),e.jsxs("td",{className:"py-2 px-3 text-xs",children:["$",((ue=N.swap)==null?void 0:ue.toFixed(2))||"0.00"]}),e.jsxs("td",{className:`py-2 px-3 text-xs font-medium ${N.realizedPnl>=0?"text-green-400":"text-red-400"}`,children:["$",((se=N.realizedPnl)==null?void 0:se.toFixed(2))||"0.00"]}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-400",children:N.closedBy||"USER"})]},N._id)})})]}),X==="Pending"&&e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-gray-500 border-b border-gray-800 sticky top-0 bg-[#0d0d0d]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Time"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Symbol"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Type"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Lots"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Price"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"SL"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"TP"}),e.jsx("th",{className:"text-left py-2 px-3 font-normal",children:"Action"})]})}),e.jsx("tbody",{children:xt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-8 text-gray-500",children:"No pending orders"})}):xt.map(N=>{var q;return e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-[#1a1a1a]",children:[e.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(N.createdAt).toLocaleTimeString()}),e.jsx("td",{className:"py-2 px-3 text-xs font-medium",children:N.symbol}),e.jsx("td",{className:`py-2 px-3 text-xs font-medium ${N.orderType.includes("BUY")?"text-blue-400":"text-red-400"}`,children:N.orderType}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.quantity}),e.jsx("td",{className:"py-2 px-3 text-xs",children:(q=N.pendingPrice)==null?void 0:q.toFixed(5)}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.stopLoss||"-"}),e.jsx("td",{className:"py-2 px-3 text-xs",children:N.takeProfit||"-"}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("button",{onClick:()=>q0(N._id),className:"p-1.5 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",title:"Cancel Order",children:e.jsx(ge,{size:12})})})]},N._id)})})]}),X==="Cancelled"&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No cancelled orders"})]})]})]}),x&&e.jsxs("div",{className:`${le?"absolute inset-0 z-20":"w-72"} bg-[#0d0d0d] border-l border-gray-800 flex flex-col shrink-0`,children:[e.jsxs("div",{className:"px-4 py-4 border-b border-gray-800 flex items-center justify-between",children:[e.jsxs("span",{className:"text-white text-base font-medium",children:[v.symbol," order"]}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-white",children:e.jsx(ge,{size:18})})]}),e.jsxs("div",{className:"flex border-b border-gray-800",children:[e.jsx("button",{onClick:()=>S("Market"),className:`flex-1 py-3 text-sm font-medium ${p==="Market"?"text-white border-b-2 border-blue-500":"text-gray-500"}`,children:"Market"}),e.jsx("button",{onClick:()=>S("Pending"),className:`flex-1 py-3 text-sm font-medium ${p==="Pending"?"text-white border-b-2 border-blue-500":"text-gray-500"}`,children:"Pending"})]}),p==="Market"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 flex-1 overflow-y-auto",children:[e.jsx("select",{className:"w-full bg-[#1a1a1a] border border-gray-700 rounded px-3 py-2 text-white text-sm mb-3 focus:outline-none",children:e.jsx("option",{children:"Regular settings"})}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("button",{onClick:()=>$("SELL"),className:`flex-1 rounded py-2 text-center transition-colors ${C==="SELL"?"bg-red-500/20 border-2 border-red-500":"bg-[#1a1a1a] border-2 border-gray-600 hover:border-red-500/50"}`,children:[e.jsx("div",{className:"text-gray-400 text-[10px]",children:"Sell"}),e.jsx("div",{className:"text-red-500 font-mono text-base font-semibold",children:(vd=v.symbol)!=null&&vd.includes("JPY")?(Nd=v.bid)==null?void 0:Nd.toFixed(3):["BTCUSD","ETHUSD","XAUUSD"].includes(v.symbol)?(wd=v.bid)==null?void 0:wd.toFixed(2):(kd=v.bid)==null?void 0:kd.toFixed(5)})]}),e.jsxs("button",{onClick:()=>$("BUY"),className:`flex-1 rounded py-2 text-center transition-colors ${C==="BUY"?"bg-blue-500/20 border-2 border-blue-500":"bg-[#1a1a1a] border-2 border-gray-600 hover:border-blue-500/50"}`,children:[e.jsx("div",{className:"text-gray-400 text-[10px]",children:"Buy"}),e.jsx("div",{className:"text-blue-500 font-mono text-base font-semibold",children:(Sd=v.symbol)!=null&&Sd.includes("JPY")?(Cd=v.ask)==null?void 0:Cd.toFixed(3):["BTCUSD","ETHUSD","XAUUSD"].includes(v.symbol)?(Td=v.ask)==null?void 0:Td.toFixed(2):(Ed=v.ask)==null?void 0:Ed.toFixed(5)})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-white text-xs mb-1 block",children:"Volume"}),e.jsxs("div",{className:"flex items-center bg-[#1a1a1a] border border-gray-700 rounded",children:[e.jsx("button",{onClick:()=>P(Math.max(.01,parseFloat(E)-.01).toFixed(2)),className:"px-3 py-2 text-gray-400 hover:text-white border-r border-gray-700",children:e.jsx(Vl,{size:14})}),e.jsx("input",{type:"text",value:E,onChange:N=>P(N.target.value),className:"flex-1 bg-transparent text-center text-white text-sm font-medium focus:outline-none py-2"}),e.jsx("button",{onClick:()=>P((parseFloat(E)+.01).toFixed(2)),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:e.jsx(qe,{size:14})})]}),e.jsxs("div",{className:"text-right text-gray-500 text-[10px] mt-1",children:[E," lot"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Leverage (Max: 100x)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:z,onChange:N=>G(N.target.value),className:"flex-1 bg-[#1a1a1a] border border-gray-700 rounded px-3 py-2 text-white text-sm focus:outline-none",children:[e.jsx("option",{value:"1:50",children:"1:50"}),e.jsx("option",{value:"1:100",children:"1:100"}),e.jsx("option",{value:"1:200",children:"1:200"}),e.jsx("option",{value:"1:500",children:"1:500"})]}),e.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-700 rounded px-3 py-2 text-green-500 text-sm font-medium",children:["$",(()=>{const N=parseInt(z.replace("1:",""))||100,q=["BTCUSD","ETHUSD","LTCUSD","XRPUSD"].includes(v.symbol)?1:v.symbol==="XAUUSD"?100:v.symbol==="XAGUSD"?5e3:1e5;return(parseFloat(E||0)*q*(v.ask||0)/N).toFixed(2)})()]})]}),e.jsxs("div",{className:"text-gray-500 text-[10px] mt-1",children:["Margin Required | Free: $",((Pd=st.freeMargin)==null?void 0:Pd.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>oe(!O),className:"flex items-center justify-between w-full py-2",children:[e.jsx("span",{className:"text-green-500 text-sm",children:"Take profit"}),e.jsx(qe,{size:16,className:`text-green-500 transition-transform ${O?"rotate-45":""}`})]}),O&&e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("input",{type:"text",value:me,onChange:N=>ae(N.target.value),placeholder:"Price",className:"flex-1 bg-[#1a1a1a] border border-green-500/50 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-green-500"}),e.jsx("input",{type:"text",placeholder:"Pips",className:"w-16 bg-[#1a1a1a] border border-gray-700 rounded px-2 py-2 text-white text-sm focus:outline-none"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>Q(!de),className:"flex items-center justify-between w-full py-2",children:[e.jsx("span",{className:"text-red-500 text-sm",children:"Stop loss"}),e.jsx(qe,{size:16,className:`text-red-500 transition-transform ${de?"rotate-45":""}`})]}),de&&e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("input",{type:"text",value:be,onChange:N=>Y(N.target.value),placeholder:"Price",className:"flex-1 bg-[#1a1a1a] border border-red-500/50 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500"}),e.jsx("input",{type:"text",placeholder:"Pips",className:"w-16 bg-[#1a1a1a] border border-gray-700 rounded px-2 py-2 text-white text-sm focus:outline-none"})]})]}),e.jsxs("div",{className:"bg-[#1a1a1a] rounded p-3 mb-3",children:[e.jsx("div",{className:"text-white text-xs font-medium mb-2",children:"Trading Charges"}),e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Spread"}),e.jsx("span",{className:"text-white",children:"10 pips"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Commission"}),e.jsx("span",{className:"text-white",children:"$0.10 ($10/lot)"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:"Margin Required"}),e.jsxs("span",{className:"text-white text-base font-semibold",children:["$",ih()]})]})]}),mt&&e.jsx("div",{className:"mx-3 mb-2 p-2 bg-red-500/20 border border-red-500 rounded text-red-400 text-xs text-center",children:mt}),It&&e.jsx("div",{className:"mx-3 mb-2 p-2 bg-green-500/20 border border-green-500 rounded text-green-400 text-xs text-center",children:It}),e.jsxs("div",{className:"p-3 border-t border-gray-800",children:[e.jsx("button",{onClick:()=>pi(C),disabled:Me,className:`w-full py-3 rounded font-medium text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${C==="BUY"?"bg-blue-600/20 border border-blue-600 hover:bg-blue-600/30 text-blue-400":"bg-red-600/20 border border-red-600 hover:bg-red-600/30 text-red-400"}`,children:Me?"Executing...":`Open ${C} Order`}),e.jsxs("div",{className:"text-center text-gray-500 text-xs mt-2",children:[E," lots @ ",C==="BUY"?(Ad=v.ask)==null?void 0:Ad.toFixed(2):(Dd=v.bid)==null?void 0:Dd.toFixed(2)]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-gray-400 text-xs mb-2",children:"Order type"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["BUY LIMIT","SELL LIMIT","BUY STOP","SELL STOP"].map(N=>e.jsx("button",{onClick:()=>H(N),className:`py-2 rounded text-xs font-medium transition-colors ${Te===N?N.includes("BUY")?"bg-green-600 text-white":"bg-[#1a1a1a] border border-gray-600 text-white":"bg-[#1a1a1a] border border-gray-700 text-gray-400 hover:text-white"}`,children:N},N))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Entry price"}),e.jsx("input",{type:"text",value:he,onChange:N=>ye(N.target.value),placeholder:"Enter price",className:"w-full bg-[#1a1a1a] border border-gray-700 rounded px-3 py-2.5 text-white text-sm focus:outline-none focus:border-gray-600"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Order volume"}),e.jsxs("div",{className:"flex items-center bg-[#1a1a1a] border border-gray-700 rounded",children:[e.jsx("input",{type:"text",value:E,onChange:N=>P(N.target.value),className:"flex-1 bg-transparent text-center text-white text-sm font-medium focus:outline-none py-2"}),e.jsx("button",{onClick:()=>P(Math.max(.01,parseFloat(E)-.01).toFixed(2)),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:e.jsx(Vl,{size:14})}),e.jsx("button",{onClick:()=>P((parseFloat(E)+.01).toFixed(2)),className:"px-3 py-2 text-gray-400 hover:text-white border-l border-gray-700",children:e.jsx(qe,{size:14})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Leverage (Max: 100x)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:z,onChange:N=>G(N.target.value),className:"flex-1 bg-[#1a1a1a] border border-gray-700 rounded px-3 py-2 text-white text-sm focus:outline-none",children:[e.jsx("option",{value:"1:50",children:"1:50"}),e.jsx("option",{value:"1:100",children:"1:100"}),e.jsx("option",{value:"1:200",children:"1:200"}),e.jsx("option",{value:"1:500",children:"1:500"})]}),e.jsx("div",{className:"bg-[#1a1a1a] border border-gray-700 rounded px-3 py-2 text-green-500 text-sm",children:"$0"})]}),e.jsx("div",{className:"text-gray-500 text-[10px] mt-1",children:"Trading power: $0.00  100 = $0"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>oe(!O),className:"flex items-center justify-between w-full py-2",children:[e.jsx("span",{className:"text-green-500 text-sm",children:"Take profit"}),e.jsx(qe,{size:16,className:`text-green-500 transition-transform ${O?"rotate-45":""}`})]}),O&&e.jsx("div",{className:"flex gap-2 mt-1",children:e.jsx("input",{type:"text",value:me,onChange:N=>ae(N.target.value),placeholder:"Price",className:"flex-1 bg-[#1a1a1a] border border-green-500/50 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-green-500"})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>Q(!de),className:"flex items-center justify-between w-full py-2",children:[e.jsx("span",{className:"text-red-500 text-sm",children:"Stop loss"}),e.jsx(qe,{size:16,className:`text-red-500 transition-transform ${de?"rotate-45":""}`})]}),de&&e.jsx("div",{className:"flex gap-2 mt-1",children:e.jsx("input",{type:"text",value:be,onChange:N=>Y(N.target.value),placeholder:"Price",className:"flex-1 bg-[#1a1a1a] border border-red-500/50 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-red-500"})})]}),e.jsxs("div",{className:"bg-[#1a1a1a] rounded p-3 mb-3",children:[e.jsx("div",{className:"text-white text-xs font-medium mb-2",children:"Trading Charges"}),e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Spread"}),e.jsx("span",{className:"text-white",children:"10 pips"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Commission"}),e.jsx("span",{className:"text-white",children:"$0.10 ($10/lot)"})]})]})]}),mt&&e.jsx("div",{className:"mx-3 mb-2 p-2 bg-red-500/20 border border-red-500 rounded text-red-400 text-xs text-center",children:mt}),It&&e.jsx("div",{className:"mx-3 mb-2 p-2 bg-green-500/20 border border-green-500 rounded text-green-400 text-xs text-center",children:It}),e.jsxs("div",{className:"p-3 border-t border-gray-800",children:[e.jsx("button",{onClick:X0,disabled:Me,className:"w-full bg-blue-600/20 border border-blue-600 hover:bg-blue-600/30 text-blue-400 py-3 rounded font-medium text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Me?"Placing...":`Place ${Te}`}),e.jsxs("div",{className:"text-center text-gray-500 text-xs mt-2",children:[E," lots @ ",he||"--.--"]})]})]})]})]}),e.jsxs("footer",{className:"h-6 bg-black border-t border-gray-800 flex items-center px-2 sm:px-3 text-[10px] sm:text-xs shrink-0 overflow-x-auto",children:[e.jsx("span",{className:"text-white font-medium shrink-0",children:v.symbol}),e.jsxs("span",{className:"text-gray-500 ml-2 sm:ml-4 shrink-0",children:["Bal: ",e.jsxs("span",{className:"text-white",children:["$",((Id=st.balance)==null?void 0:Id.toFixed(2))||"0.00"]})]}),!le&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-gray-500 ml-4 shrink-0",children:["Credit: ",e.jsxs("span",{className:"text-purple-400",children:["$",((zd=st.credit)==null?void 0:zd.toFixed(2))||"0.00"]})]}),e.jsxs("span",{className:"text-gray-500 ml-4 shrink-0",children:["Eq: ",e.jsxs("span",{className:st.floatingPnl>=0?"text-green-500":"text-red-500",children:["$",((Ld=st.equity)==null?void 0:Ld.toFixed(2))||"0.00"]})]}),e.jsxs("span",{className:"text-gray-500 ml-4 shrink-0",children:["Margin: ",e.jsxs("span",{className:"text-yellow-500",children:["$",((Md=st.usedMargin)==null?void 0:Md.toFixed(2))||"0.00"]})]}),e.jsxs("span",{className:"text-gray-500 ml-4 shrink-0",children:["Free: ",e.jsxs("span",{className:"text-green-500",children:["$",((Ud=st.freeMargin)==null?void 0:Ud.toFixed(2))||"0.00"]})]})]}),e.jsx("div",{className:"flex-1"}),!le&&e.jsxs("span",{className:"text-gray-400 shrink-0",children:["Standard - ",n==null?void 0:n.accountId]}),e.jsxs("span",{className:"text-green-500 ml-2 sm:ml-3 shrink-0 flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Live"]})]})]}),je&&Ue&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",onClick:()=>ve(!1),children:e.jsxs("div",{className:"w-full sm:w-96 bg-[#1c1c1e] sm:rounded-2xl rounded-t-2xl overflow-hidden animate-slide-up",onClick:N=>N.stopPropagation(),children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-700/50 text-center",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Modify Trade"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[Ue.symbol,"  ",Ue.side,"  ",Ue.quantity," lots"]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[mt&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 text-red-400 text-sm",children:mt}),It&&e.jsx("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3 text-green-400 text-sm",children:It}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Stop Loss"}),e.jsx("input",{type:"number",value:br,onChange:N=>ka(N.target.value),placeholder:"Enter stop loss price",step:"0.00001",className:"w-full bg-[#2c2c2e] border border-gray-600 rounded-xl px-4 py-3 text-white text-base focus:outline-none focus:border-red-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Take Profit"}),e.jsx("input",{type:"number",value:B,onChange:N=>K(N.target.value),placeholder:"Enter take profit price",step:"0.00001",className:"w-full bg-[#2c2c2e] border border-gray-600 rounded-xl px-4 py-3 text-white text-base focus:outline-none focus:border-green-500 transition-colors"})]})]}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{type:"button",onClick:async N=>{N.preventDefault(),N.stopPropagation(),console.log("Save Changes clicked, trade:",Ue==null?void 0:Ue._id),await Q0()},className:"w-full py-4 text-blue-500 font-semibold text-lg hover:bg-[#2c2c2e] transition-colors cursor-pointer active:bg-[#3c3c3e]",children:"Save Changes"})}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:()=>ve(!1),className:"w-full py-4 text-gray-400 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:"Cancel"})})]})}),pe&&ds&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"w-full sm:w-80 bg-[#1c1c1e] sm:rounded-2xl rounded-t-2xl overflow-hidden animate-slide-up",children:[e.jsxs("div",{className:"px-4 py-4 text-center",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Close Trade?"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[ds.symbol,"  ",ds.side,"  ",ds.quantity," lots"]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"This action cannot be undone"})]}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:eh,className:"w-full py-4 text-red-500 font-semibold text-lg hover:bg-[#2c2c2e] transition-colors",children:"Close Trade"})}),fe.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsxs("button",{onClick:()=>{Ae(!1),gi("all")},className:"w-full py-4 text-orange-500 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:["Close All (",fe.length,")"]})}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:()=>{Ae(!1),gi("profit")},className:"w-full py-4 text-green-500 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:"Close Profit"})}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:()=>{Ae(!1),gi("loss")},className:"w-full py-4 text-red-400 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:"Close Loss"})})]}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:()=>Ae(!1),className:"w-full py-4 text-blue-500 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:"Cancel"})})]})}),Ne&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"w-full sm:w-80 bg-[#1c1c1e] sm:rounded-2xl rounded-t-2xl overflow-hidden animate-slide-up",children:[e.jsxs("div",{className:"px-4 py-4 text-center",children:[e.jsxs("h3",{className:"text-white font-semibold text-lg",children:[bt==="all"&&"Close All Trades?",bt==="profit"&&"Close Winning Trades?",bt==="loss"&&"Close Losing Trades?"]}),e.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[bt==="all"&&`This will close all ${fe.length} open trade(s)`,bt==="profit"&&"This will close all trades currently in profit",bt==="loss"&&"This will close all trades currently in loss"]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"This action cannot be undone"})]}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsxs("button",{onClick:th,className:`w-full py-4 font-semibold text-lg hover:bg-[#2c2c2e] transition-colors ${bt==="profit"?"text-green-500":bt==="loss"?"text-red-500":"text-orange-500"}`,children:[bt==="all"&&"Close All",bt==="profit"&&"Close Winners",bt==="loss"&&"Close Losers"]})}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:()=>Se(!1),className:"w-full py-4 text-blue-500 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:"Cancel"})})]})}),ke&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"w-full sm:w-96 bg-[#1c1c1e] sm:rounded-2xl rounded-t-2xl overflow-hidden animate-slide-up",children:[e.jsxs("div",{className:"px-4 py-4 text-center border-b border-gray-700/50",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"text-white text-lg font-semibold",children:"Kill Switch"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Block all trading for a set period to prevent emotional decisions"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-xs mb-2 block",children:"Duration"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",min:"1",max:"999",value:$n.value,onChange:N=>vs(q=>({...q,value:parseInt(N.target.value)||1})),className:"flex-1 bg-[#2c2c2e] text-white px-3 py-2 rounded-lg text-center text-lg font-mono"}),e.jsxs("select",{value:$n.unit,onChange:N=>vs(q=>({...q,unit:N.target.value})),className:"bg-[#2c2c2e] text-white px-3 py-2 rounded-lg",children:[e.jsx("option",{value:"seconds",children:"Seconds"}),e.jsx("option",{value:"minutes",children:"Minutes"}),e.jsx("option",{value:"hours",children:"Hours"}),e.jsx("option",{value:"days",children:"Days"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-xs mb-2 block",children:"Quick Select"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>vs({value:30,unit:"seconds"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"30s"}),e.jsx("button",{onClick:()=>vs({value:5,unit:"minutes"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"5m"}),e.jsx("button",{onClick:()=>vs({value:30,unit:"minutes"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"30m"}),e.jsx("button",{onClick:()=>vs({value:1,unit:"hours"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"1h"}),e.jsx("button",{onClick:()=>vs({value:4,unit:"hours"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"4h"}),e.jsx("button",{onClick:()=>vs({value:12,unit:"hours"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"12h"}),e.jsx("button",{onClick:()=>vs({value:1,unit:"days"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"1d"}),e.jsx("button",{onClick:()=>vs({value:7,unit:"days"}),className:"bg-[#2c2c2e] hover:bg-[#3c3c3e] text-white py-2 rounded-lg text-xs",children:"7d"})]})]}),e.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-orange-400 text-xs",children:" Once activated, you won't be able to open new trades until the timer expires. You can still close existing trades."})})]}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:J0,className:"w-full py-4 text-red-500 font-semibold text-lg hover:bg-[#2c2c2e] transition-colors",children:"Activate Kill Switch"})}),e.jsx("div",{className:"border-t border-gray-700/50",children:e.jsx("button",{onClick:()=>Es(!1),className:"w-full py-4 text-blue-500 font-medium text-lg hover:bg-[#2c2c2e] transition-colors",children:"Cancel"})})]})}),e.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})},ms="http://localhost:5001/api",ky=()=>{var Pe;const t=Ze(),[s,r]=o.useState(!1),[a,n]=o.useState("discover"),[l,i]=o.useState([]),[d,c]=o.useState([]),[u,g]=o.useState([]),[b,y]=o.useState([]),[j,v]=o.useState(!0),[w,D]=o.useState(!1),[f,x]=o.useState(null),[m,p]=o.useState("FIXED_LOT"),[S,E]=o.useState("0.01"),[P,z]=o.useState([]),[G,V]=o.useState(""),[U,F]=o.useState(""),[I,X]=o.useState(!1),[T,k]=o.useState(null),[W,C]=o.useState(!1),[$,h]=o.useState({displayName:"",description:"",tradingAccountId:"",requestedCommissionPercentage:10}),[A,_]=o.useState(!1),[te,O]=o.useState(window.innerWidth<768),oe=JSON.parse(localStorage.getItem("user")||"{}"),de=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}];o.useEffect(()=>{const M=()=>O(window.innerWidth<768);return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),o.useEffect(()=>{me(),ae(),be(),Y(),Te(),H()},[]),o.useEffect(()=>{T!=null&&T._id&&Q()},[T]);const Q=async()=>{if(T!=null&&T._id)try{const le=await(await fetch(`${ms}/copy/my-followers/${T._id}`)).json();y(le.followers||[])}catch(M){console.error("Error fetching my followers:",M)}},me=async()=>{try{const le=await(await fetch(`${ms}/prop/status`)).json();le.success&&X(le.enabled)}catch(M){console.error("Error:",M)}},ae=async()=>{try{const le=await(await fetch(`${ms}/copy/masters`)).json();i(le.masters||[])}catch(M){console.error("Error fetching masters:",M)}v(!1)},be=async()=>{try{const le=await(await fetch(`${ms}/copy/my-subscriptions/${oe._id}`)).json();c(le.subscriptions||[])}catch(M){console.error("Error fetching subscriptions:",M)}},Y=async()=>{try{const le=await(await fetch(`${ms}/copy/my-copy-trades/${oe._id}?limit=50`)).json();g(le.copyTrades||[])}catch(M){console.error("Error fetching copy trades:",M)}},Te=async()=>{var M;try{const ie=await(await fetch(`${ms}/trading-accounts/user/${oe._id}`)).json();z(ie.accounts||[]),((M=ie.accounts)==null?void 0:M.length)>0&&(V(ie.accounts[0]._id),h(fe=>({...fe,tradingAccountId:ie.accounts[0]._id})))}catch(le){console.error("Error fetching accounts:",le)}},H=async()=>{try{const le=await(await fetch(`${ms}/copy/master/my-profile/${oe._id}`)).json();le.master&&k(le.master)}catch{console.log("No master profile found")}},he=async()=>{const M=$.tradingAccountId||(P.length>0?P[0]._id:"");if(!$.displayName.trim()){alert("Please enter a display name");return}if(!M){alert("Please select a trading account");return}const le={...$,tradingAccountId:M};_(!0);try{const fe=await(await fetch(`${ms}/copy/master/apply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:oe._id,...le})})).json();fe.master?(alert("Application submitted successfully! Please wait for admin approval."),C(!1),H()):alert(fe.message||"Failed to submit application")}catch(ie){console.error("Error applying as master:",ie),alert("Failed to submit application")}_(!1)},ye=async()=>{if(!(!f||!G))try{const le=await(await fetch(`${ms}/copy/follow`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({followerUserId:oe._id,masterId:f._id,followerAccountId:G,copyMode:m,copyValue:parseFloat(S)})})).json();le.follower?(alert("Successfully following master!"),D(!1),be()):alert(le.message||"Failed to follow")}catch(M){console.error("Error following master:",M),alert("Failed to follow master")}},L=async(M,le)=>{const ie=le==="ACTIVE"?"pause":"resume";try{(await(await fetch(`${ms}/copy/follow/${M}/${ie}`,{method:"PUT"})).json()).follower&&be()}catch(fe){console.error("Error updating subscription:",fe)}},ce=async M=>{if(confirm("Are you sure you want to stop following this master?"))try{(await(await fetch(`${ms}/copy/follow/${M}/stop`,{method:"PUT"})).json()).follower&&be()}catch(le){console.error("Error stopping subscription:",le)}},R=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")},Z=l.filter(M=>{var le;return(le=M.displayName)==null?void 0:le.toLowerCase().includes(U.toLowerCase())});return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex flex-col md:flex-row",children:[te&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-800 border-b border-gray-800 px-4 py-3 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 -ml-2 hover:bg-dark-700 rounded-lg",children:e.jsx(Br,{size:22,className:"text-white"})}),e.jsx("h1",{className:"text-white font-semibold text-lg flex-1",children:"Copy Trading"}),e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 hover:bg-dark-700 rounded-lg",children:e.jsx(fr,{size:20,className:"text-gray-400"})})]}),!te&&e.jsxs("aside",{className:`${s?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"CL"})})}),e.jsx("nav",{className:"flex-1 px-2",children:de.map(M=>e.jsxs("button",{onClick:()=>t(M.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${M.name==="Copytrade"?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(M.icon,{size:18,className:"flex-shrink-0"}),s&&e.jsx("span",{className:"text-sm font-medium",children:M.name})]},M.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:R,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white rounded-lg",children:[e.jsx(Zt,{size:18}),s&&e.jsx("span",{className:"text-sm",children:"Log Out"})]})})]}),e.jsxs("main",{className:`flex-1 overflow-auto ${te?"pt-14":""}`,children:[!te&&e.jsx("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Copy Trading"})}),e.jsxs("div",{className:"p-6",children:[!T&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-xl p-5 border border-yellow-500/30 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx(rl,{size:24,className:"text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Become a Master Trader"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Share your trades and earn commission from followers"})]})]}),e.jsxs("button",{onClick:()=>C(!0),className:"bg-yellow-500 text-black px-6 py-2 rounded-lg font-medium hover:bg-yellow-400 flex items-center gap-2",children:[e.jsx(rl,{size:16}),"Apply Now"]})]})}),T&&e.jsxs("div",{className:`rounded-xl p-5 border mb-6 ${T.status==="ACTIVE"?"bg-green-500/10 border-green-500/30":T.status==="PENDING"?"bg-yellow-500/10 border-yellow-500/30":T.status==="REJECTED"?"bg-red-500/10 border-red-500/30":"bg-gray-500/10 border-gray-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${T.status==="ACTIVE"?"bg-green-500/20":T.status==="PENDING"?"bg-yellow-500/20":"bg-red-500/20"}`,children:e.jsx(rl,{size:24,className:T.status==="ACTIVE"?"text-green-500":T.status==="PENDING"?"text-yellow-500":"text-red-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-semibold",children:["Master Trader: ",T.displayName]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Status: ",e.jsx("span",{className:T.status==="ACTIVE"?"text-green-500":T.status==="PENDING"?"text-yellow-500":"text-red-500",children:T.status}),T.status==="ACTIVE"&&`  ${((Pe=T.stats)==null?void 0:Pe.activeFollowers)||0} followers`]})]})]}),T.status==="ACTIVE"&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Commission Rate"}),e.jsxs("p",{className:"text-white font-semibold",children:[T.approvedCommissionPercentage,"%"]})]})]}),T.status==="REJECTED"&&T.rejectionReason&&e.jsxs("p",{className:"text-red-400 text-sm mt-3",children:["Reason: ",T.rejectionReason]})]}),e.jsx("div",{className:"flex gap-4 mb-6",children:["discover","subscriptions","trades",...(T==null?void 0:T.status)==="ACTIVE"?["my-followers"]:[]].map(M=>e.jsx("button",{onClick:()=>n(M),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===M?"bg-accent-green text-black":"bg-dark-800 text-gray-400 hover:text-white"}`,children:M==="discover"?"Discover Masters":M==="subscriptions"?"My Subscriptions":M==="trades"?"Copy Trades":"My Followers"},M))}),a==="discover"&&e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-4 mb-6",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),e.jsx("input",{type:"text",placeholder:"Search masters...",value:U,onChange:M=>F(M.target.value),className:"w-full bg-dark-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white"})]})}),j?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading masters..."}):Z.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Gt,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No master traders available yet"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Check back later for trading experts to follow"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.map(M=>{var le,ie,fe,Le,xt,yt,ot;return e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-bold",children:(le=M.displayName)==null?void 0:le.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:M.displayName}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[((ie=M.stats)==null?void 0:ie.activeFollowers)||0," followers"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Win Rate"}),e.jsxs("p",{className:"text-white font-semibold",children:[((Le=(fe=M.stats)==null?void 0:fe.winRate)==null?void 0:Le.toFixed(1))||0,"%"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Total Trades"}),e.jsx("p",{className:"text-white font-semibold",children:((xt=M.stats)==null?void 0:xt.totalTrades)||0})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Commission"}),e.jsxs("p",{className:"text-white font-semibold",children:[M.approvedCommissionPercentage||0,"%"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Profit"}),e.jsxs("p",{className:"text-accent-green font-semibold",children:["$",((ot=(yt=M.stats)==null?void 0:yt.totalProfitGenerated)==null?void 0:ot.toFixed(2))||"0.00"]})]})]}),e.jsx("button",{onClick:()=>{x(M),D(!0)},className:"w-full bg-accent-green text-black py-2 rounded-lg font-medium hover:bg-accent-green/90",children:"Follow"})]},M._id)})})]}),a==="subscriptions"&&e.jsx("div",{children:d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"You're not following any masters yet"}),e.jsx("button",{onClick:()=>n("discover"),className:"mt-4 text-accent-green hover:underline",children:"Discover Masters "})]}):e.jsx("div",{className:"space-y-4",children:d.map(M=>{var le,ie,fe,Le,xt,yt,ot,St,Me,et;return e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-bold",children:(ie=(le=M.masterId)==null?void 0:le.displayName)==null?void 0:ie.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:(fe=M.masterId)==null?void 0:fe.displayName}),e.jsx("p",{className:"text-gray-500 text-sm",children:M.copyMode==="FIXED_LOT"?`Fixed: ${M.copyValue} lots`:`Multiplier: ${M.copyValue}x`})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${M.status==="ACTIVE"?"bg-green-500/20 text-green-500":M.status==="PAUSED"?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:M.status}),e.jsx("button",{onClick:()=>L(M._id,M.status),className:"p-2 bg-dark-700 rounded-lg hover:bg-dark-600",children:M.status==="ACTIVE"?e.jsx(sy,{size:16,className:"text-yellow-500"}):e.jsx(ny,{size:16,className:"text-green-500"})}),e.jsx("button",{onClick:()=>ce(M._id),className:"p-2 bg-dark-700 rounded-lg hover:bg-red-500/20",children:e.jsx(ge,{size:16,className:"text-red-500"})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Copied Trades"}),e.jsx("p",{className:"text-white font-semibold",children:((Le=M.stats)==null?void 0:Le.totalCopiedTrades)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Total Profit"}),e.jsxs("p",{className:"text-accent-green font-semibold",children:["$",((yt=(xt=M.stats)==null?void 0:xt.totalProfit)==null?void 0:yt.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Total Loss"}),e.jsxs("p",{className:"text-red-500 font-semibold",children:["$",((St=(ot=M.stats)==null?void 0:ot.totalLoss)==null?void 0:St.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Commission Paid"}),e.jsxs("p",{className:"text-white font-semibold",children:["$",((et=(Me=M.stats)==null?void 0:Me.totalCommissionPaid)==null?void 0:et.toFixed(2))||"0.00"]})]})]})]},M._id)})})}),a==="trades"&&e.jsx("div",{children:u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(it,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No copy trades yet"})]}):e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Master"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Symbol"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Side"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Lots"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Open Price"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Close Price"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"P/L"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Status"})]})}),e.jsx("tbody",{children:u.map(M=>{var le,ie,fe,Le;return e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:((le=M.masterId)==null?void 0:le.displayName)||"-"}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:M.symbol}),e.jsx("td",{className:`px-4 py-3 text-sm ${M.side==="BUY"?"text-green-500":"text-red-500"}`,children:M.side}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:M.followerLotSize}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:(ie=M.followerOpenPrice)==null?void 0:ie.toFixed(5)}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:((fe=M.followerClosePrice)==null?void 0:fe.toFixed(5))||"-"}),e.jsxs("td",{className:`px-4 py-3 text-sm font-medium ${M.followerPnl>=0?"text-green-500":"text-red-500"}`,children:["$",((Le=M.followerPnl)==null?void 0:Le.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${M.status==="OPEN"?"bg-blue-500/20 text-blue-500":M.status==="CLOSED"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:M.status})})]},M._id)})})]})})}),a==="my-followers"&&(T==null?void 0:T.status)==="ACTIVE"&&e.jsx("div",{children:b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No followers yet"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Share your profile to attract followers"})]}):e.jsx("div",{className:"space-y-4",children:b.map(M=>{var le,ie,fe,Le,xt,yt,ot,St,Me,et,mt,Ie,It;return e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-500 font-bold",children:((ie=(le=M.followerId)==null?void 0:le.firstName)==null?void 0:ie.charAt(0))||"U"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-semibold",children:[(fe=M.followerId)==null?void 0:fe.firstName," ",(Le=M.followerId)==null?void 0:Le.lastName]}),e.jsx("p",{className:"text-gray-500 text-sm",children:(xt=M.followerId)==null?void 0:xt.email}),e.jsx("p",{className:"text-gray-600 text-xs mt-1",children:M.copyMode==="FIXED_LOT"?`Fixed: ${M.copyValue} lots`:`Multiplier: ${M.copyValue}x`})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${M.status==="ACTIVE"?"bg-green-500/20 text-green-500":M.status==="PAUSED"?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:M.status}),e.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Account: ",(yt=M.followerAccountId)==null?void 0:yt.accountId]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Copied Trades"}),e.jsx("p",{className:"text-white font-semibold",children:((ot=M.stats)==null?void 0:ot.totalCopiedTrades)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Their Profit"}),e.jsxs("p",{className:"text-accent-green font-semibold",children:["$",((Me=(St=M.stats)==null?void 0:St.totalProfit)==null?void 0:Me.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Their Loss"}),e.jsxs("p",{className:"text-red-500 font-semibold",children:["$",((mt=(et=M.stats)==null?void 0:et.totalLoss)==null?void 0:mt.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Commission Earned"}),e.jsxs("p",{className:"text-purple-400 font-semibold",children:["$",((It=(Ie=M.stats)==null?void 0:Ie.totalCommissionPaid)==null?void 0:It.toFixed(2))||"0.00"]})]})]})]},M._id)})})})]})]}),w&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4",children:["Follow ",f.displayName]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Trading Account"}),e.jsx("select",{value:G,onChange:M=>V(M.target.value),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white",children:P.map(M=>{var le;return e.jsxs("option",{value:M._id,children:[M.accountId," - $",(le=M.balance)==null?void 0:le.toFixed(2)]},M._id)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Copy Mode"}),e.jsxs("select",{value:m,onChange:M=>p(M.target.value),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"FIXED_LOT",children:"Fixed Lot Size"}),e.jsx("option",{value:"LOT_MULTIPLIER",children:"Lot Multiplier"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:m==="FIXED_LOT"?"Lot Size":"Multiplier"}),e.jsx("input",{type:"number",value:S,onChange:M=>E(M.target.value),step:"0.01",min:"0.01",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:m==="FIXED_LOT"?"Each copied trade will use this lot size":"Your lot size = Master lot  this value"})]}),e.jsx("div",{className:"bg-dark-700 rounded-lg p-3",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:["Commission: ",e.jsxs("span",{className:"text-white",children:[f.approvedCommissionPercentage,"%"]})," of daily profit"]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-dark-700 text-white py-2 rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:ye,className:"flex-1 bg-accent-green text-black py-2 rounded-lg font-medium hover:bg-accent-green/90",children:"Start Following"})]})]})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx(rl,{size:20,className:"text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Become a Master Trader"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Share your trades with followers"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Display Name *"}),e.jsx("input",{type:"text",value:$.displayName,onChange:M=>h(le=>({...le,displayName:M.target.value})),placeholder:"Your trading name",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Description"}),e.jsx("textarea",{value:$.description,onChange:M=>h(le=>({...le,description:M.target.value})),placeholder:"Tell followers about your trading strategy...",rows:3,className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Trading Account *"}),e.jsxs("select",{value:$.tradingAccountId||(P.length>0?P[0]._id:""),onChange:M=>h(le=>({...le,tradingAccountId:M.target.value})),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[P.length===0&&e.jsx("option",{value:"",children:"No accounts available"}),P.map(M=>{var le;return e.jsxs("option",{value:M._id,children:[M.accountId," - $",(le=M.balance)==null?void 0:le.toFixed(2)]},M._id)})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Trades from this account will be copied to followers"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Requested Commission (%)"}),e.jsx("input",{type:"number",value:$.requestedCommissionPercentage,onChange:M=>h(le=>({...le,requestedCommissionPercentage:parseFloat(M.target.value)||0})),min:"0",max:"50",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Commission you'll earn from followers' daily profits (0-50%)"})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4 space-y-2",children:[e.jsx("p",{className:"text-white text-sm font-medium",children:"Requirements:"}),e.jsxs("ul",{className:"text-gray-400 text-xs space-y-1",children:[e.jsx("li",{children:" Minimum account balance may be required"}),e.jsx("li",{children:" Trading history will be reviewed"}),e.jsx("li",{children:" Admin approval is required"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>C(!1),className:"flex-1 bg-dark-700 text-white py-2 rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:he,disabled:A,className:"flex-1 bg-yellow-500 text-black py-2 rounded-lg font-medium hover:bg-yellow-400 disabled:opacity-50",children:A?"Submitting...":"Submit Application"})]})]})})]})},vr="http://localhost:5001/api",Sy=()=>{var $,h,A,_,te;const t=Ze(),[s,r]=o.useState(!1),[a,n]=o.useState("overview"),[l,i]=o.useState(null),[d,c]=o.useState([]),[u,g]=o.useState([]),[b,y]=o.useState([]),[j,v]=o.useState(!0),[w,D]=o.useState(!1),[f,x]=o.useState(""),[m,p]=o.useState(!1),[S,E]=o.useState(window.innerWidth<768),P=JSON.parse(localStorage.getItem("user")||"{}"),z=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}];o.useEffect(()=>{const O=()=>E(window.innerWidth<768);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),o.useEffect(()=>{G(),V()},[]);const G=async()=>{try{const oe=await(await fetch(`${vr}/prop/status`)).json();oe.success&&p(oe.enabled)}catch(O){console.error("Error fetching challenge status:",O)}},V=async()=>{var O,oe;try{const Q=await(await fetch(`${vr}/ib/my-profile/${P._id}`)).json();Q.ibUser&&(i({...Q.ibUser,ibWalletBalance:((O=Q.wallet)==null?void 0:O.balance)||0,totalCommissionEarned:((oe=Q.wallet)==null?void 0:oe.totalEarned)||0,stats:Q.stats||{}}),(Q.ibUser.status==="ACTIVE"||Q.ibUser.ibStatus==="ACTIVE")&&(U(),F(),I()))}catch(de){console.error("Error fetching IB profile:",de)}v(!1)},U=async()=>{try{const oe=await(await fetch(`${vr}/ib/my-referrals/${P._id}`)).json();c(oe.referrals||[])}catch(O){console.error("Error fetching referrals:",O)}},F=async()=>{try{const oe=await(await fetch(`${vr}/ib/my-commissions/${P._id}`)).json();g(oe.commissions||[])}catch(O){console.error("Error fetching commissions:",O)}},I=async()=>{var O;try{const de=await(await fetch(`${vr}/ib/my-downline/${P._id}`)).json();y(((O=de.tree)==null?void 0:O.downlines)||[])}catch(oe){console.error("Error fetching downline:",oe)}},X=async()=>{D(!0);try{const oe=await(await fetch(`${vr}/ib/apply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:P._id})})).json();oe.ibUser?(i(oe.ibUser),alert("IB application submitted successfully!")):alert(oe.message||"Failed to apply")}catch(O){console.error("Error applying:",O),alert("Failed to submit application")}D(!1)},T=async()=>{if(!f||parseFloat(f)<=0){alert("Please enter a valid amount");return}try{const oe=await(await fetch(`${vr}/ib/withdraw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:P._id,amount:parseFloat(f)})})).json();oe.status?(alert(oe.message),x(""),V()):alert(oe.message||"Failed to withdraw")}catch(O){console.error("Error withdrawing:",O),alert("Failed to process withdrawal")}},k=()=>{const O=`${window.location.origin}/user/signup?ref=${l==null?void 0:l.referralCode}`;navigator.clipboard.writeText(O),alert("Referral link copied!")},W=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")},C=(O,oe=0)=>!O||O.length===0?null:O.map((de,Q)=>{var me;return e.jsx("div",{className:"ml-4 border-l border-gray-700 pl-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${de.isIB?"bg-accent-green/20":"bg-gray-700"}`,children:e.jsx("span",{className:de.isIB?"text-accent-green":"text-gray-400",children:((me=de.firstName)==null?void 0:me.charAt(0))||"?"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm",children:de.firstName||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-xs",children:de.email})]}),e.jsx("div",{className:"ml-auto text-right",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${de.isIB?"bg-accent-green/20 text-accent-green":"bg-gray-700 text-gray-400"}`,children:[de.isIB?"IB":"User","  Level ",(de.level||0)+1]})})]})},de._id||Q)});return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex flex-col md:flex-row",children:[S&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-800 border-b border-gray-800 px-4 py-3 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 -ml-2 hover:bg-dark-700 rounded-lg",children:e.jsx(Br,{size:22,className:"text-white"})}),e.jsx("h1",{className:"text-white font-semibold text-lg flex-1",children:"IB Program"}),e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 hover:bg-dark-700 rounded-lg",children:e.jsx(fr,{size:20,className:"text-gray-400"})})]}),!S&&e.jsxs("aside",{className:`${s?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"CL"})})}),e.jsx("nav",{className:"flex-1 px-2",children:z.map(O=>e.jsxs("button",{onClick:()=>t(O.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${O.name==="IB"?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(O.icon,{size:18,className:"flex-shrink-0"}),s&&e.jsx("span",{className:"text-sm font-medium",children:O.name})]},O.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:W,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white rounded-lg",children:[e.jsx(Zt,{size:18}),s&&e.jsx("span",{className:"text-sm",children:"Log Out"})]})})]}),e.jsxs("main",{className:`flex-1 overflow-auto ${S?"pt-14":""}`,children:[!S&&e.jsx("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Introducing Broker (IB)"})}),e.jsx("div",{className:"p-6",children:j?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):l?l.status==="PENDING"?e.jsxs("div",{className:"max-w-lg mx-auto text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Hi,{size:40,className:"text-yellow-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Application Pending"}),e.jsx("p",{className:"text-gray-400",children:"Your IB application is under review. You will be notified once approved."})]}):l.status==="REJECTED"?e.jsxs("div",{className:"max-w-lg mx-auto text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Hi,{size:40,className:"text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Application Rejected"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Unfortunately, your IB application was not approved."}),l.rejectionReason&&e.jsxs("p",{className:"text-red-400",children:["Reason: ",l.rejectionReason]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-lg flex items-center justify-center",children:e.jsx(Yt,{size:20,className:"text-accent-green"})})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Available Balance"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(($=l.ibWalletBalance)==null?void 0:$.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(it,{size:20,className:"text-blue-500"})})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Earned"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",((h=l.totalCommissionEarned)==null?void 0:h.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(We,{size:20,className:"text-purple-500"})})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Direct Referrals"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((A=l.stats)==null?void 0:A.directReferrals)||0})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(uy,{size:20,className:"text-orange-500"})})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Downline"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((_=l.stats)==null?void 0:_.totalDownline)||0})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800 mb-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Your Referral Link"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/user/signup?ref=${l.referralCode}`,className:"flex-1 bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-gray-400"}),e.jsxs("button",{onClick:k,className:"bg-accent-green text-black px-6 py-2 rounded-lg font-medium hover:bg-accent-green/90 flex items-center gap-2",children:[e.jsx(Qf,{size:16}),"Copy"]})]}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Share this link to earn commissions from referrals"})]}),e.jsx("div",{className:"flex gap-4 mb-6",children:["overview","referrals","commissions","downline","withdraw"].map(O=>e.jsx("button",{onClick:()=>n(O),className:`px-4 py-2 rounded-lg font-medium capitalize transition-colors ${a===O?"bg-accent-green text-black":"bg-dark-800 text-gray-400 hover:text-white"}`,children:O},O))}),a==="overview"&&e.jsx("div",{className:"grid grid-cols-5 gap-4",children:[1,2,3,4,5].map(O=>{var oe;return e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800 text-center",children:[e.jsxs("p",{className:"text-gray-500 text-sm mb-1",children:["Level ",O]}),e.jsx("p",{className:"text-white text-xl font-bold",children:((oe=l.stats)==null?void 0:oe[`level${O}Count`])||0}),e.jsx("p",{className:"text-gray-600 text-xs",children:"referrals"})]},O)})}),a==="referrals"&&e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:d.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No referrals yet"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"User"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Email"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Joined"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Volume"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Commission"})]})}),e.jsx("tbody",{children:d.map(O=>e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsxs("td",{className:"px-4 py-3 text-white text-sm",children:[O.firstName," ",O.lastName]}),e.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:O.email}),e.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:new Date(O.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:"-"}),e.jsx("td",{className:"px-4 py-3 text-accent-green text-sm",children:"-"})]},O._id))})]})}),a==="commissions"&&e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:u.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No commissions yet"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Date"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Trader"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Symbol"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Level"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Lots"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Commission"}),e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Status"})]})}),e.jsx("tbody",{children:u.map(O=>{var oe,de,Q;return e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:new Date(O.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:((oe=O.traderUserId)==null?void 0:oe.firstName)||"Unknown"}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:O.symbol}),e.jsxs("td",{className:"px-4 py-3 text-gray-400 text-sm",children:["Level ",O.level]}),e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:(de=O.tradeLotSize)==null?void 0:de.toFixed(2)}),e.jsxs("td",{className:"px-4 py-3 text-accent-green text-sm",children:["$",(Q=O.commissionAmount)==null?void 0:Q.toFixed(2)]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${O.status==="CREDITED"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:O.status})})]},O._id)})})]})}),a==="downline"&&e.jsx("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:b.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No downline yet"}):e.jsx("div",{children:C(b)})}),a==="withdraw"&&e.jsx("div",{className:"max-w-md",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Withdraw Commission"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Available Balance"}),e.jsxs("p",{className:"text-accent-green text-2xl font-bold",children:["$",((te=l.ibWalletBalance)==null?void 0:te.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Amount"}),e.jsx("input",{type:"number",value:f,onChange:O=>x(O.target.value),placeholder:"Enter amount",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"})]}),e.jsx("button",{onClick:T,disabled:!f||parseFloat(f)<=0,className:"w-full bg-accent-green text-black py-2 rounded-lg font-medium hover:bg-accent-green/90 disabled:opacity-50",children:"Request Withdrawal"}),l.pendingWithdrawal>0&&e.jsxs("p",{className:"text-yellow-500 text-sm mt-3",children:["Pending withdrawal: $",l.pendingWithdrawal.toFixed(2)]})]})})]}):e.jsxs("div",{className:"max-w-lg mx-auto text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-accent-green/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Hi,{size:40,className:"text-accent-green"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Become an Introducing Broker"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Earn commissions by referring traders to our platform. Get up to 5 levels of referral commissions!"}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 mb-6 text-left",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Benefits:"}),e.jsxs("ul",{className:"space-y-3 text-gray-400",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Er,{size:16,className:"text-accent-green"}),"Earn commission on every trade your referrals make"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Er,{size:16,className:"text-accent-green"}),"Multi-level commissions (up to 5 levels)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Er,{size:16,className:"text-accent-green"}),"Real-time commission tracking"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Er,{size:16,className:"text-accent-green"}),"Easy withdrawal to your wallet"]})]})]}),e.jsx("button",{onClick:X,disabled:w,className:"bg-accent-green text-black px-8 py-3 rounded-lg font-semibold hover:bg-accent-green/90 disabled:opacity-50",children:w?"Applying...":"Apply Now"})]})})]})]})},cx="http://localhost:5001/api",Cy=()=>{var x,m,p,S,E,P,z,G,V,U,F,I,X;const t=Ze(),[s,r]=o.useState(!1),[a,n]=o.useState(!1),[l,i]=o.useState(!1),[d,c]=o.useState(!1),[u,g]=o.useState(window.innerWidth<768);o.useEffect(()=>{const T=()=>g(window.innerWidth<768);return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),o.useEffect(()=>{b()},[]);const b=async()=>{try{const k=await(await fetch(`${cx}/prop/status`)).json();k.success&&c(k.enabled)}catch(T){console.error("Error fetching challenge status:",T)}},y=JSON.parse(localStorage.getItem("user")||"{}"),[j,v]=o.useState({firstName:y.firstName||"",lastName:y.lastName||"",email:y.email||"",phone:y.phone||"",address:y.address||"",city:y.city||"",country:y.country||"",dateOfBirth:y.dateOfBirth||"",bankDetails:y.bankDetails||{bankName:"",accountNumber:"",accountHolderName:"",ifscCode:"",branchName:""},upiId:y.upiId||""}),w=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}],D=async()=>{i(!0);try{const k=await(await fetch(`${cx}/auth/update-profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:y._id,...j})})).json();k.user?(localStorage.setItem("user",JSON.stringify(k.user)),n(!1),alert("Profile updated successfully!")):alert(k.message||"Failed to update profile")}catch(T){console.error("Error updating profile:",T),alert("Failed to update profile")}i(!1)},f=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex flex-col md:flex-row",children:[u&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-800 border-b border-gray-800 px-4 py-3 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 -ml-2 hover:bg-dark-700 rounded-lg",children:e.jsx(Br,{size:22,className:"text-white"})}),e.jsx("h1",{className:"text-white font-semibold text-lg flex-1",children:"Profile"}),e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 hover:bg-dark-700 rounded-lg",children:e.jsx(fr,{size:20,className:"text-gray-400"})})]}),!u&&e.jsxs("aside",{className:`${s?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"CL"})})}),e.jsx("nav",{className:"flex-1 px-2",children:w.map(T=>e.jsxs("button",{onClick:()=>t(T.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${T.name==="Profile"?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(T.icon,{size:18,className:"flex-shrink-0"}),s&&e.jsx("span",{className:"text-sm font-medium",children:T.name})]},T.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white rounded-lg",children:[e.jsx(Zt,{size:18}),s&&e.jsx("span",{className:"text-sm",children:"Log Out"})]})})]}),e.jsxs("main",{className:`flex-1 overflow-auto ${u?"pt-14":""}`,children:[!u&&e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"My Profile"}),a?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>n(!1),className:"flex items-center gap-2 bg-dark-700 text-white px-4 py-2 rounded-lg hover:bg-dark-600",children:[e.jsx(ge,{size:16}),"Cancel"]}),e.jsxs("button",{onClick:D,disabled:l,className:"flex items-center gap-2 bg-accent-green text-black px-4 py-2 rounded-lg font-medium hover:bg-accent-green/90 disabled:opacity-50",children:[e.jsx(B0,{size:16}),l?"Saving...":"Save"]})]}):e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 bg-accent-green text-black px-4 py-2 rounded-lg font-medium hover:bg-accent-green/90",children:[e.jsx(ry,{size:16}),"Edit Profile"]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mb-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-accent-green text-3xl font-bold",children:[(x=j.firstName)==null?void 0:x.charAt(0),(m=j.lastName)==null?void 0:m.charAt(0)]})}),a&&e.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-accent-green rounded-full flex items-center justify-center",children:e.jsx(Jf,{size:14,className:"text-black"})})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:[j.firstName," ",j.lastName]}),e.jsx("p",{className:"text-gray-400",children:j.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y.kycApproved?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:y.kycApproved?"KYC Verified":"KYC Pending"}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-500",children:["Member since ",new Date(y.createdAt).toLocaleDateString()]})]})]})]})}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-white font-semibold mb-6",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"First Name"}),a?e.jsx("input",{type:"text",value:j.firstName,onChange:T=>v({...j,firstName:T.target.value}),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.firstName||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Last Name"}),a?e.jsx("input",{type:"text",value:j.lastName,onChange:T=>v({...j,lastName:T.target.value}),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.lastName||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block flex items-center gap-2",children:[e.jsx(Fr,{size:14})," Email"]}),e.jsx("p",{className:"text-white",children:j.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block flex items-center gap-2",children:[e.jsx(Qo,{size:14})," Phone"]}),a?e.jsx("input",{type:"text",value:j.phone,onChange:T=>v({...j,phone:T.target.value}),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.phone||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block flex items-center gap-2",children:[e.jsx(gr,{size:14})," Date of Birth"]}),a?e.jsx("input",{type:"date",value:j.dateOfBirth,onChange:T=>v({...j,dateOfBirth:T.target.value}),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.dateOfBirth||"-"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block flex items-center gap-2",children:[e.jsx(ax,{size:14})," Country"]}),a?e.jsx("input",{type:"text",value:j.country,onChange:T=>v({...j,country:T.target.value}),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.country||"-"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"text-gray-400 text-sm mb-2 block flex items-center gap-2",children:[e.jsx(ax,{size:14})," Address"]}),a?e.jsx("input",{type:"text",value:j.address,onChange:T=>v({...j,address:T.target.value}),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.address||"-"})]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mt-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-6 flex items-center gap-2",children:[e.jsx(kn,{size:18})," Bank Details (For Withdrawals)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Bank Name"}),a?e.jsx("input",{type:"text",value:((p=j.bankDetails)==null?void 0:p.bankName)||"",onChange:T=>v({...j,bankDetails:{...j.bankDetails,bankName:T.target.value}}),placeholder:"e.g., HDFC Bank",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:((S=j.bankDetails)==null?void 0:S.bankName)||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Account Holder Name"}),a?e.jsx("input",{type:"text",value:((E=j.bankDetails)==null?void 0:E.accountHolderName)||"",onChange:T=>v({...j,bankDetails:{...j.bankDetails,accountHolderName:T.target.value}}),placeholder:"Name as per bank account",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:((P=j.bankDetails)==null?void 0:P.accountHolderName)||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Account Number"}),a?e.jsx("input",{type:"text",value:((z=j.bankDetails)==null?void 0:z.accountNumber)||"",onChange:T=>v({...j,bankDetails:{...j.bankDetails,accountNumber:T.target.value}}),placeholder:"Enter account number",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:((G=j.bankDetails)==null?void 0:G.accountNumber)||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"IFSC Code"}),a?e.jsx("input",{type:"text",value:((V=j.bankDetails)==null?void 0:V.ifscCode)||"",onChange:T=>v({...j,bankDetails:{...j.bankDetails,ifscCode:T.target.value.toUpperCase()}}),placeholder:"e.g., HDFC0001234",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white uppercase"}):e.jsx("p",{className:"text-white",children:((U=j.bankDetails)==null?void 0:U.ifscCode)||"-"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Branch Name"}),a?e.jsx("input",{type:"text",value:((F=j.bankDetails)==null?void 0:F.branchName)||"",onChange:T=>v({...j,bankDetails:{...j.bankDetails,branchName:T.target.value}}),placeholder:"e.g., Mumbai Main Branch",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:((I=j.bankDetails)==null?void 0:I.branchName)||"-"})]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mt-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-6 flex items-center gap-2",children:[e.jsx(ya,{size:18})," UPI Details"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"UPI ID"}),a?e.jsx("input",{type:"text",value:j.upiId||"",onChange:T=>v({...j,upiId:T.target.value}),placeholder:"e.g., yourname@upi",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"}):e.jsx("p",{className:"text-white",children:j.upiId||"-"})]}),!a&&!((X=j.bankDetails)!=null&&X.accountNumber)&&!j.upiId&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:e.jsx("p",{className:"text-yellow-500 text-sm",children:' Please add your bank details or UPI ID to receive withdrawals. Click "Edit Profile" to add.'})})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mt-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Os,{size:18})," Security"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white",children:"Password"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Last changed: Never"})]}),e.jsx("button",{className:"text-accent-green hover:underline text-sm",children:"Change Password"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Add an extra layer of security"})]}),e.jsx("button",{className:"text-accent-green hover:underline text-sm",children:"Enable"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white",children:"Login History"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"View recent login activity"})]}),e.jsx("button",{className:"text-accent-green hover:underline text-sm",children:"View"})]})]})]})]})})]})]})},Ua="http://localhost:5001/api",Ty=()=>{var h;const t=Ze(),[s,r]=o.useState(!1),[a,n]=o.useState("new"),[l,i]=o.useState([]),[d,c]=o.useState(!0),[u,g]=o.useState(""),[b,y]=o.useState(""),[j,v]=o.useState("general"),[w,D]=o.useState(!1),[f,x]=o.useState(!1),[m,p]=o.useState(null),[S,E]=o.useState(""),[P,z]=o.useState(!1),[G,V]=o.useState(window.innerWidth<768),U=JSON.parse(localStorage.getItem("user")||"{}"),F=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}];o.useEffect(()=>{const A=()=>V(window.innerWidth<768);return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),o.useEffect(()=>{I(),X()},[]);const I=async()=>{try{const _=await(await fetch(`${Ua}/prop/status`)).json();_.success&&x(_.enabled)}catch{}},X=async()=>{try{const _=await(await fetch(`${Ua}/support/user/${U._id}`)).json();i(_.tickets||[])}catch(A){console.error("Error fetching tickets:",A)}c(!1)},T=async A=>{if(A.preventDefault(),!u||!b){alert("Please fill in all fields");return}D(!0);try{const te=await(await fetch(`${Ua}/support/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:U._id,subject:u,message:b,category:j.toUpperCase()})})).json();te.success?(alert("Ticket submitted successfully!"),g(""),y(""),v("general"),n("history"),X()):alert(te.message||"Failed to submit ticket")}catch(_){console.error("Error submitting ticket:",_),alert("Failed to submit ticket")}D(!1)},k=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")},W=A=>{switch(A){case"OPEN":return e.jsx(Et,{size:16,className:"text-yellow-500"});case"IN_PROGRESS":return e.jsx(Sn,{size:16,className:"text-blue-500"});case"WAITING_USER":return e.jsx(Sn,{size:16,className:"text-orange-500"});case"RESOLVED":return e.jsx(as,{size:16,className:"text-green-500"});case"CLOSED":return e.jsx(as,{size:16,className:"text-gray-500"});default:return e.jsx(Et,{size:16,className:"text-gray-500"})}},C=async A=>{try{const te=await(await fetch(`${Ua}/support/ticket/${A}`)).json();te.success&&p(te.ticket)}catch(_){console.error("Error fetching ticket:",_)}},$=async()=>{if(!(!S.trim()||!m)){z(!0);try{const _=await(await fetch(`${Ua}/support/reply/${m.ticketId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderId:U._id,senderType:"USER",message:S})})).json();_.success&&(p(_.ticket),E(""),X())}catch(A){console.error("Error sending reply:",A)}z(!1)}};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex flex-col md:flex-row",children:[G&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-800 border-b border-gray-800 px-4 py-3 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 -ml-2 hover:bg-dark-700 rounded-lg",children:e.jsx(Br,{size:22,className:"text-white"})}),e.jsx("h1",{className:"text-white font-semibold text-lg flex-1",children:"Support"}),e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 hover:bg-dark-700 rounded-lg",children:e.jsx(fr,{size:20,className:"text-gray-400"})})]}),!G&&e.jsxs("aside",{className:`${s?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"CL"})})}),e.jsx("nav",{className:"flex-1 px-2",children:F.map(A=>e.jsxs("button",{onClick:()=>t(A.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${A.name==="Support"?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(A.icon,{size:18,className:"flex-shrink-0"}),s&&e.jsx("span",{className:"text-sm font-medium",children:A.name})]},A.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white rounded-lg",children:[e.jsx(Zt,{size:18}),s&&e.jsx("span",{className:"text-sm",children:"Log Out"})]})})]}),e.jsxs("main",{className:`flex-1 overflow-auto ${G?"pt-14":""}`,children:[!G&&e.jsx("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Support"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("button",{onClick:()=>n("new"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${a==="new"?"bg-accent-green text-black":"bg-dark-800 text-gray-400 hover:text-white"}`,children:[e.jsx(qe,{size:16}),"New Ticket"]}),e.jsxs("button",{onClick:()=>n("history"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${a==="history"?"bg-accent-green text-black":"bg-dark-800 text-gray-400 hover:text-white"}`,children:[e.jsx(lx,{size:16}),"My Tickets (",l.length,")"]})]}),a==="new"?e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold mb-6",children:"Submit a Support Ticket"}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Category"}),e.jsxs("select",{value:j,onChange:A=>v(A.target.value),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white",children:[e.jsx("option",{value:"general",children:"General Inquiry"}),e.jsx("option",{value:"deposit",children:"Deposit Issue"}),e.jsx("option",{value:"withdrawal",children:"Withdrawal Issue"}),e.jsx("option",{value:"trading",children:"Trading Issue"}),e.jsx("option",{value:"account",children:"Account Issue"}),e.jsx("option",{value:"technical",children:"Technical Problem"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Subject"}),e.jsx("input",{type:"text",value:u,onChange:A=>g(A.target.value),placeholder:"Brief description of your issue",className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:"Message"}),e.jsx("textarea",{value:b,onChange:A=>y(A.target.value),placeholder:"Describe your issue in detail...",rows:6,className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white resize-none"})]}),e.jsxs("button",{type:"submit",disabled:w,className:"w-full bg-accent-green text-black py-3 rounded-lg font-medium hover:bg-accent-green/90 disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Yl,{size:16}),w?"Submitting...":"Submit Ticket"]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mt-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[e.jsx("p",{className:"text-white font-medium",children:"How long does a deposit take?"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Deposits are usually processed within 24 hours after verification."})]}),e.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[e.jsx("p",{className:"text-white font-medium",children:"How do I withdraw funds?"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Go to Wallet  Withdraw and follow the instructions. Withdrawals are processed within 1-3 business days."})]}),e.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[e.jsx("p",{className:"text-white font-medium",children:"What is the minimum deposit?"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"The minimum deposit depends on your account type. Check Account Types for details."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"How do I become an IB?"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:'Go to the IB section and click "Apply Now" to submit your application.'})]})]})]})]}):e.jsx("div",{children:d?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading tickets..."}):l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(lx,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No support tickets yet"}),e.jsx("button",{onClick:()=>n("new"),className:"mt-4 text-accent-green hover:underline",children:"Create your first ticket "})]}):e.jsx("div",{className:"space-y-4",children:l.map(A=>{var _,te,O;return e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800 cursor-pointer hover:border-gray-600 transition-colors",onClick:()=>C(A.ticketId),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:A.subject}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["#",A.ticketId,"  ",A.category]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[W(A.status),e.jsx("span",{className:`text-sm ${A.status==="OPEN"?"text-yellow-500":A.status==="IN_PROGRESS"?"text-blue-500":A.status==="WAITING_USER"?"text-orange-500":A.status==="RESOLVED"?"text-green-500":"text-gray-500"}`,children:A.status.replace("_"," ")})]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:((te=(_=A.messages)==null?void 0:_[0])==null?void 0:te.message)||"No message"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Created: ",new Date(A.createdAt).toLocaleString()]}),e.jsxs("span",{className:"text-accent-green",children:[((O=A.messages)==null?void 0:O.length)||0," messages  Click to view"]})]})]},A._id)})})})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl w-full max-w-2xl max-h-[80vh] flex flex-col border border-gray-700",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:m.subject}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["#",m.ticketId,"  ",m.category]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${m.status==="OPEN"?"bg-yellow-500/20 text-yellow-500":m.status==="IN_PROGRESS"?"bg-blue-500/20 text-blue-500":m.status==="WAITING_USER"?"bg-orange-500/20 text-orange-500":m.status==="RESOLVED"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:m.status.replace("_"," ")}),e.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-white text-xl",children:""})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:(h=m.messages)==null?void 0:h.map((A,_)=>e.jsx("div",{className:`flex ${A.sender==="USER"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${A.sender==="USER"?"bg-accent-green/20 text-white":"bg-dark-700 text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-xs font-medium ${A.sender==="USER"?"text-accent-green":"text-blue-400"}`,children:A.sender==="USER"?"You":"Support"}),e.jsx("span",{className:"text-gray-500 text-xs",children:new Date(A.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:A.message})]})},_))}),m.status!=="CLOSED"&&m.status!=="RESOLVED"&&e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:S,onChange:A=>E(A.target.value),placeholder:"Type your message...",className:"flex-1 bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-500",onKeyPress:A=>A.key==="Enter"&&$()}),e.jsxs("button",{onClick:$,disabled:P||!S.trim(),className:"bg-accent-green text-black px-4 py-2 rounded-lg font-medium hover:bg-accent-green/90 disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Yl,{size:16}),P?"Sending...":"Send"]})]})}),(m.status==="CLOSED"||m.status==="RESOLVED")&&e.jsxs("div",{className:"p-4 border-t border-gray-700 text-center text-gray-500 text-sm",children:["This ticket has been ",m.status.toLowerCase(),". Create a new ticket if you need further assistance."]})]})})]})},Ey="http://localhost:5001/api",Py=()=>{const t=Ze(),[s,r]=o.useState(!1),[a,n]=o.useState("getting-started"),[l,i]=o.useState(!1),[d,c]=o.useState(window.innerWidth<768);o.useEffect(()=>{const j=()=>c(window.innerWidth<768);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),o.useEffect(()=>{u()},[]);const u=async()=>{try{const v=await(await fetch(`${Ey}/prop/status`)).json();v.success&&i(v.enabled)}catch{}},g=[{name:"Dashboard",icon:cs,path:"/dashboard"},{name:"Account",icon:qt,path:"/account"},{name:"Wallet",icon:Qe,path:"/wallet"},{name:"IB",icon:We,path:"/ib"},{name:"Copytrade",icon:Gt,path:"/copytrade"},{name:"Profile",icon:Ws,path:"/profile"},{name:"Support",icon:Bs,path:"/support"},{name:"Instructions",icon:os,path:"/instructions"}],b=[{id:"getting-started",title:"Getting Started",icon:Gf,content:[{title:"Create an Account",text:"Sign up with your email and complete the verification process."},{title:"Complete KYC",text:"Submit your identity documents for verification. This is required for deposits and withdrawals."},{title:"Create Trading Account",text:"Go to Account section and create a new trading account. Choose your preferred account type."},{title:"Fund Your Account",text:"Deposit funds to your wallet and transfer to your trading account."}]},{id:"deposits",title:"Deposits & Withdrawals",icon:Yt,content:[{title:"Making a Deposit",text:"Go to Wallet  Deposit. Select your payment method, enter the amount, and follow the instructions."},{title:"Deposit Processing",text:"Deposits are usually processed within 24 hours after admin verification."},{title:"Making a Withdrawal",text:"Go to Wallet  Withdraw. Enter the amount and your payment details. Minimum withdrawal may apply."},{title:"Withdrawal Processing",text:"Withdrawals are processed within 1-3 business days after approval."}]},{id:"trading",title:"Trading Guide",icon:it,content:[{title:"Opening a Trade",text:"Select an instrument, set your volume (lot size), and click Buy or Sell to open a market order."},{title:"Pending Orders",text:"Use pending orders (Limit/Stop) to enter the market at a specific price."},{title:"Stop Loss & Take Profit",text:"Set SL/TP to automatically close your trade at a certain profit or loss level."},{title:"Closing a Trade",text:"Click the X button on your open position to close it at the current market price."},{title:"Understanding Margin",text:"Margin is the amount required to open a position. It depends on your leverage and position size."}]},{id:"copy-trading",title:"Copy Trading",icon:Gt,content:[{title:"What is Copy Trading?",text:"Copy trading allows you to automatically copy trades from experienced traders (Masters)."},{title:"Following a Master",text:"Go to Copytrade  Discover Masters. Select a master and click Follow."},{title:"Copy Settings",text:"Choose Fixed Lot (same lot size for all trades) or Lot Multiplier (proportional to master)."},{title:"Commission",text:"Masters charge a commission on profitable days only. This is deducted automatically."},{title:"Managing Subscriptions",text:"You can pause, resume, or stop following a master at any time."}]},{id:"ib-program",title:"IB Program",icon:We,content:[{title:"What is IB?",text:"Introducing Broker (IB) program lets you earn commissions by referring traders."},{title:"Becoming an IB",text:"Go to IB section and click Apply Now. Your application will be reviewed by admin."},{title:"Referral Link",text:"Once approved, you get a unique referral link. Share it to invite new traders."},{title:"Commission Structure",text:"Earn commission on every trade your referrals make. Up to 5 levels of referrals."},{title:"Withdrawing Commission",text:"Your IB earnings are credited to your IB wallet. You can withdraw anytime."}]},{id:"security",title:"Security",icon:Os,content:[{title:"Password Security",text:"Use a strong password with letters, numbers, and symbols. Change it regularly."},{title:"Two-Factor Authentication",text:"Enable 2FA for an extra layer of security on your account."},{title:"Trading PIN",text:"Your trading account has a 4-digit PIN. Never share it with anyone."},{title:"Suspicious Activity",text:"If you notice any suspicious activity, contact support immediately."}]}],y=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/user/login")};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex flex-col md:flex-row",children:[d&&e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-800 border-b border-gray-800 px-4 py-3 flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 -ml-2 hover:bg-dark-700 rounded-lg",children:e.jsx(Br,{size:22,className:"text-white"})}),e.jsx("h1",{className:"text-white font-semibold text-lg flex-1",children:"Instructions"}),e.jsx("button",{onClick:()=>t("/mobile"),className:"p-2 hover:bg-dark-700 rounded-lg",children:e.jsx(fr,{size:20,className:"text-gray-400"})})]}),!d&&e.jsxs("aside",{className:`${s?"w-48":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-accent-green rounded flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-sm",children:"CL"})})}),e.jsx("nav",{className:"flex-1 px-2",children:g.map(j=>e.jsxs("button",{onClick:()=>t(j.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${j.name==="Instructions"?"bg-accent-green text-black":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(j.icon,{size:18,className:"flex-shrink-0"}),s&&e.jsx("span",{className:"text-sm font-medium",children:j.name})]},j.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white rounded-lg",children:[e.jsx(Zt,{size:18}),s&&e.jsx("span",{className:"text-sm",children:"Log Out"})]})})]}),e.jsxs("main",{className:`flex-1 overflow-auto ${d?"pt-14":""}`,children:[!d&&e.jsx("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Instructions & Guide"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-accent-green/20 to-blue-500/20 rounded-xl p-6 mb-6 border border-accent-green/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-accent-green/30 rounded-full flex items-center justify-center",children:e.jsx(Yf,{size:28,className:"text-accent-green"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Welcome to CoinLytix"}),e.jsx("p",{className:"text-gray-400",children:"Learn how to use our platform with these comprehensive guides"})]})]})}),e.jsx("div",{className:"space-y-4",children:b.map(j=>e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n(a===j.id?"":j.id),className:"w-full flex items-center justify-between p-5 hover:bg-dark-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-lg flex items-center justify-center",children:e.jsx(j.icon,{size:20,className:"text-accent-green"})}),e.jsx("span",{className:"text-white font-semibold",children:j.title})]}),a===j.id?e.jsx(F0,{size:20,className:"text-gray-400"}):e.jsx(Er,{size:20,className:"text-gray-400"})]}),a===j.id&&e.jsx("div",{className:"px-5 pb-5 border-t border-gray-700",children:e.jsx("div",{className:"pt-4 space-y-4",children:j.content.map((v,w)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-6 h-6 bg-accent-green/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-accent-green text-xs font-bold",children:w+1})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:v.title}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:v.text})]})]},w))})})]},j.id))}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mt-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Need More Help?"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"If you couldn't find what you're looking for, our support team is here to help."}),e.jsx("button",{onClick:()=>t("/support"),className:"bg-accent-green text-black px-6 py-2 rounded-lg font-medium hover:bg-accent-green/90",children:"Contact Support"})]})]})})]})]})},Ay=()=>{const t=Ze(),[s,r]=o.useState(!1),[a,n]=o.useState(""),[l,i]=o.useState(!1),[d,c]=o.useState({email:"",password:""}),u=b=>{c({...d,[b.target.name]:b.target.value}),n("")},g=async b=>{b.preventDefault(),r(!0),n(""),d.email==="admin@admin.com"&&d.password==="admin123"?(localStorage.setItem("adminToken","admin-authenticated"),localStorage.setItem("adminUser",JSON.stringify({email:d.email,role:"admin"})),t("/admin/dashboard")):n("Invalid admin credentials"),r(!1)};return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 sm:p-6 md:p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-r from-red-500/20 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-l from-purple-500/20 via-red-500/20 to-transparent rounded-full blur-3xl"}),e.jsxs("div",{className:"relative bg-dark-700 rounded-2xl p-6 sm:p-8 w-full max-w-md border border-gray-800 mx-4 sm:mx-0",children:[e.jsx("button",{onClick:()=>t("/"),className:"absolute top-4 right-4 w-8 h-8 bg-dark-600 rounded-full flex items-center justify-center hover:bg-dark-500 transition-colors",children:e.jsx(ge,{size:16,className:"text-gray-400"})}),e.jsx("div",{className:"flex items-center gap-2 mb-6",children:e.jsx("div",{className:"px-3 py-1 bg-red-500/20 text-red-500 rounded-full text-sm font-medium",children:"Admin Portal"})}),e.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Admin Login"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Enter your admin credentials to continue"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"email",name:"email",placeholder:"Admin email",value:d.email,onChange:u,className:"w-full bg-dark-600 border border-gray-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500/50 transition-colors"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:l?"text":"password",name:"password",placeholder:"Admin password",value:d.password,onChange:u,className:"w-full bg-dark-600 border border-gray-700 rounded-lg pl-11 pr-12 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500/50 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",children:l?e.jsx(Zc,{size:18}):e.jsx(Xt,{size:18})})]}),a&&e.jsx("p",{className:"text-red-500 text-sm",children:a}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-red-500 text-white font-medium py-3 rounded-lg hover:bg-red-600 transition-colors mt-2 disabled:opacity-50",children:s?"Signing in...":"Sign in as Admin"})]}),e.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Not an admin?"," ",e.jsx("button",{onClick:()=>t("/user/login"),className:"text-white hover:underline",children:"User Login"})]})]})]})},Dt=({children:t,title:s,subtitle:r})=>{const a=Ze(),n=wa(),[l,i]=o.useState(!0),[d,c]=o.useState(!1),[u,g]=o.useState({}),b=[{name:"Overview Dashboard",icon:cs,path:"/admin/dashboard"},{name:"User Management",icon:We,path:"/admin/users"},{name:"Trade Management",icon:it,path:"/admin/trades"},{name:"Fund Management",icon:Qe,path:"/admin/funds"},{name:"Bank Settings",icon:kn,path:"/admin/bank-settings"},{name:"IB Management",icon:W0,path:"/admin/ib-management"},{name:"Forex Charges",icon:Yt,path:"/admin/forex-charges"},{name:"Earnings Report",icon:it,path:"/admin/earnings"},{name:"Copy Trade Management",icon:Gt,path:"/admin/copy-trade"},{name:"Prop Firm Challenges",icon:dt,path:"/admin/prop-firm"},{name:"Account Types",icon:dr,path:"/admin/account-types"},{name:"Admin Management",icon:Os,path:"/admin/admin-management"},{name:"KYC Verification",icon:O0,path:"/admin/kyc"},{name:"Support Tickets",icon:_0,path:"/admin/support"}];o.useEffect(()=>{localStorage.getItem("adminToken")||a("/admin")},[a]);const y=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),a("/admin")},j=v=>n.pathname===v;return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>c(!1)}),e.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          ${l?"w-64":"w-16"} 
          ${d?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          bg-dark-900 border-r border-gray-800 flex flex-col 
          transition-all duration-300 ease-in-out
        `,children:[e.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),l&&e.jsx("span",{className:"text-white font-semibold",children:"CoinLytix Admin"})]}),e.jsx("button",{onClick:()=>i(!l),className:"hidden lg:block p-1 hover:bg-dark-700 rounded transition-colors",children:e.jsx(nx,{size:18,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>c(!1),className:"lg:hidden p-1 hover:bg-dark-700 rounded transition-colors",children:e.jsx(ge,{size:18,className:"text-gray-400"})})]}),e.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700",children:b.map(v=>e.jsxs("button",{onClick:()=>{a(v.path),c(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${j(v.path)?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-dark-700"}`,title:l?"":v.name,children:[e.jsx(v.icon,{size:18,className:"flex-shrink-0"}),l&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap truncate",children:v.name})]},v.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white hover:bg-dark-700 transition-colors rounded-lg",title:l?"":"Log Out",children:[e.jsx(Zt,{size:18,className:"flex-shrink-0"}),l&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Log Out"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-auto min-w-0",children:[e.jsxs("header",{className:"sticky top-0 z-30 bg-dark-900/95 backdrop-blur-sm flex items-center justify-between px-4 sm:px-6 py-4 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>c(!0),className:"lg:hidden p-2 hover:bg-dark-700 rounded-lg transition-colors",children:e.jsx(nx,{size:20,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-white",children:s||"Admin Dashboard"}),r&&e.jsx("p",{className:"text-gray-500 text-sm hidden sm:block",children:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-500 rounded-full text-xs sm:text-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"hidden sm:inline",children:"Admin Mode"})]})]}),e.jsx("div",{className:"p-4 sm:p-6",children:t})]})]})},Dy=()=>{const[t,s]=o.useState([]),[r,a]=o.useState(!0),[n,l]=o.useState({totalUsers:0,activeToday:0,newThisWeek:0,totalDeposits:0,totalWithdrawals:0,pendingKYC:0});o.useEffect(()=>{i()},[]);const i=async()=>{a(!0);try{const u=await fetch("http://localhost:5001/api/admin/users");if(u.ok){const b=(await u.json()).users||[];s(b),l({totalUsers:b.length,activeToday:Math.floor(b.length*.7),newThisWeek:Math.floor(b.length*.3),totalDeposits:125e3,totalWithdrawals:45e3,pendingKYC:Math.floor(b.length*.2)})}}catch(u){console.error("Error fetching data:",u)}a(!1)},d=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),c=[{title:"Total Users",value:n.totalUsers,icon:We,color:"blue",change:"+12%",positive:!0},{title:"Active Today",value:n.activeToday,icon:it,color:"green",change:"+5%",positive:!0},{title:"Total Deposits",value:`$${n.totalDeposits.toLocaleString()}`,icon:Qe,color:"purple",change:"+18%",positive:!0},{title:"Total Withdrawals",value:`$${n.totalWithdrawals.toLocaleString()}`,icon:dr,color:"orange",change:"-3%",positive:!1}];return e.jsxs(Dt,{title:"Overview Dashboard",subtitle:"Welcome back, Admin",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:c.map((u,g)=>e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 bg-${u.color}-500/20 rounded-lg flex items-center justify-center`,children:e.jsx(u.icon,{size:20,className:`text-${u.color}-500`})}),e.jsxs("div",{className:`flex items-center gap-1 text-sm ${u.positive?"text-green-500":"text-red-500"}`,children:[u.positive?e.jsx(Ja,{size:14}):e.jsx(Ya,{size:14}),u.change]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:u.title}),e.jsx("p",{className:"text-white text-2xl font-bold",children:u.value})]},g))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-white font-semibold",children:"Recent Users"}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-dark-700 rounded-lg transition-colors",children:e.jsx(Be,{size:16,className:`text-gray-400 ${r?"animate-spin":""}`})})]}),e.jsx("div",{className:"space-y-3",children:r?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Be,{size:20,className:"text-gray-500 animate-spin"})}):t.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No users registered yet"}):t.slice(0,5).map((u,g)=>{var b,y;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-medium",children:((y=(b=u.firstName)==null?void 0:b.charAt(0))==null?void 0:y.toUpperCase())||"U"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:u.firstName||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-sm",children:u.email})]})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:d(u.createdAt)})]},g)})})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold mb-4",children:"Platform Overview"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(We,{size:18,className:"text-blue-500"})}),e.jsx("span",{className:"text-gray-400",children:"New Users This Week"})]}),e.jsx("span",{className:"text-white font-semibold",children:n.newThisWeek})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:e.jsx(gr,{size:18,className:"text-yellow-500"})}),e.jsx("span",{className:"text-gray-400",children:"Pending KYC"})]}),e.jsx("span",{className:"text-white font-semibold",children:n.pendingKYC})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx(it,{size:18,className:"text-green-500"})}),e.jsx("span",{className:"text-gray-400",children:"Active Trades"})]}),e.jsx("span",{className:"text-white font-semibold",children:"156"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Qe,{size:18,className:"text-purple-500"})}),e.jsx("span",{className:"text-gray-400",children:"Pending Withdrawals"})]}),e.jsx("span",{className:"text-white font-semibold",children:"12"})]})]})]})]})]})},Iy=()=>{const[t,s]=o.useState([]),[r,a]=o.useState(!0),[n,l]=o.useState(""),[i,d]=o.useState(null),[c,u]=o.useState(!1),[g,b]=o.useState(null),[y,j]=o.useState(!1),[v,w]=o.useState({type:"",text:""}),[D,f]=o.useState(""),[x,m]=o.useState(""),[p,S]=o.useState(""),[E,P]=o.useState(""),[z,G]=o.useState(""),[V,U]=o.useState(""),[F,I]=o.useState(""),[X,T]=o.useState(""),[k,W]=o.useState(""),[C,$]=o.useState([]),[h,A]=o.useState(""),_=JSON.parse(localStorage.getItem("adminUser")||"{}");o.useEffect(()=>{te()},[]);const te=async()=>{a(!0);try{const R=await fetch("http://localhost:5001/api/admin/users");if(R.ok){const Z=await R.json();s(Z.users||[])}}catch(R){console.error("Error fetching users:",R)}a(!1)},O=t.filter(R=>{var Z,Pe,M;return((Z=R.firstName)==null?void 0:Z.toLowerCase().includes(n.toLowerCase()))||((Pe=R.email)==null?void 0:Pe.toLowerCase().includes(n.toLowerCase()))||((M=R.phone)==null?void 0:M.includes(n))}),oe=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),de=async R=>{var Z;try{const Pe=await fetch(`http://localhost:5001/api/trading-accounts/user/${R}`);if(Pe.ok){const M=await Pe.json();$(M.accounts||[]),((Z=M.accounts)==null?void 0:Z.length)>0&&A(M.accounts[0]._id)}}catch(Pe){console.error("Error fetching user accounts:",Pe)}},Q=async(R,Z)=>{d(Z),b(R),u(!0),w({type:"",text:""}),f(""),m(""),S(""),P(""),G(""),U(""),I(""),T(""),W(""),$([]),A(""),(R==="credit"||R==="view")&&await de(Z._id)},me=()=>{u(!1),d(null),b(null)},ae=async()=>{if(D!==x){w({type:"error",text:"Passwords do not match"});return}if(D.length<6){w({type:"error",text:"Password must be at least 6 characters"});return}j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/users/${i._id}/password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:D})});if(R.ok)w({type:"success",text:"Password changed successfully"}),setTimeout(me,1500);else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to change password"})}}catch{w({type:"error",text:"Error changing password"})}j(!1)},be=async()=>{if(!p||parseFloat(p)<=0){w({type:"error",text:"Please enter a valid amount"});return}j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/users/${i._id}/deduct`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseFloat(p),reason:E||"Admin deduction"})});if(R.ok)w({type:"success",text:`$${p} deducted successfully`}),setTimeout(()=>{me(),te()},1500);else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to deduct funds"})}}catch{w({type:"error",text:"Error deducting funds"})}j(!1)},Y=async()=>{if(!z||parseFloat(z)<=0){w({type:"error",text:"Please enter a valid amount"});return}j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/users/${i._id}/add-fund`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseFloat(z),reason:V||"Admin fund addition"})});if(R.ok)w({type:"success",text:`$${z} added successfully`}),setTimeout(()=>{me(),te()},1500);else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to add funds"})}}catch{w({type:"error",text:"Error adding funds"})}j(!1)},Te=async()=>{j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/users/${i._id}/block`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({blocked:!i.isBlocked,reason:F||"Blocked by admin"})});if(R.ok)w({type:"success",text:i.isBlocked?"User unblocked":"User blocked"}),setTimeout(()=>{me(),te()},1500);else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to update user status"})}}catch{w({type:"error",text:"Error updating user status"})}j(!1)},H=async()=>{j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/users/${i._id}/ban`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({banned:!i.isBanned,reason:F||"Banned by admin"})});if(R.ok)w({type:"success",text:i.isBanned?"User unbanned":"User banned permanently"}),setTimeout(()=>{me(),te()},1500);else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to update user status"})}}catch{w({type:"error",text:"Error updating user status"})}j(!1)},he=async()=>{j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/users/${i._id}`,{method:"DELETE"});if(R.ok)w({type:"success",text:"User deleted successfully"}),setTimeout(()=>{me(),te()},1500);else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to delete user"})}}catch{w({type:"error",text:"Error deleting user"})}j(!1)},ye=async()=>{if(!X||parseFloat(X)<=0){w({type:"error",text:"Please enter a valid amount"});return}if(!h){w({type:"error",text:"Please select a trading account"});return}j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/trading-account/${h}/add-credit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseFloat(X),reason:k||"Admin credit/bonus",adminId:_._id})});if(R.ok){const Z=await R.json();w({type:"success",text:`$${X} credit added successfully`}),setTimeout(()=>{me(),te()},1500)}else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to add credit"})}}catch{w({type:"error",text:"Error adding credit"})}j(!1)},L=async()=>{j(!0);try{const R=await fetch(`http://localhost:5001/api/admin/login-as-user/${i._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:_._id})});if(R.ok){const Z=await R.json();localStorage.setItem("token",Z.token),localStorage.setItem("user",JSON.stringify(Z.user)),window.open("/dashboard","_blank"),w({type:"success",text:"Logged in as user - opening in new tab"})}else{const Z=await R.json();w({type:"error",text:Z.message||"Failed to login as user"})}}catch{w({type:"error",text:"Error logging in as user"})}j(!1)},ce=()=>{var R,Z,Pe,M,le;return!c||!i?null:e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-md border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-medium",children:((Z=(R=i.firstName)==null?void 0:R.charAt(0))==null?void 0:Z.toUpperCase())||"U"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:i.firstName}),e.jsx("p",{className:"text-gray-500 text-sm",children:i.email})]})]}),e.jsx("button",{onClick:me,className:"p-2 hover:bg-dark-700 rounded-lg transition-colors",children:e.jsx(ge,{size:18,className:"text-gray-400"})})]}),e.jsxs("div",{className:"p-4",children:[v.text&&e.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center gap-2 ${v.type==="success"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:[v.type==="success"?e.jsx(He,{size:18}):e.jsx(di,{size:18}),e.jsx("span",{className:"text-sm",children:v.text})]}),g==="view"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Full Name"}),e.jsx("p",{className:"text-white",children:i.firstName})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Phone"}),e.jsx("p",{className:"text-white",children:i.phone||"N/A"})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Joined"}),e.jsx("p",{className:"text-white",children:oe(i.createdAt)})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Status"}),e.jsx("p",{className:`${i.isBanned?"text-red-500":i.isBlocked?"text-yellow-500":"text-green-500"}`,children:i.isBanned?"Banned":i.isBlocked?"Blocked":"Active"})]})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Email"}),e.jsx("p",{className:"text-white",children:i.email})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Wallet Balance"}),e.jsxs("p",{className:"text-white text-xl font-bold",children:["$",((Pe=i.walletBalance)==null?void 0:Pe.toFixed(2))||"0.00"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>b("password"),className:"flex items-center justify-center gap-2 p-3 bg-blue-500/20 text-blue-500 rounded-lg hover:bg-blue-500/30 transition-colors",children:[e.jsx(Pr,{size:16}),e.jsx("span",{className:"text-sm",children:"Change Password"})]}),e.jsxs("button",{onClick:()=>b("addFund"),className:"flex items-center justify-center gap-2 p-3 bg-green-500/20 text-green-500 rounded-lg hover:bg-green-500/30 transition-colors",children:[e.jsx(Qe,{size:16}),e.jsx("span",{className:"text-sm",children:"Add Fund"})]}),e.jsxs("button",{onClick:()=>b("deduct"),className:"flex items-center justify-center gap-2 p-3 bg-orange-500/20 text-orange-500 rounded-lg hover:bg-orange-500/30 transition-colors",children:[e.jsx(Yt,{size:16}),e.jsx("span",{className:"text-sm",children:"Deduct Fund"})]}),e.jsxs("button",{onClick:()=>b("block"),className:`flex items-center justify-center gap-2 p-3 rounded-lg transition-colors ${i.isBlocked?"bg-green-500/20 text-green-500 hover:bg-green-500/30":"bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30"}`,children:[e.jsx(Yi,{size:16}),e.jsx("span",{className:"text-sm",children:i.isBlocked?"Unblock":"Block"})]}),e.jsxs("button",{onClick:()=>b("ban"),className:`flex items-center justify-center gap-2 p-3 rounded-lg transition-colors ${i.isBanned?"bg-green-500/20 text-green-500 hover:bg-green-500/30":"bg-red-500/20 text-red-500 hover:bg-red-500/30"}`,children:[e.jsx(Os,{size:16}),e.jsx("span",{className:"text-sm",children:i.isBanned?"Unban":"Ban"})]}),e.jsxs("button",{onClick:()=>b("credit"),className:"flex items-center justify-center gap-2 p-3 bg-purple-500/20 text-purple-500 rounded-lg hover:bg-purple-500/30 transition-colors",children:[e.jsx(rx,{size:16}),e.jsx("span",{className:"text-sm",children:"Add Credit"})]}),e.jsxs("button",{onClick:L,disabled:y,className:"flex items-center justify-center gap-2 p-3 bg-cyan-500/20 text-cyan-500 rounded-lg hover:bg-cyan-500/30 transition-colors col-span-2",children:[e.jsx(Zf,{size:16}),e.jsx("span",{className:"text-sm",children:y?"Opening...":"Login as User"})]})]}),C.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Trading Accounts"}),e.jsx("div",{className:"space-y-2",children:C.map(ie=>{var fe,Le;return e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm",children:ie.accountId}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Leverage: ",ie.leverage]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-white font-medium",children:["$",(fe=ie.balance)==null?void 0:fe.toFixed(2)]}),e.jsxs("p",{className:"text-purple-400 text-xs",children:["Credit: $",((Le=ie.credit)==null?void 0:Le.toFixed(2))||"0.00"]})]})]},ie._id)})})]})]}),g==="password"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-500 mb-2",children:[e.jsx(Pr,{size:20}),e.jsx("h4",{className:"font-semibold",children:"Change Password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"New Password"}),e.jsx("input",{type:"password",value:D,onChange:ie=>f(ie.target.value),placeholder:"Enter new password",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Confirm Password"}),e.jsx("input",{type:"password",value:x,onChange:ie=>m(ie.target.value),placeholder:"Confirm new password",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>b("view"),className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Back"}),e.jsx("button",{onClick:ae,disabled:y,className:"flex-1 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:y?"Updating...":"Update Password"})]})]}),g==="deduct"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-500 mb-2",children:[e.jsx(Yt,{size:20}),e.jsx("h4",{className:"font-semibold",children:"Deduct Funds"})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Current Balance"}),e.jsxs("p",{className:"text-white text-xl font-bold",children:["$",((M=i.walletBalance)==null?void 0:M.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Amount to Deduct ($)"}),e.jsx("input",{type:"number",value:p,onChange:ie=>S(ie.target.value),placeholder:"Enter amount",min:"0",step:"0.01",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Reason (Optional)"}),e.jsx("input",{type:"text",value:E,onChange:ie=>P(ie.target.value),placeholder:"Enter reason for deduction",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-orange-500"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>b("view"),className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Back"}),e.jsx("button",{onClick:be,disabled:y,className:"flex-1 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:y?"Processing...":"Deduct Fund"})]})]}),g==="addFund"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-500 mb-2",children:[e.jsx(Qe,{size:20}),e.jsx("h4",{className:"font-semibold",children:"Add Funds"})]}),e.jsxs("div",{className:"bg-dark-700 p-3 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Current Balance"}),e.jsxs("p",{className:"text-white text-xl font-bold",children:["$",((le=i.walletBalance)==null?void 0:le.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Amount to Add ($)"}),e.jsx("input",{type:"number",value:z,onChange:ie=>G(ie.target.value),placeholder:"Enter amount",min:"0",step:"0.01",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Reason (Optional)"}),e.jsx("input",{type:"text",value:V,onChange:ie=>U(ie.target.value),placeholder:"Enter reason for adding funds",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-green-500"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>b("view"),className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Back"}),e.jsx("button",{onClick:Y,disabled:y,className:"flex-1 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:y?"Processing...":"Add Fund"})]})]}),g==="block"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${i.isBlocked?"text-green-500":"text-yellow-500"} mb-2`,children:[e.jsx(Yi,{size:20}),e.jsx("h4",{className:"font-semibold",children:i.isBlocked?"Unblock User":"Block User"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:i.isBlocked?"This will allow the user to access their account again.":"Blocking will temporarily prevent the user from logging in and accessing their account."}),!i.isBlocked&&e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Reason (Optional)"}),e.jsx("input",{type:"text",value:F,onChange:ie=>I(ie.target.value),placeholder:"Enter reason for blocking",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-500"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>b("view"),className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Back"}),e.jsx("button",{onClick:Te,disabled:y,className:`flex-1 py-3 text-white rounded-lg transition-colors disabled:opacity-50 ${i.isBlocked?"bg-green-500 hover:bg-green-600":"bg-yellow-500 hover:bg-yellow-600"}`,children:y?"Processing...":i.isBlocked?"Unblock User":"Block User"})]})]}),g==="ban"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${i.isBanned?"text-green-500":"text-red-500"} mb-2`,children:[e.jsx(Os,{size:20}),e.jsx("h4",{className:"font-semibold",children:i.isBanned?"Unban User":"Ban User Permanently"})]}),e.jsx("div",{className:`p-3 rounded-lg ${i.isBanned?"bg-green-500/10":"bg-red-500/10"}`,children:e.jsx("p",{className:`text-sm ${i.isBanned?"text-green-400":"text-red-400"}`,children:i.isBanned?"This will remove the permanent ban and restore user access.":" Warning: Banning is a permanent action. The user will lose all access to their account and funds."})}),!i.isBanned&&e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Reason (Required)"}),e.jsx("input",{type:"text",value:F,onChange:ie=>I(ie.target.value),placeholder:"Enter reason for banning",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>b("view"),className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Back"}),e.jsx("button",{onClick:H,disabled:y||!i.isBanned&&!F,className:`flex-1 py-3 text-white rounded-lg transition-colors disabled:opacity-50 ${i.isBanned?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:y?"Processing...":i.isBanned?"Unban User":"Ban Permanently"})]})]}),g==="credit"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-purple-500 mb-2",children:[e.jsx(rx,{size:20}),e.jsx("h4",{className:"font-semibold",children:"Add Credit/Bonus"})]}),e.jsx("div",{className:"bg-purple-500/10 p-3 rounded-lg",children:e.jsx("p",{className:"text-purple-400 text-sm",children:"Credit adds to equity for trading but cannot be withdrawn. Only profits made using credit can be withdrawn."})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Select Trading Account"}),e.jsxs("select",{value:h,onChange:ie=>A(ie.target.value),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",children:[C.length===0&&e.jsx("option",{value:"",children:"No accounts available"}),C.map(ie=>{var fe,Le;return e.jsxs("option",{value:ie._id,children:[ie.accountId," - Balance: $",(fe=ie.balance)==null?void 0:fe.toFixed(2)," | Credit: $",((Le=ie.credit)==null?void 0:Le.toFixed(2))||"0.00"]},ie._id)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Credit Amount ($)"}),e.jsx("input",{type:"number",value:X,onChange:ie=>T(ie.target.value),placeholder:"Enter credit amount",min:"0",step:"0.01",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Reason (Optional)"}),e.jsx("input",{type:"text",value:k,onChange:ie=>W(ie.target.value),placeholder:"e.g., Deposit bonus, Promotion",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:()=>b("view"),className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Back"}),e.jsx("button",{onClick:ye,disabled:y||!h,className:"flex-1 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-50",children:y?"Processing...":"Add Credit"})]})]}),g==="delete"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-500 mb-2",children:[e.jsx(Ot,{size:20}),e.jsx("h4",{className:"font-semibold",children:"Delete User"})]}),e.jsx("div",{className:"bg-red-500/10 p-3 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:" This action cannot be undone. All user data, trading accounts, and transaction history will be permanently deleted."})}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Are you sure you want to delete ",e.jsx("span",{className:"text-white font-medium",children:i.firstName}),"'s account?"]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:me,className:"flex-1 py-3 bg-dark-700 text-gray-400 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:he,disabled:y,className:"flex-1 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:y?"Deleting...":"Delete User"})]})]})]})]})})};return e.jsxs(Dt,{title:"User Management",subtitle:"Manage all registered users",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"All Users"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[t.length," total users"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:n,onChange:R=>l(R.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsxs("button",{onClick:te,className:"p-2 bg-dark-700 rounded-lg hover:bg-dark-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Be,{size:18,className:`text-gray-400 ${r?"animate-spin":""}`}),e.jsx("span",{className:"sm:hidden text-gray-400 text-sm",children:"Refresh"})]})]})]}),e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:r?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin"})}):O.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"No users found matching your search":"No users registered yet"}):O.map(R=>{var Z,Pe,M;return e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-medium text-lg",children:((Pe=(Z=R.firstName)==null?void 0:Z.charAt(0))==null?void 0:Pe.toUpperCase())||"U"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:R.firstName||"Unknown"}),e.jsx("p",{className:`text-xs ${R.isBanned?"text-red-500":R.isBlocked?"text-yellow-500":"text-green-500"}`,children:R.isBanned?"Banned":R.isBlocked?"Blocked":"Active"})]})]}),e.jsx("button",{onClick:()=>Q("view",R),className:"p-2 bg-dark-600 rounded-lg hover:bg-dark-500 transition-colors",children:e.jsx(Qc,{size:18,className:"text-gray-400"})})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Fr,{size:14}),e.jsx("span",{className:"truncate",children:R.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Qo,{size:14}),e.jsx("span",{children:R.phone||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(gr,{size:14}),e.jsxs("span",{children:["Joined ",oe(R.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Qe,{size:14}),e.jsxs("span",{className:"text-white font-medium",children:["$",((M=R.walletBalance)==null?void 0:M.toFixed(2))||"0.00"]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-600",children:[e.jsxs("button",{onClick:()=>Q("view",R),className:"flex-1 flex items-center justify-center gap-1 py-2 bg-blue-500/20 text-blue-500 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:[e.jsx(Xt,{size:14}),"View"]}),e.jsxs("button",{onClick:()=>Q("password",R),className:"flex-1 flex items-center justify-center gap-1 py-2 bg-purple-500/20 text-purple-500 rounded-lg text-sm hover:bg-purple-500/30 transition-colors",children:[e.jsx(Pr,{size:14}),"Password"]}),e.jsxs("button",{onClick:()=>Q("delete",R),className:"flex-1 flex items-center justify-center gap-1 py-2 bg-red-500/20 text-red-500 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:[e.jsx(Ot,{size:14}),"Delete"]})]})]},R._id)})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Email"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Phone"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Balance"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Joined"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin mx-auto"})})}):O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:n?"No users found matching your search":"No users registered yet"})}):O.map(R=>{var Z,Pe,M;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-accent-green font-medium",children:((Pe=(Z=R.firstName)==null?void 0:Z.charAt(0))==null?void 0:Pe.toUpperCase())||"U"})}),e.jsx("span",{className:"text-white font-medium",children:R.firstName||"Unknown"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Fr,{size:14}),e.jsx("span",{children:R.email})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Qo,{size:14}),e.jsx("span",{children:R.phone||"N/A"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:"text-white font-medium",children:["$",((M=R.walletBalance)==null?void 0:M.toFixed(2))||"0.00"]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.isBanned?"bg-red-500/20 text-red-500":R.isBlocked?"bg-yellow-500/20 text-yellow-500":"bg-green-500/20 text-green-500"}`,children:R.isBanned?"Banned":R.isBlocked?"Blocked":"Active"})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:oe(R.createdAt)}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Q("view",R),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",title:"View Details",children:e.jsx(Xt,{size:16})}),e.jsx("button",{onClick:()=>Q("password",R),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-blue-500",title:"Change Password",children:e.jsx(Pr,{size:16})}),e.jsx("button",{onClick:()=>Q("deduct",R),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-orange-500",title:"Deduct Fund",children:e.jsx(Yt,{size:16})}),e.jsx("button",{onClick:()=>Q("block",R),className:`p-2 hover:bg-dark-600 rounded-lg transition-colors ${R.isBlocked?"text-yellow-500":"text-gray-400 hover:text-yellow-500"}`,title:R.isBlocked?"Unblock User":"Block User",children:e.jsx(Yi,{size:16})}),e.jsx("button",{onClick:()=>Q("delete",R),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",title:"Delete User",children:e.jsx(Ot,{size:16})})]})})]},R._id)})})]})})]}),ce()]})},Gi="http://localhost:5001/api",zy=()=>{var k,W;const t=Ze(),[s,r]=o.useState("Accounts"),[a,n]=o.useState(!1),[l,i]=o.useState([]),[d,c]=o.useState(!0),[u,g]=o.useState(""),[b,y]=o.useState(!1),[j,v]=o.useState(!1),[w,D]=o.useState(null),[f,x]=o.useState(""),[m,p]=o.useState(""),[S,E]=o.useState({leverage:"",exposureLimit:"",status:""}),[P,z]=o.useState(""),G=[{name:"Dashboard",icon:cs,path:"/admin/dashboard"},{name:"User Management",icon:We,path:"/admin/dashboard"},{name:"Accounts",icon:dr,path:"/admin/accounts"},{name:"Account Types",icon:dr,path:"/admin/account-types"},{name:"Transactions",icon:ur,path:"/admin/transactions"},{name:"Payment Methods",icon:ur,path:"/admin/payment-methods"}];o.useEffect(()=>{localStorage.getItem("adminToken")||t("/admin"),V()},[t]);const V=async()=>{c(!0);try{const $=await(await fetch(`${Gi}/trading-accounts/all`)).json();i($.accounts||[])}catch(C){console.error("Error:",C)}c(!1)},U=async()=>{if(w)try{(await fetch(`${Gi}/trading-accounts/${w._id}/admin-update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).ok&&(p("Account updated successfully!"),y(!1),D(null),V(),setTimeout(()=>p(""),3e3))}catch{x("Error updating account")}},F=async()=>{if(!w||!P||P.length!==4){x("PIN must be exactly 4 digits");return}try{(await fetch(`${Gi}/trading-accounts/${w._id}/reset-pin`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPin:P})})).ok&&(p("PIN reset successfully!"),v(!1),D(null),z(""),setTimeout(()=>p(""),3e3))}catch{x("Error resetting PIN")}},I=C=>{var $;D(C),E({leverage:C.leverage,exposureLimit:(($=C.exposureLimit)==null?void 0:$.toString())||"0",status:C.status}),y(!0),x("")},X=l.filter(C=>{var $,h,A,_,te;return(($=C.accountId)==null?void 0:$.toLowerCase().includes(u.toLowerCase()))||((A=(h=C.userId)==null?void 0:h.firstName)==null?void 0:A.toLowerCase().includes(u.toLowerCase()))||((te=(_=C.userId)==null?void 0:_.email)==null?void 0:te.toLowerCase().includes(u.toLowerCase()))}),T=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),t("/admin")};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[e.jsxs("aside",{className:`${a?"w-52":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsxs("div",{className:"p-4 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),a&&e.jsx("span",{className:"text-white font-semibold",children:"Admin"})]}),e.jsx("nav",{className:"flex-1 px-2",children:G.map(C=>e.jsxs("button",{onClick:()=>t(C.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${s===C.name?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(C.icon,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:C.name})]},C.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:T,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white transition-colors rounded-lg",children:[e.jsx(Zt,{size:18}),a&&e.jsx("span",{className:"text-sm font-medium",children:"Log Out"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Account Management"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage all user trading accounts"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:u,onChange:C=>g(C.target.value),className:"bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600 w-64"})]}),e.jsx("button",{onClick:V,className:"p-2 bg-dark-700 rounded-lg hover:bg-dark-600 transition-colors",children:e.jsx(Be,{size:18,className:`text-gray-400 ${d?"animate-spin":""}`})})]})]}),e.jsxs("div",{className:"p-6",children:[m&&e.jsxs("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 flex items-center gap-2",children:[e.jsx(He,{size:18})," ",m]}),f&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500",children:f}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Accounts"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:l.length})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Active"}),e.jsx("p",{className:"text-green-500 text-2xl font-bold",children:l.filter(C=>C.status==="Active").length})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Suspended"}),e.jsx("p",{className:"text-red-500 text-2xl font-bold",children:l.filter(C=>C.status==="Suspended").length})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Balance"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",l.reduce((C,$)=>C+($.balance||0),0).toLocaleString()]})]})]}),e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Account ID"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Type"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Balance"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Leverage"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin mx-auto"})})}):X.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:u?"No accounts found":"No trading accounts yet"})}):X.map(C=>{var $,h,A,_;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"text-accent-green font-mono text-sm",children:C.accountId})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:(($=C.userId)==null?void 0:$.firstName)||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-sm",children:(h=C.userId)==null?void 0:h.email})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:((A=C.accountTypeId)==null?void 0:A.name)||"N/A"}),e.jsxs("td",{className:"py-4 px-4 text-white font-medium",children:["$",((_=C.balance)==null?void 0:_.toLocaleString())||0]}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:C.leverage}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.status==="Active"?"bg-green-500/20 text-green-500":C.status==="Suspended"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-500"}`,children:C.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>I(C),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",title:"Edit",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>{D(C),v(!0),x("")},className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-yellow-500",title:"Reset PIN",children:e.jsx(Pr,{size:16})})]})})]},C._id)})})]})})]})]}),b&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Edit Account"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-dark-700 rounded-lg",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Account ID"}),e.jsx("p",{className:"text-accent-green font-mono",children:w.accountId})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Leverage"}),e.jsxs("select",{value:S.leverage,onChange:C=>E({...S,leverage:C.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none",children:[e.jsx("option",{value:"1:50",children:"1:50"}),e.jsx("option",{value:"1:100",children:"1:100"}),e.jsx("option",{value:"1:200",children:"1:200"}),e.jsx("option",{value:"1:500",children:"1:500"}),e.jsx("option",{value:"1:1000",children:"1:1000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Exposure Limit ($)"}),e.jsx("input",{type:"number",value:S.exposureLimit,onChange:C=>E({...S,exposureLimit:C.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Status"}),e.jsxs("select",{value:S.status,onChange:C=>E({...S,status:C.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]})]}),f&&e.jsx("p",{className:"text-red-500 text-sm mt-4",children:f}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:U,className:"flex-1 bg-red-500 text-white font-medium py-3 rounded-lg hover:bg-red-600",children:"Update"})]})]})}),j&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Reset Account PIN"}),e.jsx("button",{onClick:()=>{v(!1),z("")},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-dark-700 rounded-lg",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Account ID"}),e.jsx("p",{className:"text-accent-green font-mono",children:w.accountId}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["User: ",((k=w.userId)==null?void 0:k.firstName)||((W=w.userId)==null?void 0:W.email)]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"New 4-digit PIN"}),e.jsx("input",{type:"text",maxLength:4,value:P,onChange:C=>z(C.target.value.replace(/\D/g,"")),placeholder:"Enter new PIN",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white text-center text-2xl tracking-widest focus:outline-none focus:border-red-500"})]}),f&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:f}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{v(!1),z("")},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:F,className:"flex-1 bg-red-500 text-white font-medium py-3 rounded-lg hover:bg-red-600",children:"Reset PIN"})]})]})})]})},$a="http://localhost:5001/api",Ly=()=>{const[t,s]=o.useState([]),[r,a]=o.useState(!0),[n,l]=o.useState(!1),[i,d]=o.useState(null),[c,u]=o.useState(""),[g,b]=o.useState(""),[y,j]=o.useState({name:"",description:"",minDeposit:"",leverage:"1:100",exposureLimit:"",isActive:!0});o.useEffect(()=>{v()},[]);const v=async()=>{a(!0);try{const S=await(await fetch(`${$a}/account-types/all`)).json();s(S.accountTypes||[])}catch(p){console.error("Error fetching account types:",p)}a(!1)},w=async()=>{if(!y.name||!y.minDeposit||!y.leverage){u("Please fill in all required fields");return}try{const p=i?`${$a}/account-types/${i._id}`:`${$a}/account-types`,S=await fetch(p,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,minDeposit:parseFloat(y.minDeposit),exposureLimit:y.exposureLimit?parseFloat(y.exposureLimit):0})}),E=await S.json();S.ok?(b(i?"Account type updated!":"Account type created!"),l(!1),x(),v(),setTimeout(()=>b(""),3e3)):u(E.message)}catch{u("Error saving account type")}},D=async p=>{if(confirm("Are you sure you want to delete this account type?"))try{(await fetch(`${$a}/account-types/${p}`,{method:"DELETE"})).ok&&(b("Account type deleted!"),v(),setTimeout(()=>b(""),3e3))}catch{u("Error deleting account type")}},f=async p=>{try{(await fetch(`${$a}/account-types/${p._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,isActive:!p.isActive})})).ok&&v()}catch{u("Error updating account type")}},x=()=>{j({name:"",description:"",minDeposit:"",leverage:"1:100",exposureLimit:"",isActive:!0}),d(null),u("")},m=p=>{var S;d(p),j({name:p.name,description:p.description||"",minDeposit:p.minDeposit.toString(),leverage:p.leverage,exposureLimit:((S=p.exposureLimit)==null?void 0:S.toString())||"",isActive:p.isActive}),l(!0),u("")};return e.jsxs(Dt,{title:"Account Types",subtitle:"Manage trading account types",children:[e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs("button",{onClick:()=>{x(),l(!0)},className:"flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx(qe,{size:18})," Add Account Type"]})}),e.jsxs("div",{children:[g&&e.jsxs("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 flex items-center gap-2",children:[e.jsx(He,{size:18})," ",g]}),r?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin"})}):e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.map(p=>e.jsxs("div",{className:`bg-dark-800 rounded-xl p-5 border ${p.isActive?"border-gray-800":"border-red-500/30 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-white font-semibold",children:p.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.isActive?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:p.isActive?"Active":"Disabled"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:p.description||"No description"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Min Deposit"}),e.jsxs("span",{className:"text-white",children:["$",p.minDeposit]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Leverage"}),e.jsx("span",{className:"text-white",children:p.leverage})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Exposure Limit"}),e.jsxs("span",{className:"text-white",children:["$",p.exposureLimit||0]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>m(p),className:"flex-1 flex items-center justify-center gap-1 bg-dark-700 text-white py-2 rounded-lg hover:bg-dark-600 transition-colors text-sm",children:[e.jsx(Rt,{size:14})," Edit"]}),e.jsx("button",{onClick:()=>f(p),className:`flex-1 py-2 rounded-lg transition-colors text-sm ${p.isActive?"bg-orange-500/20 text-orange-500 hover:bg-orange-500/30":"bg-green-500/20 text-green-500 hover:bg-green-500/30"}`,children:p.isActive?"Disable":"Enable"}),e.jsx("button",{onClick:()=>D(p._id),className:"p-2 bg-red-500/20 text-red-500 rounded-lg hover:bg-red-500/30 transition-colors",children:e.jsx(Ot,{size:14})})]})]},p._id)),t.length===0&&e.jsxs("div",{className:"col-span-3 bg-dark-800 rounded-xl p-8 border border-gray-800 text-center",children:[e.jsx(dr,{size:48,className:"text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No account types created yet"})]})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:i?"Edit Account Type":"Create Account Type"}),e.jsx("button",{onClick:()=>{l(!1),x()},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Account Name *"}),e.jsx("input",{type:"text",value:y.name,onChange:p=>j({...y,name:p.target.value}),placeholder:"e.g., Standard, Premium, VIP",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Description"}),e.jsx("textarea",{value:y.description,onChange:p=>j({...y,description:p.target.value}),placeholder:"Account type description",rows:2,className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Min Deposit ($) *"}),e.jsx("input",{type:"number",value:y.minDeposit,onChange:p=>j({...y,minDeposit:p.target.value}),placeholder:"100",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Leverage *"}),e.jsxs("select",{value:y.leverage,onChange:p=>j({...y,leverage:p.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500",children:[e.jsx("option",{value:"1:50",children:"1:50"}),e.jsx("option",{value:"1:100",children:"1:100"}),e.jsx("option",{value:"1:200",children:"1:200"}),e.jsx("option",{value:"1:500",children:"1:500"}),e.jsx("option",{value:"1:1000",children:"1:1000"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Exposure Limit ($)"}),e.jsx("input",{type:"number",value:y.exposureLimit,onChange:p=>j({...y,exposureLimit:p.target.value}),placeholder:"0 for unlimited",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]})]}),c&&e.jsx("p",{className:"text-red-500 text-sm mt-4",children:c}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{l(!1),x()},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:w,className:"flex-1 bg-red-500 text-white font-medium py-3 rounded-lg hover:bg-red-600 transition-colors",children:i?"Update":"Create"})]})]})})]})},dx="http://localhost:5001/api",My=()=>{const t=Ze(),[s,r]=o.useState("Transactions"),[a,n]=o.useState(!1),[l,i]=o.useState([]),[d,c]=o.useState(!0),[u,g]=o.useState("all"),[b,y]=o.useState(""),[j,v]=o.useState(""),[w,D]=o.useState(!1),[f,x]=o.useState(null),[m,p]=o.useState(""),[S,E]=o.useState(""),P=[{name:"Dashboard",icon:cs,path:"/admin/dashboard"},{name:"User Management",icon:We,path:"/admin/dashboard"},{name:"Account Types",icon:dr,path:"/admin/account-types"},{name:"Transactions",icon:ur,path:"/admin/transactions"},{name:"Payment Methods",icon:ur,path:"/admin/payment-methods"}];o.useEffect(()=>{localStorage.getItem("adminToken")||t("/admin"),z()},[t]);const z=async()=>{c(!0);try{const X=await(await fetch(`${dx}/wallet/admin/transactions`)).json();i(X.transactions||[])}catch(I){console.error("Error:",I)}c(!1)},G=async()=>{if(f)try{const I=m==="approve"?"approve":"reject";(await fetch(`${dx}/wallet/transaction/${f._id}/${I}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminRemarks:S})})).ok&&(v(`Transaction ${m}d!`),D(!1),x(null),E(""),z(),setTimeout(()=>v(""),3e3))}catch{y("Error processing transaction")}},V=l.filter(I=>u==="all"?!0:u==="pending"?I.status==="Pending":u==="deposits"?I.type==="Deposit":u==="withdrawals"?I.type==="Withdrawal":!0),U=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),t("/admin")};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[e.jsxs("aside",{className:`${a?"w-52":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsxs("div",{className:"p-4 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),a&&e.jsx("span",{className:"text-white font-semibold",children:"Admin"})]}),e.jsx("nav",{className:"flex-1 px-2",children:P.map(I=>e.jsxs("button",{onClick:()=>t(I.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${s===I.name?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(I.icon,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:I.name})]},I.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:F,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white transition-colors rounded-lg",children:[e.jsx(Zt,{size:18}),a&&e.jsx("span",{className:"text-sm font-medium",children:"Log Out"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Transactions"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage deposits & withdrawals"})]}),e.jsx("div",{className:"flex gap-2",children:["all","pending","deposits","withdrawals"].map(I=>e.jsx("button",{onClick:()=>g(I),className:`px-4 py-2 rounded-lg text-sm capitalize ${u===I?"bg-red-500 text-white":"bg-dark-700 text-gray-400"}`,children:I},I))})]}),e.jsxs("div",{className:"p-6",children:[j&&e.jsxs("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 flex items-center gap-2",children:[e.jsx(He,{size:18})," ",j]}),e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Type"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Amount"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Method"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Date"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin mx-auto"})})}):V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No transactions found"})}):V.map(I=>{var X,T;return e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"py-4 px-4 text-white",children:((X=I.userId)==null?void 0:X.firstName)||((T=I.userId)==null?void 0:T.email)||"Unknown"}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[I.type==="Deposit"?e.jsx(qo,{size:16,className:"text-green-500"}):e.jsx(Ko,{size:16,className:"text-red-500"}),e.jsx("span",{className:"text-white",children:I.type})]})}),e.jsxs("td",{className:`py-4 px-4 font-medium ${I.type==="Deposit"?"text-green-500":"text-red-500"}`,children:["$",I.amount]}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:I.paymentMethod}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${I.status==="Approved"?"bg-green-500/20 text-green-500":I.status==="Rejected"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:I.status})}),e.jsx("td",{className:"py-4 px-4 text-gray-400 text-sm",children:U(I.createdAt)}),e.jsx("td",{className:"py-4 px-4",children:I.status==="Pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{x(I),p("approve"),D(!0)},className:"p-2 bg-green-500/20 text-green-500 rounded hover:bg-green-500/30",children:e.jsx(He,{size:14})}),e.jsx("button",{onClick:()=>{x(I),p("reject"),D(!0)},className:"p-2 bg-red-500/20 text-red-500 rounded hover:bg-red-500/30",children:e.jsx(ge,{size:14})})]})})]},I._id)})})]})})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("h3",{className:"text-white font-semibold text-lg mb-4",children:[m==="approve"?"Approve":"Reject"," Transaction"]}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Amount: ",e.jsxs("span",{className:"text-white font-medium",children:["$",f==null?void 0:f.amount]})]}),e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Admin Remarks (Optional)"}),e.jsx("textarea",{value:S,onChange:I=>E(I.target.value),placeholder:"Add remarks...",rows:3,className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none mb-4"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>D(!1),className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:G,className:`flex-1 font-medium py-3 rounded-lg ${m==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"} text-white`,children:m==="approve"?"Approve":"Reject"})]})]})})]})},Fa="http://localhost:5001/api",Uy=()=>{const t=Ze(),[s,r]=o.useState("Payment Methods"),[a,n]=o.useState(!1),[l,i]=o.useState([]),[d,c]=o.useState(!0),[u,g]=o.useState(!1),[b,y]=o.useState(null),[j,v]=o.useState(""),[w,D]=o.useState(""),[f,x]=o.useState({type:"Bank Transfer",bankName:"",accountNumber:"",accountHolderName:"",ifscCode:"",upiId:"",qrCodeImage:"",isActive:!0}),m=[{name:"Dashboard",icon:cs,path:"/admin/dashboard"},{name:"User Management",icon:We,path:"/admin/dashboard"},{name:"Account Types",icon:dr,path:"/admin/account-types"},{name:"Transactions",icon:ur,path:"/admin/transactions"},{name:"Payment Methods",icon:ur,path:"/admin/payment-methods"}];o.useEffect(()=>{localStorage.getItem("adminToken")||t("/admin"),p()},[t]);const p=async()=>{c(!0);try{const I=await(await fetch(`${Fa}/payment-methods/all`)).json();i(I.paymentMethods||[])}catch(F){console.error("Error:",F)}c(!1)},S=async()=>{if(!f.type){v("Please select a payment type");return}try{const F=b?`${Fa}/payment-methods/${b._id}`:`${Fa}/payment-methods`;(await fetch(F,{method:b?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok&&(D(b?"Payment method updated!":"Payment method created!"),g(!1),z(),p(),setTimeout(()=>D(""),3e3))}catch{v("Error saving payment method")}},E=async F=>{if(confirm("Delete this payment method?"))try{(await fetch(`${Fa}/payment-methods/${F}`,{method:"DELETE"})).ok&&(D("Payment method deleted!"),p(),setTimeout(()=>D(""),3e3))}catch{v("Error deleting")}},P=async F=>{try{await fetch(`${Fa}/payment-methods/${F._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...F,isActive:!F.isActive})}),p()}catch{v("Error updating")}},z=()=>{x({type:"Bank Transfer",bankName:"",accountNumber:"",accountHolderName:"",ifscCode:"",upiId:"",qrCodeImage:"",isActive:!0}),y(null),v("")},G=F=>{y(F),x({...F}),g(!0)},V=F=>F==="Bank Transfer"?e.jsx($0,{size:24}):F==="UPI"?e.jsx(ya,{size:24}):e.jsx(Hl,{size:24}),U=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),t("/admin")};return e.jsxs("div",{className:"min-h-screen bg-dark-900 flex",children:[e.jsxs("aside",{className:`${a?"w-52":"w-16"} bg-dark-900 border-r border-gray-800 flex flex-col transition-all duration-300`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsxs("div",{className:"p-4 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),a&&e.jsx("span",{className:"text-white font-semibold",children:"Admin"})]}),e.jsx("nav",{className:"flex-1 px-2",children:m.map(F=>e.jsxs("button",{onClick:()=>t(F.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${s===F.name?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[e.jsx(F.icon,{size:18,className:"flex-shrink-0"}),a&&e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:F.name})]},F.name))}),e.jsx("div",{className:"p-2 border-t border-gray-800",children:e.jsxs("button",{onClick:U,className:"w-full flex items-center gap-3 px-3 py-2.5 text-gray-400 hover:text-white transition-colors rounded-lg",children:[e.jsx(Zt,{size:18}),a&&e.jsx("span",{className:"text-sm font-medium",children:"Log Out"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-auto",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Payment Methods"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage deposit/withdrawal methods"})]}),e.jsxs("button",{onClick:()=>{z(),g(!0)},className:"flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:[e.jsx(qe,{size:18})," Add Method"]})]}),e.jsxs("div",{className:"p-6",children:[w&&e.jsxs("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 flex items-center gap-2",children:[e.jsx(He,{size:18})," ",w]}),d?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Be,{size:24,className:"text-gray-500 animate-spin"})}):e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.map(F=>e.jsxs("div",{className:`bg-dark-800 rounded-xl p-5 border ${F.isActive?"border-gray-800":"border-red-500/30 opacity-60"}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-dark-700 rounded-lg flex items-center justify-center text-gray-400",children:V(F.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:F.type}),e.jsx("span",{className:`text-xs ${F.isActive?"text-green-500":"text-red-500"}`,children:F.isActive?"Active":"Disabled"})]})]})}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[F.type==="Bank Transfer"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-400",children:["Bank: ",e.jsx("span",{className:"text-white",children:F.bankName||"N/A"})]}),e.jsxs("p",{className:"text-gray-400",children:["Account: ",e.jsx("span",{className:"text-white",children:F.accountNumber||"N/A"})]}),e.jsxs("p",{className:"text-gray-400",children:["Name: ",e.jsx("span",{className:"text-white",children:F.accountHolderName||"N/A"})]})]}),F.type==="UPI"&&e.jsxs("p",{className:"text-gray-400",children:["UPI ID: ",e.jsx("span",{className:"text-white",children:F.upiId||"N/A"})]}),F.type==="QR Code"&&e.jsxs("p",{className:"text-gray-400",children:["QR: ",e.jsx("span",{className:"text-white",children:F.qrCodeImage?"Uploaded":"Not set"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>G(F),className:"flex-1 flex items-center justify-center gap-1 bg-dark-700 text-white py-2 rounded-lg hover:bg-dark-600 text-sm",children:[e.jsx(Rt,{size:14})," Edit"]}),e.jsx("button",{onClick:()=>P(F),className:`flex-1 py-2 rounded-lg text-sm ${F.isActive?"bg-orange-500/20 text-orange-500":"bg-green-500/20 text-green-500"}`,children:F.isActive?"Disable":"Enable"}),e.jsx("button",{onClick:()=>E(F._id),className:"p-2 bg-red-500/20 text-red-500 rounded-lg",children:e.jsx(Ot,{size:14})})]})]},F._id)),l.length===0&&e.jsxs("div",{className:"col-span-3 bg-dark-800 rounded-xl p-8 border border-gray-800 text-center",children:[e.jsx(dr,{size:48,className:"text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No payment methods added yet"})]})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-white font-semibold text-lg",children:[b?"Edit":"Add"," Payment Method"]}),e.jsx("button",{onClick:()=>{g(!1),z()},className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Type"}),e.jsxs("select",{value:f.type,onChange:F=>x({...f,type:F.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none",children:[e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"QR Code",children:"QR Code"})]})]}),f.type==="Bank Transfer"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:f.bankName,onChange:F=>x({...f,bankName:F.target.value}),placeholder:"Bank Name",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none"}),e.jsx("input",{type:"text",value:f.accountNumber,onChange:F=>x({...f,accountNumber:F.target.value}),placeholder:"Account Number",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none"}),e.jsx("input",{type:"text",value:f.accountHolderName,onChange:F=>x({...f,accountHolderName:F.target.value}),placeholder:"Account Holder Name",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none"}),e.jsx("input",{type:"text",value:f.ifscCode,onChange:F=>x({...f,ifscCode:F.target.value}),placeholder:"IFSC Code",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none"})]}),f.type==="UPI"&&e.jsx("input",{type:"text",value:f.upiId,onChange:F=>x({...f,upiId:F.target.value}),placeholder:"UPI ID (e.g., name@upi)",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none"}),f.type==="QR Code"&&e.jsx("input",{type:"text",value:f.qrCodeImage,onChange:F=>x({...f,qrCodeImage:F.target.value}),placeholder:"QR Code Image URL",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none"})]}),j&&e.jsx("p",{className:"text-red-500 text-sm mt-4",children:j}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{g(!1),z()},className:"flex-1 bg-dark-700 text-white py-3 rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:S,className:"flex-1 bg-red-500 text-white font-medium py-3 rounded-lg hover:bg-red-600",children:b?"Update":"Create"})]})]})})]})},Yr="http://localhost:5001/api",$y=()=>{var Te,H,he,ye;const[t,s]=o.useState(""),[r,a]=o.useState("all"),[n,l]=o.useState([]),[i,d]=o.useState({total:0,open:0,volume:0,pnl:0}),[c,u]=o.useState(!0),[g,b]=o.useState(!1),[y,j]=o.useState(!1),[v,w]=o.useState(!1),[D,f]=o.useState(null),[x,m]=o.useState([]),[p,S]=o.useState([]),[E,P]=o.useState({userId:"",tradingAccountId:"",symbol:"XAUUSD",side:"BUY",orderType:"MARKET",quantity:.01,openPrice:0,stopLoss:"",takeProfit:""}),[z,G]=o.useState({openPrice:0,closePrice:"",quantity:0,stopLoss:"",takeProfit:"",realizedPnl:0}),[V,U]=o.useState({}),[F,I]=o.useState(!1),[X,T]=o.useState(1),[k,W]=o.useState(0),C=20;o.useEffect(()=>{me(),$()},[r,X]);const $=async()=>{try{const ce=await(await fetch(`${Yr}/admin/users`)).json();ce.users&&m(ce.users)}catch(L){console.error("Error fetching users:",L)}},h=async L=>{try{const R=await(await fetch(`${Yr}/trading-accounts/user/${L}`)).json();R.accounts&&S(R.accounts)}catch(ce){console.error("Error fetching accounts:",ce)}},A=async L=>{I(!0);try{let ce=null;if(["BTCUSD","ETHUSD","BTCUSDT","ETHUSDT"].includes(L)?ce=(await Ny.getAllPrices([L]))[L]:ce=await Tn.getSymbolPrice(L),ce&&ce.bid&&ce.ask){if(U(Z=>({...Z,[L]:ce})),E.orderType==="MARKET"){const Z=E.side==="BUY"?ce.ask:ce.bid;P(Pe=>({...Pe,openPrice:Z}))}}else console.warn("No price data received for",L)}catch(ce){console.error("Error fetching price:",ce)}I(!1)},_=async()=>{try{const ce=await(await fetch(`${Yr}/admin/trade/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...E,quantity:parseFloat(E.quantity),openPrice:parseFloat(E.openPrice),stopLoss:E.stopLoss?parseFloat(E.stopLoss):null,takeProfit:E.takeProfit?parseFloat(E.takeProfit):null})})).json();ce.success?(alert("Trade created successfully!"),b(!1),me(),P({userId:"",tradingAccountId:"",symbol:"XAUUSD",side:"BUY",orderType:"MARKET",quantity:.01,openPrice:0,stopLoss:"",takeProfit:""})):alert(ce.message||"Failed to create trade")}catch{alert("Error creating trade")}},te=async()=>{if(D)try{const ce=await(await fetch(`${Yr}/admin/trade/edit/${D._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({openPrice:parseFloat(z.openPrice),closePrice:z.closePrice?parseFloat(z.closePrice):null,quantity:parseFloat(z.quantity),stopLoss:z.stopLoss?parseFloat(z.stopLoss):null,takeProfit:z.takeProfit?parseFloat(z.takeProfit):null,realizedPnl:z.realizedPnl?parseFloat(z.realizedPnl):null})})).json();ce.success?(alert("Trade updated successfully!"),j(!1),me()):alert(ce.message||"Failed to update trade")}catch{alert("Error updating trade")}},O=async()=>{var L;if(D)try{const R=await(await fetch(`${Yr}/admin/trade/close/${D._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({closePrice:D.openPrice})})).json();R.success?(alert(`Trade closed! P&L: $${(L=R.realizedPnl)==null?void 0:L.toFixed(2)}`),w(!1),me()):alert(R.message||"Failed to close trade")}catch{alert("Error closing trade")}},oe=L=>{f(L),G({openPrice:L.openPrice||0,closePrice:L.closePrice||"",quantity:L.quantity||0,stopLoss:L.stopLoss||"",takeProfit:L.takeProfit||"",realizedPnl:L.realizedPnl||0}),j(!0)},de=L=>{f(L),w(!0)},Q=()=>{if(!D||!z.closePrice)return;const L=D.contractSize||100,ce=D.side==="BUY"?(parseFloat(z.closePrice)-parseFloat(z.openPrice))*parseFloat(z.quantity)*L:(parseFloat(z.openPrice)-parseFloat(z.closePrice))*parseFloat(z.quantity)*L;G(R=>({...R,realizedPnl:Math.round(ce*100)/100}))},me=async()=>{u(!0);try{const L=(X-1)*C,ce=r!=="all"?`&status=${r.toUpperCase()}`:"",Z=await(await fetch(`${Yr}/admin/trade/all?limit=${C}&offset=${L}${ce}`)).json();if(Z.trades){l(Z.trades),W(Z.total||Z.trades.length);const Pe=Z.trades.filter(fe=>fe.status==="OPEN"),M=Z.trades.filter(fe=>fe.status==="CLOSED"),le=Z.trades.reduce((fe,Le)=>fe+Le.quantity*Le.contractSize*Le.openPrice,0),ie=M.reduce((fe,Le)=>fe+(Le.realizedPnl||0),0);d({total:Z.total||Z.trades.length,open:Pe.length,volume:le,pnl:ie})}}catch(L){console.error("Error fetching trades:",L)}u(!1)},ae=L=>{switch(L==null?void 0:L.toUpperCase()){case"OPEN":return"bg-green-500/20 text-green-500";case"CLOSED":return"bg-gray-500/20 text-gray-400";case"PENDING":return"bg-yellow-500/20 text-yellow-500";case"CANCELLED":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-400"}},be=n.filter(L=>{var R,Z,Pe,M,le,ie;return((R=L.tradeId)==null?void 0:R.toLowerCase().includes(t.toLowerCase()))||((Z=L.symbol)==null?void 0:Z.toLowerCase().includes(t.toLowerCase()))||((M=(Pe=L.userId)==null?void 0:Pe.firstName)==null?void 0:M.toLowerCase().includes(t.toLowerCase()))||((ie=(le=L.userId)==null?void 0:le.email)==null?void 0:ie.toLowerCase().includes(t.toLowerCase()))}),Y=L=>{switch(L==null?void 0:L.toUpperCase()){case"OPEN":return e.jsx(as,{size:14});case"CLOSED":return e.jsx($r,{size:14});case"PENDING":return e.jsx(Et,{size:14});default:return null}};return e.jsxs(Dt,{title:"Trade Management",subtitle:"Monitor and manage all trading activities",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Trades"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:i.total.toLocaleString()})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Open Positions"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:i.open})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Volume"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(i.volume/1e6).toFixed(2),"M"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Platform P&L"}),e.jsxs("p",{className:`text-2xl font-bold ${i.pnl>=0?"text-green-500":"text-red-500"}`,children:[i.pnl>=0?"+":"","$",i.pnl.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"All Trades"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:()=>{b(!0),A("XAUUSD")},className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg flex items-center gap-2",children:[e.jsx(qe,{size:18})," Create Trade"]}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search trades...",value:t,onChange:L=>s(L.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsxs("select",{value:r,onChange:L=>a(L.target.value),className:"bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-gray-600",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})]}),c?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading trades..."}):be.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No trades found"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:be.map(L=>{var ce,R;return e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:L.symbol}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${L.side==="BUY"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:L.side})]}),e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${ae(L.status)}`,children:[Y(L.status),L.status]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"User"}),e.jsx("p",{className:"text-white",children:((ce=L.userId)==null?void 0:ce.firstName)||((R=L.userId)==null?void 0:R.email)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Lots"}),e.jsx("p",{className:"text-white",children:L.quantity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Leverage"}),e.jsxs("p",{className:"text-white",children:["1:",L.leverage]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"P&L"}),e.jsxs("p",{className:(L.realizedPnl||0)>=0?"text-green-500":"text-red-500",children:[(L.realizedPnl||0)>=0?"+":"","$",(L.realizedPnl||0).toFixed(2)]})]})]})]},L._id)})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Trade ID"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Symbol"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Side"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Lots"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Open Price"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"P&L"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:be.map(L=>{var ce,R,Z;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4 text-white font-mono text-sm",children:L.tradeId}),e.jsx("td",{className:"py-4 px-4 text-white",children:((ce=L.userId)==null?void 0:ce.firstName)||((R=L.userId)==null?void 0:R.email)}),e.jsx("td",{className:"py-4 px-4 text-white font-medium",children:L.symbol}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`flex items-center gap-1 ${L.side==="BUY"?"text-green-500":"text-red-500"}`,children:[L.side==="BUY"?e.jsx(it,{size:14}):e.jsx(cy,{size:14}),L.side]})}),e.jsx("td",{className:"py-4 px-4 text-white",children:L.quantity}),e.jsxs("td",{className:"py-4 px-4 text-gray-400",children:["$",(Z=L.openPrice)==null?void 0:Z.toFixed(5)]}),e.jsxs("td",{className:`py-4 px-4 font-medium ${(L.realizedPnl||0)>=0?"text-green-500":"text-red-500"}`,children:[(L.realizedPnl||0)>=0?"+":"","$",(L.realizedPnl||0).toFixed(2)]}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs w-fit ${ae(L.status)}`,children:[Y(L.status),L.status]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>oe(L),className:"p-2 hover:bg-blue-500/20 rounded-lg transition-colors text-gray-400 hover:text-blue-500",title:"Edit Trade",children:e.jsx(Rt,{size:16})}),L.status==="OPEN"&&e.jsx("button",{onClick:()=>de(L),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors text-gray-400 hover:text-red-500",title:"Close Trade",children:e.jsx($r,{size:16})})]})})]},L._id)})})]})}),k>C&&e.jsxs("div",{className:"p-4 border-t border-gray-800 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:["Showing ",(X-1)*C+1," - ",Math.min(X*C,k)," of ",k," trades"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(L=>Math.max(1,L-1)),disabled:X===1,className:"px-3 py-1 bg-dark-700 hover:bg-dark-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"text-white px-3",children:["Page ",X," of ",Math.ceil(k/C)]}),e.jsx("button",{onClick:()=>T(L=>Math.min(Math.ceil(k/C),L+1)),disabled:X>=Math.ceil(k/C),className:"px-3 py-1 bg-dark-700 hover:bg-dark-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Trade"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"User"}),e.jsxs("select",{value:E.userId,onChange:L=>{P({...E,userId:L.target.value,tradingAccountId:""}),L.target.value&&h(L.target.value)},className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Select User"}),x.map(L=>e.jsxs("option",{value:L._id,children:[L.firstName," - ",L.email]},L._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Trading Account"}),e.jsxs("select",{value:E.tradingAccountId,onChange:L=>P({...E,tradingAccountId:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Select Account"}),p.map(L=>{var ce;return e.jsxs("option",{value:L._id,children:[L.accountId," - $",(ce=L.balance)==null?void 0:ce.toFixed(2)]},L._id)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Symbol"}),e.jsxs("select",{value:E.symbol,onChange:L=>{const ce=L.target.value;P({...E,symbol:ce}),A(ce)},className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"XAUUSD",children:"XAUUSD"}),e.jsx("option",{value:"EURUSD",children:"EURUSD"}),e.jsx("option",{value:"GBPUSD",children:"GBPUSD"}),e.jsx("option",{value:"BTCUSD",children:"BTCUSD"}),e.jsx("option",{value:"ETHUSD",children:"ETHUSD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Order Type"}),e.jsxs("select",{value:E.orderType,onChange:L=>{const ce=L.target.value;P({...E,orderType:ce}),ce==="MARKET"&&A(E.symbol)},className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"MARKET",children:"Market Order"}),e.jsx("option",{value:"LIMIT",children:"Limit Order"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Side"}),e.jsxs("select",{value:E.side,onChange:L=>{const ce=L.target.value;if(P({...E,side:ce}),E.orderType==="MARKET"){const R=V[E.symbol];R&&P(Z=>({...Z,side:ce,openPrice:ce==="BUY"?R.ask:R.bid}))}},className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"BUY",children:"BUY"}),e.jsx("option",{value:"SELL",children:"SELL"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Quantity (Lots)"}),e.jsx("input",{type:"number",step:"0.01",value:E.quantity,onChange:L=>P({...E,quantity:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]}),F?e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3 flex items-center justify-center",children:[e.jsx(Be,{size:16,className:"animate-spin text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Fetching live price..."})]}):V[E.symbol]?e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Live Market Price"}),e.jsx("p",{className:"text-white font-medium",children:E.symbol})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-red-500",children:["Bid: ",(Te=V[E.symbol].bid)==null?void 0:Te.toFixed(5)]}),e.jsxs("p",{className:"text-green-500",children:["Ask: ",(H=V[E.symbol].ask)==null?void 0:H.toFixed(5)]})]})]}):e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-yellow-500 text-sm",children:"Click on symbol to fetch live price"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:E.orderType==="MARKET"?"Execution Price (auto)":"Limit Price"}),e.jsx("input",{type:"number",step:"0.00001",value:E.openPrice,onChange:L=>P({...E,openPrice:L.target.value}),disabled:E.orderType==="MARKET",className:`w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white ${E.orderType==="MARKET"?"opacity-60 cursor-not-allowed":""}`}),E.orderType==="MARKET"&&e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Price auto-filled from market (",E.side==="BUY"?"Ask":"Bid",")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Stop Loss (optional)"}),e.jsx("input",{type:"number",step:"0.00001",value:E.stopLoss,onChange:L=>P({...E,stopLoss:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Take Profit (optional)"}),e.jsx("input",{type:"number",step:"0.00001",value:E.takeProfit,onChange:L=>P({...E,takeProfit:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:_,className:"flex-1 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg",children:"Create Trade"})]})]})]})}),y&&D&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between sticky top-0 bg-dark-800",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Trade"}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:["Trade ID: ",D.tradeId]}),e.jsxs("p",{className:"text-white font-medium",children:[D.symbol," ",D.side]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ae(D.status)}`,children:D.status})]}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["User: ",((he=D.userId)==null?void 0:he.firstName)||((ye=D.userId)==null?void 0:ye.email)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Quantity (Lots)"}),e.jsx("input",{type:"number",step:"0.01",value:z.quantity,onChange:L=>G({...z,quantity:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Open Price"}),e.jsx("input",{type:"number",step:"0.00001",value:z.openPrice,onChange:L=>G({...z,openPrice:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Stop Loss"}),e.jsx("input",{type:"number",step:"0.00001",value:z.stopLoss,onChange:L=>G({...z,stopLoss:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",placeholder:"Optional"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Take Profit"}),e.jsx("input",{type:"number",step:"0.00001",value:z.takeProfit,onChange:L=>G({...z,takeProfit:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",placeholder:"Optional"})]})]}),e.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Close Trade Settings (for closed trades or to set P&L)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Close Price"}),e.jsx("input",{type:"number",step:"0.00001",value:z.closePrice,onChange:L=>G({...z,closePrice:L.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",placeholder:"Enter close price"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Realized P&L"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:"0.01",value:z.realizedPnl,onChange:L=>G({...z,realizedPnl:L.target.value}),className:`flex-1 px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg ${parseFloat(z.realizedPnl)>=0?"text-green-500":"text-red-500"}`}),e.jsx("button",{onClick:Q,className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm",title:"Auto-calculate P&L",children:"Calc"})]})]})]})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-yellow-500 text-sm",children:" Changes will be saved silently without notifying the user."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:te,className:"flex-1 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:"Save Changes"})]})]})]})}),v&&D&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-md",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Close Trade"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Trade Details"}),e.jsx("p",{className:"text-white font-medium",children:D.tradeId}),e.jsxs("p",{className:"text-white",children:[D.symbol," ",D.side," ",D.quantity," lots"]}),e.jsxs("p",{className:"text-gray-400",children:["Open Price: $",D.openPrice]})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-yellow-500 text-sm",children:"Are you sure you want to close this trade? This action cannot be undone."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:O,className:"flex-1 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg",children:"Close Trade"})]})]})]})})]})},nl="http://localhost:5001/api",Fy=()=>{var z,G,V,U,F,I,X;const[t,s]=o.useState(""),[r,a]=o.useState("all"),[n,l]=o.useState([]),[i,d]=o.useState({deposits:0,withdrawals:0,pending:0,net:0}),[c,u]=o.useState(!0),[g,b]=o.useState(null),[y,j]=o.useState(null),[v,w]=o.useState(!1);o.useEffect(()=>{D()},[r]);const D=async()=>{u(!0);try{const k=await(await fetch(`${nl}/wallet/admin/transactions`)).json();if(k.transactions){let W=k.transactions;r!=="all"&&(W=k.transactions.filter(A=>{var _;return((_=A.type)==null?void 0:_.toLowerCase())===r})),l(W);const C=k.transactions.filter(A=>{var _,te;return((_=A.type)==null?void 0:_.toUpperCase())==="DEPOSIT"&&((te=A.status)==null?void 0:te.toUpperCase())==="APPROVED"}).reduce((A,_)=>A+(_.amount||0),0),$=k.transactions.filter(A=>{var _,te;return((_=A.type)==null?void 0:_.toUpperCase())==="WITHDRAWAL"&&((te=A.status)==null?void 0:te.toUpperCase())==="APPROVED"}).reduce((A,_)=>A+(_.amount||0),0),h=k.transactions.filter(A=>{var _;return((_=A.status)==null?void 0:_.toUpperCase())==="PENDING"}).length;d({deposits:C,withdrawals:$,pending:h,net:C-$})}}catch(T){console.error("Error fetching transactions:",T)}u(!1)},f=async T=>{try{const k=await fetch(`${nl}/wallet/transaction/${T}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminRemarks:""})}),W=await k.json();k.ok?(alert("Transaction approved successfully!"),D()):alert(W.message||"Error approving transaction")}catch(k){console.error("Error approving transaction:",k),alert("Error approving transaction")}},x=async T=>{const k=prompt("Enter rejection reason (optional):");try{const W=await fetch(`${nl}/wallet/transaction/${T}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminRemarks:k||""})}),C=await W.json();W.ok?(alert("Transaction rejected!"),D()):alert(C.message||"Error rejecting transaction")}catch(W){console.error("Error rejecting transaction:",W),alert("Error rejecting transaction")}},m=n.filter(T=>{var W,C,$,h,A;return((W=T.transactionId)==null?void 0:W.toLowerCase().includes(t.toLowerCase()))||(($=(C=T.userId)==null?void 0:C.firstName)==null?void 0:$.toLowerCase().includes(t.toLowerCase()))||((A=(h=T.userId)==null?void 0:h.email)==null?void 0:A.toLowerCase().includes(t.toLowerCase()))}),p=T=>{const k=T==null?void 0:T.toLowerCase();return k==="approved"?"bg-green-500/20 text-green-500":k==="pending"?"bg-yellow-500/20 text-yellow-500":k==="rejected"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-400"},S=T=>(T==null?void 0:T.toLowerCase())==="pending",E=async T=>{var k;b(T),w(!0);try{const C=await(await fetch(`${nl}/auth/user/${((k=T.userId)==null?void 0:k._id)||T.userId}`)).json();C.user&&j(C.user)}catch(W){console.error("Error fetching user details:",W)}},P=()=>{w(!1),b(null),j(null)};return e.jsxs(Dt,{title:"Fund Management",subtitle:"Manage deposits and withdrawals",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ya,{size:18,className:"text-green-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Deposits"})]}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",i.deposits.toLocaleString()]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ja,{size:18,className:"text-red-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Withdrawals"})]}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",i.withdrawals.toLocaleString()]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Et,{size:18,className:"text-yellow-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Pending Requests"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:i.pending})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qe,{size:18,className:"text-purple-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Net Balance"})]}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",i.net.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"All Transactions"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:t,onChange:T=>s(T.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsxs("select",{value:r,onChange:T=>a(T.target.value),className:"bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-gray-600",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"deposit",children:"Deposits"}),e.jsx("option",{value:"withdrawal",children:"Withdrawals"})]})]})]}),c?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading transactions..."}):m.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No transactions found"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:m.map(T=>{var k,W,C,$,h,A;return e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${((k=T.type)==null?void 0:k.toUpperCase())==="DEPOSIT"?"bg-green-500/20":"bg-red-500/20"}`,children:((W=T.type)==null?void 0:W.toUpperCase())==="DEPOSIT"?e.jsx(Ya,{size:16,className:"text-green-500"}):e.jsx(Ja,{size:16,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:((C=T.userId)==null?void 0:C.firstName)||(($=T.userId)==null?void 0:$.email)}),e.jsx("p",{className:"text-gray-500 text-xs",children:T.transactionId})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p(T.status)}`,children:T.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Amount"}),e.jsxs("p",{className:((h=T.type)==null?void 0:h.toUpperCase())==="DEPOSIT"?"text-green-500 font-medium":"text-red-500 font-medium",children:[((A=T.type)==null?void 0:A.toUpperCase())==="DEPOSIT"?"+":"-","$",(T.amount||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Method"}),e.jsx("p",{className:"text-white",children:T.paymentMethod||"-"})]})]}),S(T.status)&&e.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-600",children:[e.jsxs("button",{onClick:()=>f(T._id),className:"flex-1 flex items-center justify-center gap-1 py-2 bg-green-500/20 text-green-500 rounded-lg text-sm",children:[e.jsx(He,{size:14})," Approve"]}),e.jsxs("button",{onClick:()=>x(T._id),className:"flex-1 flex items-center justify-center gap-1 py-2 bg-red-500/20 text-red-500 rounded-lg text-sm",children:[e.jsx(ge,{size:14})," Reject"]})]})]},T._id)})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Transaction ID"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Type"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Amount"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Method"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Date"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:m.map(T=>{var k,W,C,$,h,A;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4 text-white font-mono text-sm",children:T.transactionId}),e.jsx("td",{className:"py-4 px-4 text-white",children:((k=T.userId)==null?void 0:k.firstName)||((W=T.userId)==null?void 0:W.email)}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`flex items-center gap-1 ${((C=T.type)==null?void 0:C.toUpperCase())==="DEPOSIT"?"text-green-500":"text-red-500"}`,children:[(($=T.type)==null?void 0:$.toUpperCase())==="DEPOSIT"?e.jsx(Ya,{size:14}):e.jsx(Ja,{size:14}),T.type]})}),e.jsxs("td",{className:`py-4 px-4 font-medium ${((h=T.type)==null?void 0:h.toUpperCase())==="DEPOSIT"?"text-green-500":"text-red-500"}`,children:[((A=T.type)==null?void 0:A.toUpperCase())==="DEPOSIT"?"+":"-","$",(T.amount||0).toLocaleString()]}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:T.paymentMethod||"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p(T.status)}`,children:T.status})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:new Date(T.createdAt).toLocaleString()}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>E(T),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Xt,{size:16})}),S(T.status)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(T._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-green-500",children:e.jsx(He,{size:16})}),e.jsx("button",{onClick:()=>x(T._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(ge,{size:16})})]})]})})]},T._id)})})]})})]})]}),v&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Transaction Details"}),e.jsx("button",{onClick:P,className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[((z=g.type)==null?void 0:z.toLowerCase())==="withdrawal"?e.jsx(Ja,{size:18,className:"text-red-500"}):e.jsx(Ya,{size:18,className:"text-green-500"}),g.type," Request"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Amount"}),e.jsxs("p",{className:`text-lg font-bold ${((G=g.type)==null?void 0:G.toLowerCase())==="deposit"?"text-green-500":"text-red-500"}`,children:["$",(V=g.amount)==null?void 0:V.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p(g.status)}`,children:g.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-white",children:g.paymentMethod||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Date"}),e.jsx("p",{className:"text-white",children:new Date(g.createdAt).toLocaleString()})]}),g.transactionRef&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-500",children:"Transaction Reference"}),e.jsx("p",{className:"text-white font-mono",children:g.transactionRef})]})]})]}),e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"User Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Name"}),e.jsx("p",{className:"text-white",children:(y==null?void 0:y.firstName)||((U=g.userId)==null?void 0:U.firstName)||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Email"}),e.jsx("p",{className:"text-white",children:(y==null?void 0:y.email)||((F=g.userId)==null?void 0:F.email)||"-"})]})]})]}),((I=g.type)==null?void 0:I.toLowerCase())==="withdrawal"&&e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[e.jsx(kn,{size:16})," Bank Details"]}),(X=y==null?void 0:y.bankDetails)!=null&&X.accountNumber?e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Bank Name"}),e.jsx("span",{className:"text-white",children:y.bankDetails.bankName||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Account Holder"}),e.jsx("span",{className:"text-white",children:y.bankDetails.accountHolderName||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Account Number"}),e.jsx("span",{className:"text-white font-mono",children:y.bankDetails.accountNumber||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"IFSC Code"}),e.jsx("span",{className:"text-white font-mono",children:y.bankDetails.ifscCode||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Branch"}),e.jsx("span",{className:"text-white",children:y.bankDetails.branchName||"-"})]})]}):e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-red-400 text-sm",children:" User has not added bank details"})}),e.jsxs("h3",{className:"text-white font-semibold mt-4 mb-3 flex items-center gap-2",children:[e.jsx(ya,{size:16})," UPI Details"]}),y!=null&&y.upiId?e.jsx("div",{className:"bg-dark-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"UPI ID"}),e.jsx("span",{className:"text-purple-400 font-mono",children:y.upiId})]})}):e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:" User has not added UPI ID"})})]}),S(g.status)&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[e.jsxs("button",{onClick:()=>{x(g._id),P()},className:"flex-1 py-2 bg-red-500/20 text-red-500 rounded-lg hover:bg-red-500/30 flex items-center justify-center gap-2",children:[e.jsx(ge,{size:16})," Reject"]}),e.jsxs("button",{onClick:()=>{f(g._id),P()},className:"flex-1 py-2 bg-green-500/20 text-green-500 rounded-lg hover:bg-green-500/30 flex items-center justify-center gap-2",children:[e.jsx(He,{size:16})," Approve"]})]})]})]})})]})},Ra="http://localhost:5001/api",Ry=()=>{const[t,s]=o.useState([]),[r,a]=o.useState(!0),[n,l]=o.useState(!1),[i,d]=o.useState(null),[c,u]=o.useState({type:"Bank Transfer",bankName:"",accountNumber:"",accountHolderName:"",ifscCode:"",upiId:"",qrCodeImage:"",isActive:!0});o.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const S=await(await fetch(`${Ra}/payment-methods/all`)).json();s(S.paymentMethods||[])}catch(p){console.error("Error fetching payment methods:",p)}a(!1)},b=async()=>{try{const p=i?`${Ra}/payment-methods/${i._id}`:`${Ra}/payment-methods`,E=await fetch(p,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),P=await E.json();E.ok?(alert(i?"Payment method updated!":"Payment method created!"),l(!1),d(null),w(),g()):alert(P.message||"Error saving payment method")}catch{alert("Error saving payment method")}},y=async p=>{if(confirm("Are you sure you want to delete this payment method?"))try{(await fetch(`${Ra}/payment-methods/${p}`,{method:"DELETE"})).ok&&(alert("Payment method deleted!"),g())}catch{alert("Error deleting payment method")}},j=async p=>{try{await fetch(`${Ra}/payment-methods/${p._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!p.isActive})}),g()}catch{alert("Error updating status")}},v=p=>{d(p),u({type:p.type,bankName:p.bankName||"",accountNumber:p.accountNumber||"",accountHolderName:p.accountHolderName||"",ifscCode:p.ifscCode||"",upiId:p.upiId||"",qrCodeImage:p.qrCodeImage||"",isActive:p.isActive}),l(!0)},w=()=>{u({type:"Bank Transfer",bankName:"",accountNumber:"",accountHolderName:"",ifscCode:"",upiId:"",qrCodeImage:"",isActive:!0})},D=p=>{const S=p.target.files[0];if(S){const E=new FileReader;E.onloadend=()=>{u({...c,qrCodeImage:E.result})},E.readAsDataURL(S)}},f=t.filter(p=>p.type==="Bank Transfer"),x=t.filter(p=>p.type==="UPI"),m=t.filter(p=>p.type==="QR Code");return e.jsxs(Dt,{title:"Bank Settings",subtitle:"Manage bank accounts and payment methods",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:g,className:"p-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-gray-400",children:e.jsx(Be,{size:18,className:r?"animate-spin":""})}),e.jsxs("button",{onClick:()=>{w(),d(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(qe,{size:16}),"Add Payment Method"]})]}),r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Be,{size:24,className:"animate-spin text-gray-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden mb-6",children:[e.jsx("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(kn,{size:20,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"Bank Accounts"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Bank transfer deposit methods"})]})]})}),e.jsx("div",{className:"p-4 space-y-3",children:f.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No bank accounts added yet"}):f.map(p=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-dark-700 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-dark-600 rounded-lg flex items-center justify-center",children:e.jsx(kn,{size:24,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:p.bankName}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["A/C: ",p.accountNumber," | IFSC: ",p.ifscCode]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Holder: ",p.accountHolderName]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(p),className:`px-3 py-1 rounded-full text-xs ${p.isActive?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-400"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(p),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>y(p._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})]},p._id))})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden mb-6",children:[e.jsx("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx(ya,{size:20,className:"text-purple-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"UPI IDs"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"UPI payment methods"})]})]})}),e.jsx("div",{className:"p-4 space-y-3",children:x.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No UPI IDs added yet"}):x.map(p=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-dark-700 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-dark-600 rounded-lg flex items-center justify-center",children:e.jsx(ya,{size:24,className:"text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"UPI ID"}),e.jsx("p",{className:"text-purple-400 text-lg font-mono",children:p.upiId})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(p),className:`px-3 py-1 rounded-full text-xs ${p.isActive?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-400"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(p),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>y(p._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})]},p._id))})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Hl,{size:20,className:"text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"QR Codes"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"QR code payment methods"})]})]})}),e.jsx("div",{className:"p-4 space-y-3",children:m.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No QR codes added yet"}):m.map(p=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-dark-700 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[p.qrCodeImage?e.jsx("img",{src:p.qrCodeImage,alt:"QR Code",className:"w-16 h-16 rounded-lg object-cover"}):e.jsx("div",{className:"w-16 h-16 bg-dark-600 rounded-lg flex items-center justify-center",children:e.jsx(Hl,{size:32,className:"text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"QR Code Payment"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Scan to pay"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(p),className:`px-3 py-1 rounded-full text-xs ${p.isActive?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-400"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(p),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>y(p._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})]},p._id))})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:i?"Edit Payment Method":"Add Payment Method"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Payment Type"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Bank Transfer","UPI","QR Code"].map(p=>e.jsx("button",{onClick:()=>u({...c,type:p}),className:`p-3 rounded-lg border text-sm ${c.type===p?"border-blue-500 bg-blue-500/20 text-blue-500":"border-gray-700 text-gray-400 hover:border-gray-600"}`,children:p},p))})]}),c.type==="Bank Transfer"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Bank Name"}),e.jsx("input",{type:"text",value:c.bankName,onChange:p=>u({...c,bankName:p.target.value}),placeholder:"e.g., HDFC Bank",className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Account Holder Name"}),e.jsx("input",{type:"text",value:c.accountHolderName,onChange:p=>u({...c,accountHolderName:p.target.value}),placeholder:"e.g., John Doe",className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Account Number"}),e.jsx("input",{type:"text",value:c.accountNumber,onChange:p=>u({...c,accountNumber:p.target.value}),placeholder:"e.g., 1234567890",className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"IFSC Code"}),e.jsx("input",{type:"text",value:c.ifscCode,onChange:p=>u({...c,ifscCode:p.target.value}),placeholder:"e.g., HDFC0001234",className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]})]}),c.type==="UPI"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"UPI ID"}),e.jsx("input",{type:"text",value:c.upiId,onChange:p=>u({...c,upiId:p.target.value}),placeholder:"e.g., yourname@upi",className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),c.type==="QR Code"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"QR Code Image"}),e.jsx("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-6 text-center",children:c.qrCodeImage?e.jsxs("div",{className:"space-y-3",children:[e.jsx("img",{src:c.qrCodeImage,alt:"QR Preview",className:"w-32 h-32 mx-auto rounded-lg"}),e.jsx("button",{onClick:()=>u({...c,qrCodeImage:""}),className:"text-red-500 text-sm",children:"Remove Image"})]}):e.jsxs("label",{className:"cursor-pointer",children:[e.jsx(dy,{size:32,className:"mx-auto text-gray-500 mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload QR code image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsx("span",{className:"text-gray-400",children:"Active Status"}),e.jsx("button",{onClick:()=>u({...c,isActive:!c.isActive}),className:`w-12 h-6 rounded-full transition-colors ${c.isActive?"bg-green-500":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${c.isActive?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:b,className:"flex-1 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:i?"Update":"Create"})]})]})]})})]})},ws="http://localhost:5001/api",Oy=()=>{var k,W,C,$,h,A,_,te,O,oe,de,Q,me,ae,be,Y,Te;const[t,s]=o.useState(""),[r,a]=o.useState("ibs"),[n,l]=o.useState([]),[i,d]=o.useState([]),[c,u]=o.useState([]),[g,b]=o.useState(null),[y,j]=o.useState(null),[v,w]=o.useState(!0),[D,f]=o.useState(null),[x,m]=o.useState(!1),[p,S]=o.useState(null);o.useEffect(()=>{E(),P(),z(),G(),V()},[]);const E=async()=>{try{const he=await(await fetch(`${ws}/ib/admin/dashboard`)).json();he.dashboard&&b(he.dashboard)}catch(H){console.error("Error fetching dashboard:",H)}},P=async()=>{try{const he=await(await fetch(`${ws}/ib/admin/all`)).json();l(he.ibs||[])}catch(H){console.error("Error fetching IBs:",H)}w(!1)},z=async()=>{try{const he=await(await fetch(`${ws}/ib/admin/pending`)).json();d(he.pending||[])}catch(H){console.error("Error fetching applications:",H)}},G=async()=>{try{const he=await(await fetch(`${ws}/ib/admin/plans`)).json();u(he.plans||[])}catch(H){console.error("Error fetching plans:",H)}},V=async()=>{try{const he=await(await fetch(`${ws}/ib/admin/settings`)).json();he.settings&&j(he.settings)}catch(H){console.error("Error fetching settings:",H)}},U=async(H,he=null)=>{try{const L=await(await fetch(`${ws}/ib/admin/approve/${H}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:he})})).json();L.success?(alert("IB approved successfully!"),z(),P(),E()):alert(L.message||"Failed to approve")}catch(ye){console.error("Error approving:",ye),alert("Failed to approve IB")}},F=async H=>{const he=prompt("Enter block reason:");if(he)try{(await(await fetch(`${ws}/ib/admin/block/${H}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:he})})).json()).success&&(alert("IB blocked"),P(),E())}catch(ye){console.error("Error blocking:",ye)}},I=async H=>{try{const he=p?`${ws}/ib/admin/plans/${p._id}`:`${ws}/ib/admin/plans`,ce=await(await fetch(he,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).json();ce.success||ce.plan?(alert(p?"Plan updated!":"Plan created!"),m(!1),S(null),G()):alert(ce.message||"Failed to save plan")}catch(he){console.error("Error saving plan:",he),alert("Failed to save plan")}},X=async H=>{try{const ye=await(await fetch(`${ws}/ib/admin/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).json();ye.settings&&(j(ye.settings),alert("Settings updated!"))}catch(he){console.error("Error updating settings:",he)}},T=n.filter(H=>{var he,ye,L;return((he=H.firstName)==null?void 0:he.toLowerCase().includes(t.toLowerCase()))||((ye=H.email)==null?void 0:ye.toLowerCase().includes(t.toLowerCase()))||((L=H.referralCode)==null?void 0:L.toLowerCase().includes(t.toLowerCase()))});return e.jsxs(Dt,{title:"IB Management",subtitle:"Manage Introducing Brokers and partners",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W0,{size:18,className:"text-blue-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total IBs"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((k=g==null?void 0:g.ibs)==null?void 0:k.total)||0}),e.jsxs("p",{className:"text-yellow-500 text-xs mt-1",children:[((W=g==null?void 0:g.ibs)==null?void 0:W.pending)||0," pending"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(We,{size:18,className:"text-green-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Referrals"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((C=g==null?void 0:g.referrals)==null?void 0:C.total)||0})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Yt,{size:18,className:"text-purple-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Commissions"})]}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(((h=($=g==null?void 0:g.commissions)==null?void 0:$.total)==null?void 0:h.totalCommission)||0).toFixed(2)]}),e.jsxs("p",{className:"text-green-500 text-xs mt-1",children:["Today: $",(((_=(A=g==null?void 0:g.commissions)==null?void 0:A.today)==null?void 0:_.totalCommission)||0).toFixed(2)]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Yt,{size:18,className:"text-orange-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Pending Withdrawals"})]}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(((O=(te=g==null?void 0:g.withdrawals)==null?void 0:te.pending)==null?void 0:O.totalPending)||0).toFixed(2)]}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[((de=(oe=g==null?void 0:g.withdrawals)==null?void 0:oe.pending)==null?void 0:de.count)||0," requests"]})]})]}),e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{id:"ibs",label:"Active IBs",count:(Q=g==null?void 0:g.ibs)==null?void 0:Q.active},{id:"applications",label:"Applications",count:i.length},{id:"plans",label:"Commission Plans",count:c.length},{id:"settings",label:"Settings"}].map(H=>e.jsxs("button",{onClick:()=>a(H.id),className:`px-4 py-2 rounded-lg whitespace-nowrap flex items-center gap-2 ${r===H.id?"bg-blue-500 text-white":"bg-dark-800 text-gray-400 hover:text-white"}`,children:[H.label,H.count!==void 0&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${r===H.id?"bg-white/20":"bg-gray-700"}`,children:H.count})]},H.id))}),r==="ibs"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Active IB Partners"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search IBs...",value:t,onChange:H=>s(H.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsx("button",{onClick:()=>{P(),E()},className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:e.jsx(Be,{size:16})})]})]}),v?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):T.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No IBs found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"IB Partner"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Referral Code"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Plan"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Referrals"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Earnings"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:T.map(H=>{var he,ye;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-500 font-medium",children:((he=H.firstName)==null?void 0:he.charAt(0))||"?"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:[H.firstName," ",H.lastName]}),e.jsx("p",{className:"text-gray-500 text-sm",children:H.email})]})]})}),e.jsx("td",{className:"py-4 px-4 text-white font-mono",children:H.referralCode||"-"}),e.jsx("td",{className:"py-4 px-4 text-white",children:((ye=H.ibPlanId)==null?void 0:ye.name)||"Default"}),e.jsx("td",{className:"py-4 px-4 text-white",children:H.ibLevel||0}),e.jsx("td",{className:"py-4 px-4 text-green-500 font-medium",children:"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${H.ibStatus==="ACTIVE"?"bg-green-500/20 text-green-500":H.ibStatus==="PENDING"?"bg-yellow-500/20 text-yellow-500":H.ibStatus==="BLOCKED"?"bg-red-500/20 text-red-500":"bg-gray-500/20 text-gray-500"}`,children:H.ibStatus||"N/A"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Xt,{size:16})}),H.ibStatus==="ACTIVE"&&e.jsx("button",{onClick:()=>F(H._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(ge,{size:16})})]})})]},H._id)})})]})})]}),r==="applications"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"p-4 sm:p-5 border-b border-gray-800",children:e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Pending Applications"})}),i.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No pending applications"}):e.jsx("div",{className:"divide-y divide-gray-800",children:i.map(H=>{var he;return e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-yellow-500 font-medium",children:((he=H.firstName)==null?void 0:he.charAt(0))||"?"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:[H.firstName," ",H.lastName]}),e.jsx("p",{className:"text-gray-500 text-sm",children:H.email}),e.jsxs("p",{className:"text-gray-600 text-xs",children:["Applied: ",new Date(H.createdAt).toLocaleDateString()]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{className:"bg-dark-700 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm",onChange:ye=>{ye.target.value&&U(H._id,ye.target.value==="default"?null:ye.target.value)},defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Plan & Approve"}),c.map(ye=>e.jsx("option",{value:ye._id,children:ye.name},ye._id)),e.jsx("option",{value:"default",children:"Default Plan"})]})})]},H._id)})})]}),r==="plans"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Commission Plans"}),e.jsxs("button",{onClick:()=>{S(null),m(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[e.jsx(qe,{size:16})," Add Plan"]})]}),e.jsx("div",{className:"divide-y divide-gray-800",children:c.map(H=>{var he,ye,L,ce,R;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium flex items-center gap-2",children:[H.name,H.isDefault&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-500 text-xs rounded",children:"Default"})]}),e.jsx("p",{className:"text-gray-500 text-sm",children:H.description})]}),e.jsx("button",{onClick:()=>{S(H),m(!0)},className:"p-2 hover:bg-dark-600 rounded-lg text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Level 1"}),e.jsxs("p",{className:"text-white font-medium",children:[H.commissionType==="PER_LOT"?"$":"",((he=H.levelCommissions)==null?void 0:he.level1)||0,H.commissionType==="PERCENTAGE"?"%":"/lot"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Level 2"}),e.jsxs("p",{className:"text-white font-medium",children:[H.commissionType==="PER_LOT"?"$":"",((ye=H.levelCommissions)==null?void 0:ye.level2)||0,H.commissionType==="PERCENTAGE"?"%":"/lot"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Level 3"}),e.jsxs("p",{className:"text-white font-medium",children:[H.commissionType==="PER_LOT"?"$":"",((L=H.levelCommissions)==null?void 0:L.level3)||0,H.commissionType==="PERCENTAGE"?"%":"/lot"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Level 4"}),e.jsxs("p",{className:"text-white font-medium",children:[H.commissionType==="PER_LOT"?"$":"",((ce=H.levelCommissions)==null?void 0:ce.level4)||0,H.commissionType==="PERCENTAGE"?"%":"/lot"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Level 5"}),e.jsxs("p",{className:"text-white font-medium",children:[H.commissionType==="PER_LOT"?"$":"",((R=H.levelCommissions)==null?void 0:R.level5)||0,H.commissionType==="PERCENTAGE"?"%":"/lot"]})]})]})]},H._id)})})]}),r==="settings"&&y&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 p-6",children:[e.jsx("h2",{className:"text-white font-semibold text-lg mb-6",children:"IB System Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"IB System Enabled"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Enable or disable the entire IB system"})]}),e.jsx("button",{onClick:()=>X({isEnabled:!y.isEnabled}),className:`w-12 h-6 rounded-full transition-colors ${y.isEnabled?"bg-green-500":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${y.isEnabled?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Allow New Applications"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Allow users to apply as IBs"})]}),e.jsx("button",{onClick:()=>X({allowNewApplications:!y.allowNewApplications}),className:`w-12 h-6 rounded-full transition-colors ${y.allowNewApplications?"bg-green-500":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${y.allowNewApplications?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Auto-Approve Applications"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Automatically approve new IB applications"})]}),e.jsx("button",{onClick:()=>X({autoApprove:!y.autoApprove}),className:`w-12 h-6 rounded-full transition-colors ${y.autoApprove?"bg-green-500":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${y.autoApprove?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"KYC Required"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Require KYC approval to become an IB"})]}),e.jsx("button",{onClick:()=>{var H;return X({ibRequirements:{...y.ibRequirements,kycRequired:!((H=y.ibRequirements)!=null&&H.kycRequired)}})},className:`w-12 h-6 rounded-full transition-colors ${(me=y.ibRequirements)!=null&&me.kycRequired?"bg-green-500":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${(ae=y.ibRequirements)!=null&&ae.kycRequired?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Withdrawal Approval Required"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Require admin approval for IB withdrawals"})]}),e.jsx("button",{onClick:()=>{var H;return X({commissionSettings:{...y.commissionSettings,withdrawalApprovalRequired:!((H=y.commissionSettings)!=null&&H.withdrawalApprovalRequired)}})},className:`w-12 h-6 rounded-full transition-colors ${(be=y.commissionSettings)!=null&&be.withdrawalApprovalRequired?"bg-green-500":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${(Y=y.commissionSettings)!=null&&Y.withdrawalApprovalRequired?"translate-x-6":"translate-x-0.5"}`})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium mb-2",children:"Minimum Withdrawal Amount"}),e.jsx("input",{type:"number",value:((Te=y.commissionSettings)==null?void 0:Te.minWithdrawalAmount)||50,onChange:H=>X({commissionSettings:{...y.commissionSettings,minWithdrawalAmount:parseFloat(H.target.value)}}),className:"bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white w-32"})]})]})]}),x&&e.jsx(_y,{plan:p,onSave:I,onClose:()=>{m(!1),S(null)}})]})},_y=({plan:t,onSave:s,onClose:r})=>{const[a,n]=o.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",maxLevels:(t==null?void 0:t.maxLevels)||3,commissionType:(t==null?void 0:t.commissionType)||"PER_LOT",levelCommissions:(t==null?void 0:t.levelCommissions)||{level1:5,level2:3,level3:2,level4:1,level5:.5},isDefault:(t==null?void 0:t.isDefault)||!1}),l=i=>{i.preventDefault(),s(a)};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-700",children:e.jsx("h3",{className:"text-white font-semibold text-lg",children:t?"Edit Plan":"Create Plan"})}),e.jsxs("form",{onSubmit:l,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Plan Name"}),e.jsx("input",{type:"text",value:a.name,onChange:i=>n({...a,name:i.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Description"}),e.jsx("input",{type:"text",value:a.description,onChange:i=>n({...a,description:i.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Commission Type"}),e.jsxs("select",{value:a.commissionType,onChange:i=>n({...a,commissionType:i.target.value}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white",children:[e.jsx("option",{value:"PER_LOT",children:"Per Lot ($)"}),e.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Max Levels"}),e.jsx("select",{value:a.maxLevels,onChange:i=>n({...a,maxLevels:parseInt(i.target.value)}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white",children:[1,2,3,4,5].map(i=>e.jsx("option",{value:i,children:i},i))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Level Commissions"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(i=>e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-500 text-xs",children:["L",i]}),e.jsx("input",{type:"number",step:"0.1",value:a.levelCommissions[`level${i}`]||0,onChange:d=>n({...a,levelCommissions:{...a.levelCommissions,[`level${i}`]:parseFloat(d.target.value)}}),className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-2 py-1 text-white text-sm",disabled:i>a.maxLevels})]},i))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.isDefault,onChange:i=>n({...a,isDefault:i.target.checked}),className:"w-4 h-4"}),e.jsx("label",{className:"text-gray-400 text-sm",children:"Set as default plan"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:t?"Update":"Create"})]})]})]})})},Oa="http://localhost:5001/api",By=()=>{const[t,s]=o.useState([]),[r,a]=o.useState(!0),[n,l]=o.useState(!1),[i,d]=o.useState(null),[c,u]=o.useState([]),[g,b]=o.useState(""),[y,j]=o.useState(!1),[v,w]=o.useState(null),[D,f]=o.useState({level:"SEGMENT",segment:"Forex",instrumentSymbol:"",userId:"",spreadType:"FIXED",spreadValue:0,commissionType:"PER_LOT",commissionValue:0,swapLong:0,swapShort:0});o.useEffect(()=>{m(),x()},[]);const x=async()=>{try{const F=await(await fetch(`${Oa}/admin/users`)).json();F.success&&u(F.users||[])}catch(U){console.error("Error fetching users:",U)}},m=async()=>{a(!0);try{const F=await(await fetch(`${Oa}/charges?segment=Forex`)).json();F.success&&s(F.charges||[])}catch(U){console.error("Error fetching charges:",U)}a(!1)},p=async()=>{try{const U=i?`${Oa}/charges/${i._id}`:`${Oa}/charges`,X=await(await fetch(U,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)})).json();X.success?(alert(i?"Charge updated!":"Charge created!"),l(!1),d(null),P(),m()):alert(X.message||"Error saving charge")}catch{alert("Error saving charge")}},S=async U=>{if(confirm("Are you sure you want to delete this charge?"))try{const I=await(await fetch(`${Oa}/charges/${U}`,{method:"DELETE"})).json();I.success?(alert("Charge deleted!"),m()):alert(I.message||"Error deleting charge")}catch{alert("Error deleting charge")}},E=U=>{var F;if(d(U),f({level:U.level||"SEGMENT",segment:U.segment||"Forex",instrumentSymbol:U.instrumentSymbol||"",userId:((F=U.userId)==null?void 0:F._id)||U.userId||"",spreadType:U.spreadType||"FIXED",spreadValue:U.spreadValue||0,commissionType:U.commissionType||"PER_LOT",commissionValue:U.commissionValue||0,swapLong:U.swapLong||0,swapShort:U.swapShort||0}),U.level==="USER"&&U.userId){const I=c.find(X=>{var T;return X._id===(((T=U.userId)==null?void 0:T._id)||U.userId)});w(I||null)}else w(null);l(!0)},P=()=>{f({level:"SEGMENT",segment:"Forex",instrumentSymbol:"",userId:"",spreadType:"FIXED",spreadValue:0,commissionType:"PER_LOT",commissionValue:0,swapLong:0,swapShort:0}),w(null),b("")},z=U=>{w(U),f({...D,userId:U._id}),j(!1),b("")},G=c.filter(U=>{var F,I,X;return((F=U.name)==null?void 0:F.toLowerCase().includes(g.toLowerCase()))||((I=U.email)==null?void 0:I.toLowerCase().includes(g.toLowerCase()))||((X=U.mobile)==null?void 0:X.includes(g))}),V=U=>{var F,I;return U.level==="USER"?`${((F=U.userId)==null?void 0:F.name)||((I=U.userId)==null?void 0:I.email)||"Unknown User"} - ${U.instrumentSymbol||"All Instruments"}`:U.level==="INSTRUMENT"?U.instrumentSymbol:U.level==="SEGMENT"?U.segment:U.level==="GLOBAL"?"Global":U.level};return e.jsxs(Dt,{title:"Forex Charges",subtitle:"Manage trading fees and spreads",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Yt,{size:20,className:"text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"Forex Trading Charges"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Configure spreads, commissions, and fees"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:m,className:"p-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-gray-400",children:e.jsx(Be,{size:18})}),e.jsxs("button",{onClick:()=>{P(),d(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Add Charge"})]})]})]}),r?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading charges..."}):t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No charges configured for Forex."}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Add Charge" to create one.'})]}):e.jsx("div",{className:"p-4 space-y-3",children:t.map(U=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-dark-700 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-500 text-xs rounded-full",children:U.level}),e.jsx("p",{className:"text-white font-medium",children:V(U)})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Spread:"}),e.jsxs("span",{className:"text-white ml-1",children:[U.spreadValue," (",U.spreadType,")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Commission:"}),e.jsxs("span",{className:"text-white ml-1",children:["$",U.commissionValue," (",U.commissionType,")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Swap Long:"}),e.jsx("span",{className:"text-white ml-1",children:U.swapLong})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Swap Short:"}),e.jsx("span",{className:"text-white ml-1",children:U.swapShort})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(U),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>S(U._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})]},U._id))})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:i?"Edit Charge":"Add Forex Charge"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Level"}),e.jsxs("select",{value:D.level,onChange:U=>{f({...D,level:U.target.value}),U.target.value!=="USER"&&(w(null),f(F=>({...F,userId:""})))},className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"GLOBAL",children:"Global"}),e.jsx("option",{value:"SEGMENT",children:"Segment"}),e.jsx("option",{value:"INSTRUMENT",children:"Instrument"}),e.jsx("option",{value:"USER",children:"User-Specific"})]})]}),(D.level==="INSTRUMENT"||D.level==="USER")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Symbol"}),e.jsxs("select",{value:D.instrumentSymbol,onChange:U=>f({...D,instrumentSymbol:U.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"All Instruments"}),e.jsx("option",{value:"EURUSD",children:"EURUSD"}),e.jsx("option",{value:"GBPUSD",children:"GBPUSD"}),e.jsx("option",{value:"USDJPY",children:"USDJPY"}),e.jsx("option",{value:"USDCHF",children:"USDCHF"}),e.jsx("option",{value:"AUDUSD",children:"AUDUSD"}),e.jsx("option",{value:"NZDUSD",children:"NZDUSD"}),e.jsx("option",{value:"USDCAD",children:"USDCAD"}),e.jsx("option",{value:"XAUUSD",children:"XAUUSD"}),e.jsx("option",{value:"XAGUSD",children:"XAGUSD"}),e.jsx("option",{value:"BTCUSD",children:"BTCUSD"}),e.jsx("option",{value:"ETHUSD",children:"ETHUSD"})]})]})]}),D.level==="USER"&&e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Select User"}),v?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 border border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(qt,{size:16,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:v.name}),e.jsx("p",{className:"text-gray-500 text-xs",children:v.email})]})]}),e.jsx("button",{onClick:()=>{w(null),f({...D,userId:""})},className:"text-gray-400 hover:text-red-500",children:e.jsx(ge,{size:16})})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or mobile...",value:g,onChange:U=>{b(U.target.value),j(!0)},onFocus:()=>j(!0),className:"w-full pl-10 pr-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),y&&g&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-dark-700 border border-gray-700 rounded-lg shadow-xl max-h-48 overflow-y-auto",children:G.length===0?e.jsx("div",{className:"p-3 text-gray-500 text-sm text-center",children:"No users found"}):G.slice(0,10).map(U=>e.jsxs("button",{onClick:()=>z(U),className:"w-full flex items-center gap-3 p-3 hover:bg-dark-600 text-left",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center shrink-0",children:e.jsx(qt,{size:14,className:"text-blue-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-white text-sm font-medium truncate",children:U.name}),e.jsx("p",{className:"text-gray-500 text-xs truncate",children:U.email})]})]},U._id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Spread Type"}),e.jsxs("select",{value:D.spreadType,onChange:U=>f({...D,spreadType:U.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"FIXED",children:"Fixed"}),e.jsx("option",{value:"PERCENTAGE",children:"Percentage"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Spread Value"}),e.jsx("input",{type:"number",step:"0.01",value:D.spreadValue,onChange:U=>f({...D,spreadValue:parseFloat(U.target.value)||0}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Commission Type"}),e.jsxs("select",{value:D.commissionType,onChange:U=>f({...D,commissionType:U.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"PER_LOT",children:"Per Lot"}),e.jsx("option",{value:"PER_TRADE",children:"Per Trade"}),e.jsx("option",{value:"PERCENTAGE",children:"Percentage"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Commission Value ($)"}),e.jsx("input",{type:"number",step:"0.01",value:D.commissionValue,onChange:U=>f({...D,commissionValue:parseFloat(U.target.value)||0}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Swap Long (points)"}),e.jsx("input",{type:"number",step:"0.01",value:D.swapLong,onChange:U=>f({...D,swapLong:parseFloat(U.target.value)||0}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Swap Short (points)"}),e.jsx("input",{type:"number",step:"0.01",value:D.swapShort,onChange:U=>f({...D,swapShort:parseFloat(U.target.value)||0}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:p,className:"flex-1 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg",children:i?"Update Charge":"Create Charge"})]})]})]})})]})},Wy=()=>{const[t,s]=o.useState([{id:1,name:"UPI Deposit Fee",value:"0",type:"%",description:"Fee for UPI deposits"},{id:2,name:"UPI Withdrawal Fee",value:"1.5",type:"%",description:"Fee for UPI withdrawals"},{id:3,name:"Bank Transfer Deposit",value:"0",type:"INR",description:"NEFT/RTGS/IMPS deposit fee"},{id:4,name:"Bank Transfer Withdrawal",value:"25",type:"INR",description:"NEFT/RTGS withdrawal fee"},{id:5,name:"GST on Services",value:"18",type:"%",description:"Applicable GST rate"},{id:6,name:"TDS on Withdrawals",value:"1",type:"%",description:"Tax deducted at source"},{id:7,name:"Min Deposit (INR)",value:"500",type:"INR",description:"Minimum deposit amount"},{id:8,name:"Max Withdrawal/Day",value:"500000",type:"INR",description:"Daily withdrawal limit"}]),[r,a]=o.useState(null),[n,l]=o.useState(""),i=c=>{a(c.id),l(c.value)},d=c=>{s(t.map(u=>u.id===c?{...u,value:n}:u)),a(null)};return e.jsx(Dt,{title:"Indian Charges",subtitle:"Manage INR payment fees and limits",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Xf,{size:20,className:"text-orange-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"Indian Payment Charges"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Configure INR payment fees and limits"})]})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Add Charge"})]})]}),e.jsx("div",{className:"p-4 space-y-3",children:t.map(c=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-dark-700 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium",children:c.name}),e.jsx("p",{className:"text-gray-500 text-sm",children:c.description})]}),e.jsx("div",{className:"flex items-center gap-3",children:r===c.id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:u=>l(u.target.value),className:"w-24 bg-dark-600 border border-gray-600 rounded-lg px-3 py-2 text-white text-right focus:outline-none focus:border-orange-500"}),e.jsx("span",{className:"text-gray-400 text-sm",children:c.type}),e.jsx("button",{onClick:()=>d(c.id),className:"p-2 bg-orange-500 rounded-lg text-white hover:bg-orange-600 transition-colors",children:e.jsx(B0,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-white font-semibold text-lg",children:c.value}),e.jsx("p",{className:"text-gray-500 text-sm",children:c.type})]}),e.jsx("button",{onClick:()=>i(c),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})}),e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})})]},c.id))})]})})},Nr="http://localhost:5001/api",Vy=()=>{var X,T,k,W,C,$;const[t,s]=o.useState(""),[r,a]=o.useState("masters"),[n,l]=o.useState([]),[i,d]=o.useState([]),[c,u]=o.useState([]),[g,b]=o.useState(null),[y,j]=o.useState(!0),[v,w]=o.useState(null),[D,f]=o.useState(!1),[x,m]=o.useState({approvedCommissionPercentage:10,adminSharePercentage:30}),p=JSON.parse(localStorage.getItem("adminUser")||"{}");o.useEffect(()=>{S(),E(),P(),z()},[]);const S=async()=>{try{const A=await(await fetch(`${Nr}/copy/admin/dashboard`)).json();b(A.dashboard)}catch(h){console.error("Error fetching dashboard:",h)}},E=async()=>{try{const A=await(await fetch(`${Nr}/copy/admin/masters`)).json();l(A.masters||[])}catch(h){console.error("Error fetching masters:",h)}j(!1)},P=async()=>{try{const A=await(await fetch(`${Nr}/copy/admin/applications`)).json();d(A.applications||[])}catch(h){console.error("Error fetching applications:",h)}},z=async()=>{try{const A=await(await fetch(`${Nr}/copy/admin/followers`)).json();u(A.followers||[])}catch(h){console.error("Error fetching followers:",h)}},G=async()=>{if(v)try{(await(await fetch(`${Nr}/copy/admin/approve/${v._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:p._id,...x})})).json()).master&&(alert("Master approved successfully!"),f(!1),w(null),E(),P(),S())}catch(h){console.error("Error approving master:",h),alert("Failed to approve master")}},V=async h=>{const A=prompt("Enter rejection reason:");if(A)try{(await(await fetch(`${Nr}/copy/admin/reject/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:p._id,rejectionReason:A})})).json()).master&&(alert("Master rejected"),E(),P(),S())}catch(_){console.error("Error rejecting master:",_)}},U=async h=>{if(confirm("Are you sure you want to suspend this master?"))try{(await(await fetch(`${Nr}/copy/admin/suspend/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:p._id})})).json()).master&&(alert("Master suspended"),E(),S())}catch(A){console.error("Error suspending master:",A)}},F=h=>{switch(h){case"ACTIVE":return"bg-green-500/20 text-green-500";case"PENDING":return"bg-yellow-500/20 text-yellow-500";case"SUSPENDED":return"bg-red-500/20 text-red-500";case"REJECTED":return"bg-gray-500/20 text-gray-400";default:return"bg-gray-500/20 text-gray-400"}},I=n.filter(h=>{var A,_,te,O,oe;return((A=h.displayName)==null?void 0:A.toLowerCase().includes(t.toLowerCase()))||((te=(_=h.userId)==null?void 0:_.firstName)==null?void 0:te.toLowerCase().includes(t.toLowerCase()))||((oe=(O=h.userId)==null?void 0:O.email)==null?void 0:oe.toLowerCase().includes(t.toLowerCase()))});return e.jsxs(Dt,{title:"Copy Trade Management",subtitle:"Manage master traders and copy trading",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Cn,{size:18,className:"text-yellow-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Master Traders"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((X=g==null?void 0:g.masters)==null?void 0:X.active)||0}),e.jsxs("p",{className:"text-yellow-500 text-xs",children:[((T=g==null?void 0:g.masters)==null?void 0:T.pending)||0," pending"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(We,{size:18,className:"text-blue-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Followers"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((k=g==null?void 0:g.followers)==null?void 0:k.active)||0})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(it,{size:18,className:"text-green-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Copied Trades"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:((W=g==null?void 0:g.copyTrades)==null?void 0:W.total)||0}),e.jsxs("p",{className:"text-blue-500 text-xs",children:[((C=g==null?void 0:g.copyTrades)==null?void 0:C.open)||0," open"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Yt,{size:18,className:"text-purple-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Admin Pool"})]}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",(($=g==null?void 0:g.adminPool)==null?void 0:$.toFixed(2))||"0.00"]})]})]}),e.jsx("div",{className:"flex gap-4 mb-6",children:[{key:"applications",label:`Applications (${i.length})`},{key:"masters",label:"All Masters"},{key:"followers",label:"Followers"}].map(h=>e.jsx("button",{onClick:()=>a(h.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r===h.key?"bg-purple-500 text-white":"bg-dark-800 text-gray-400 hover:text-white"}`,children:h.label},h.key))}),r==="applications"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Pending Applications"})}),i.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No pending applications"}):e.jsx("div",{className:"divide-y divide-gray-800",children:i.map(h=>{var A,_,te;return e.jsxs("div",{className:"p-4 hover:bg-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-yellow-500 font-bold",children:(A=h.displayName)==null?void 0:A.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:h.displayName}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[(_=h.userId)==null?void 0:_.firstName," (",(te=h.userId)==null?void 0:te.email,")"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-white font-semibold",children:[h.requestedCommissionPercentage,"%"]}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Requested Commission"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[e.jsx("button",{onClick:()=>V(h._id),className:"px-4 py-2 bg-red-500/20 text-red-500 rounded-lg",children:"Reject"}),e.jsx("button",{onClick:()=>{w(h),f(!0)},className:"px-4 py-2 bg-green-500 text-white rounded-lg",children:"Approve"})]})]},h._id)})})]}),r==="masters"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"All Masters"}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:h=>s(h.target.value),className:"bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white"})]})]}),y?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):I.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No masters found"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Trader"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Followers"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Commission"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:I.map(h=>{var A,_,te,O;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-500 font-medium",children:(A=h.displayName)==null?void 0:A.charAt(0)})}),e.jsx("span",{className:"text-white font-medium",children:h.displayName})]})}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("p",{className:"text-white text-sm",children:(_=h.userId)==null?void 0:_.firstName}),e.jsx("p",{className:"text-gray-500 text-xs",children:(te=h.userId)==null?void 0:te.email})]}),e.jsx("td",{className:"py-4 px-4 text-white",children:((O=h.stats)==null?void 0:O.activeFollowers)||0}),e.jsxs("td",{className:"py-4 px-4 text-white",children:[h.approvedCommissionPercentage||h.requestedCommissionPercentage,"%"]}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${F(h.status)}`,children:h.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[h.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{w(h),f(!0)},className:"p-2 hover:bg-dark-600 rounded-lg text-gray-400 hover:text-green-500",title:"Approve",children:e.jsx(He,{size:16})}),e.jsx("button",{onClick:()=>V(h._id),className:"p-2 hover:bg-dark-600 rounded-lg text-gray-400 hover:text-red-500",title:"Reject",children:e.jsx(ge,{size:16})})]}),h.status==="ACTIVE"&&e.jsx("button",{onClick:()=>U(h._id),className:"p-2 hover:bg-dark-600 rounded-lg text-gray-400 hover:text-red-500",title:"Suspend",children:e.jsx(Ot,{size:16})})]})})]},h._id)})})]})]}),r==="followers"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsx("h2",{className:"text-white font-semibold text-lg",children:"All Followers"})}),c.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No followers yet"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Follower"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Following"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Copy Mode"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Trades"}),e.jsx("th",{className:"text-left text-gray-500 text-sm py-3 px-4",children:"Status"})]})}),e.jsx("tbody",{children:c.map(h=>{var A,_,te,O;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("p",{className:"text-white text-sm",children:(A=h.followerId)==null?void 0:A.firstName}),e.jsx("p",{className:"text-gray-500 text-xs",children:(_=h.followerId)==null?void 0:_.email})]}),e.jsx("td",{className:"py-4 px-4 text-white",children:(te=h.masterId)==null?void 0:te.displayName}),e.jsx("td",{className:"py-4 px-4 text-white",children:h.copyMode==="FIXED_LOT"?`Fixed: ${h.copyValue}`:`${h.copyValue}x`}),e.jsx("td",{className:"py-4 px-4 text-white",children:((O=h.stats)==null?void 0:O.totalCopiedTrades)||0}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h.status==="ACTIVE"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:h.status})})]},h._id)})})]})]}),D&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 w-full max-w-md border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4",children:["Approve: ",v.displayName]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Commission (%)"}),e.jsx("input",{type:"number",value:x.approvedCommissionPercentage,onChange:h=>m(A=>({...A,approvedCommissionPercentage:parseFloat(h.target.value)||0})),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Admin Share (%)"}),e.jsx("input",{type:"number",value:x.adminSharePercentage,onChange:h=>m(A=>({...A,adminSharePercentage:parseFloat(h.target.value)||0})),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-dark-700 text-white py-2 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:G,className:"flex-1 bg-green-500 text-white py-2 rounded-lg",children:"Approve"})]})]})})]})},As="http://localhost:5001/api",Hy=()=>{const[t,s]=o.useState(""),[r,a]=o.useState("challenges"),[n,l]=o.useState(!1),[i,d]=o.useState([]),[c,u]=o.useState([]),[g,b]=o.useState({}),[y,j]=o.useState(!0),[v,w]=o.useState(!1),[D,f]=o.useState(!1),[x,m]=o.useState(null),[p,S]=o.useState({displayName:"Prop Trading Challenge",description:"Trade with our capital. Pass the challenge and get funded.",termsAndConditions:""}),E={name:"",description:"",stepsCount:2,fundSize:1e4,challengeFee:99,rules:{maxDailyDrawdownPercent:5,maxOverallDrawdownPercent:10,profitTargetPhase1Percent:8,profitTargetPhase2Percent:5,minLotSize:.01,maxLotSize:100,minTradesRequired:1,maxTradesPerDay:null,maxTotalTrades:null,maxConcurrentTrades:null,stopLossMandatory:!0,takeProfitMandatory:!1,minTradeHoldTimeSeconds:0,maxLeverage:100,allowWeekendHolding:!1,allowNewsTrading:!0,tradingDaysRequired:null,challengeExpiryDays:30,allowedSegments:["FOREX","CRYPTO","STOCKS","COMMODITIES","INDICES"]},fundedSettings:{profitSplitPercent:80,withdrawalFrequencyDays:14},isActive:!0},[P,z]=o.useState(E);o.useEffect(()=>{G()},[]);const G=async()=>{j(!0);try{const A=await(await fetch(`${As}/prop/admin/settings`)).json();A.success&&(l(A.settings.challengeModeEnabled),S({displayName:A.settings.displayName||"Prop Trading Challenge",description:A.settings.description||"",termsAndConditions:A.settings.termsAndConditions||""}));const te=await(await fetch(`${As}/prop/admin/challenges`)).json();te.success&&d(te.challenges||[]);const oe=await(await fetch(`${As}/prop/admin/accounts?limit=50`)).json();oe.success&&u(oe.accounts||[]);const Q=await(await fetch(`${As}/prop/admin/dashboard`)).json();Q.success&&b(Q.stats||{})}catch(h){console.error("Error fetching prop data:",h)}j(!1)},V=async()=>{try{const h=!n;(await(await fetch(`${As}/prop/admin/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({challengeModeEnabled:h})})).json()).success&&(l(h),alert(h?"Challenge mode enabled! Users can now buy challenges.":"Challenge mode disabled."))}catch(h){console.error("Error toggling challenge mode:",h),alert("Failed to update challenge mode")}},U=async()=>{try{(await(await fetch(`${As}/prop/admin/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({challengeModeEnabled:n,...p})})).json()).success&&(alert("Settings saved successfully!"),w(!1))}catch(h){console.error("Error saving settings:",h),alert("Failed to save settings")}},F=()=>{m(null),z(E),f(!0)},I=h=>{m(h),z({name:h.name||"",description:h.description||"",stepsCount:h.stepsCount||2,fundSize:h.fundSize||1e4,challengeFee:h.challengeFee||99,rules:{...E.rules,...h.rules},fundedSettings:{...E.fundedSettings,...h.fundedSettings},isActive:h.isActive!==!1}),f(!0)},X=async()=>{if(!P.name){alert("Please enter a challenge name");return}try{const h=x?`${As}/prop/admin/challenges/${x._id}`:`${As}/prop/admin/challenges`,te=await(await fetch(h,{method:x?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();te.success?(alert(x?"Challenge updated!":"Challenge created!"),f(!1),G()):alert(te.message||"Failed to save challenge")}catch(h){console.error("Error saving challenge:",h),alert("Failed to save challenge")}},T=async h=>{if(confirm("Are you sure you want to delete this challenge?"))try{const _=await(await fetch(`${As}/prop/admin/challenges/${h}`,{method:"DELETE"})).json();_.success?(alert("Challenge deleted!"),G()):alert(_.message||"Failed to delete challenge")}catch(A){console.error("Error deleting challenge:",A),alert("Failed to delete challenge")}},k=(h,A)=>{z({...P,rules:{...P.rules,[h]:A}})},W=(h,A)=>{z({...P,fundedSettings:{...P.fundedSettings,[h]:A}})},C=h=>{switch(h==null?void 0:h.toUpperCase()){case"ACTIVE":return"bg-blue-500/20 text-blue-500";case"PASSED":return"bg-green-500/20 text-green-500";case"FUNDED":return"bg-purple-500/20 text-purple-500";case"FAILED":return"bg-red-500/20 text-red-500";case"EXPIRED":return"bg-orange-500/20 text-orange-500";default:return"bg-gray-500/20 text-gray-400"}},$=h=>{switch(h==null?void 0:h.toUpperCase()){case"ACTIVE":return e.jsx(Et,{size:14});case"PASSED":case"FUNDED":return e.jsx(as,{size:14});case"FAILED":case"EXPIRED":return e.jsx($r,{size:14});default:return null}};return e.jsxs(Dt,{title:"Prop Firm Challenges",subtitle:"Manage trading challenges and funded accounts",children:[e.jsx("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${n?"bg-green-500/20":"bg-gray-500/20"}`,children:e.jsx(dt,{size:24,className:n?"text-green-500":"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"Challenge Mode"}),e.jsx("p",{className:"text-gray-500 text-sm",children:n?"Users can buy and participate in challenges":"Challenge purchases are disabled for users"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-dark-700 rounded-lg transition-colors text-gray-400 hover:text-white",title:"Settings",children:e.jsx(ur,{size:20})}),e.jsxs("button",{onClick:V,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${n?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:[n?e.jsx(oy,{size:20}):e.jsx(iy,{size:20}),n?"ON":"OFF"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(dt,{size:18,className:"text-yellow-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Active Challenges"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:g.totalChallenges||i.length})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(We,{size:18,className:"text-blue-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Participants"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:g.totalAccounts||0})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(as,{size:18,className:"text-green-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Passed"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:g.passedAccounts||0})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($r,{size:18,className:"text-red-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Failed"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:g.failedAccounts||0})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>a("challenges"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="challenges"?"bg-yellow-500 text-black":"bg-dark-700 text-gray-400 hover:text-white"}`,children:"Challenges"}),e.jsx("button",{onClick:()=>a("participants"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="participants"?"bg-yellow-500 text-black":"bg-dark-700 text-gray-400 hover:text-white"}`,children:"Participants"})]}),r==="challenges"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Challenge Types"}),e.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-400 transition-colors",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Add Challenge"})]})]}),e.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:i.length===0?e.jsxs("div",{className:"col-span-2 text-center py-12",children:[e.jsx(dt,{size:48,className:"text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No challenges created yet"}),e.jsx("p",{className:"text-gray-600 text-sm",children:'Click "Add Challenge" to create your first challenge'})]}):i.map(h=>e.jsxs("div",{className:"bg-dark-700 rounded-xl p-5 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:h.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h.isActive?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-400"}`,children:h.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Account Size"}),e.jsxs("p",{className:"text-white font-medium",children:["$",(h.fundSize||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Profit Target"}),e.jsxs("p",{className:"text-green-500 font-medium",children:[h.profitTarget||8,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Max Drawdown"}),e.jsxs("p",{className:"text-red-500 font-medium",children:[h.maxDrawdown||10,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Duration"}),e.jsxs("p",{className:"text-white font-medium",children:[h.durationDays||30," days"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-600",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-yellow-500 font-bold text-xl",children:["$",(h.challengeFee||0).toLocaleString()]}),e.jsx("p",{className:"text-gray-500 text-sm",children:h.stepsCount===0?"Instant Fund":h.stepsCount===1?"1-Step":"2-Step"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>I(h),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>T(h._id),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})]})]},h._id))})]}),r==="participants"&&e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Challenge Participants"}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search participants...",value:t,onChange:h=>s(h.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]})]}),e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{size:48,className:"text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No participants yet"})]}):c.map(h=>{var A,_,te;return e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:((A=h.userId)==null?void 0:A.firstName)||((_=h.userId)==null?void 0:_.email)||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-sm",children:((te=h.challengeId)==null?void 0:te.name)||"Challenge"})]}),e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${C(h.status)}`,children:[$(h.status),h.status]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Balance"}),e.jsxs("span",{className:"text-white",children:["$",(h.currentBalance||0).toLocaleString()]})]}),e.jsx("div",{className:"w-full bg-dark-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${h.status==="FAILED"?"bg-red-500":h.status==="PASSED"?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min((h.currentBalance-h.initialBalance)/h.initialBalance*100+50,100)}%`}})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"P&L"}),e.jsxs("span",{className:h.currentBalance-h.initialBalance>=0?"text-green-500":"text-red-500",children:[h.currentBalance-h.initialBalance>=0?"+":"","$",((h.currentBalance||0)-(h.initialBalance||0)).toLocaleString()]})]})]},h._id)})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Challenge"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Balance"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"P&L"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Start Date"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:"No participants yet"})}):c.map(h=>{var _,te,O;const A=(h.currentBalance||0)-(h.initialBalance||0);return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4 text-white font-medium",children:((_=h.userId)==null?void 0:_.firstName)||((te=h.userId)==null?void 0:te.email)||"Unknown"}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:((O=h.challengeId)==null?void 0:O.name)||"Challenge"}),e.jsxs("td",{className:"py-4 px-4 text-white",children:["$",(h.currentBalance||0).toLocaleString()]}),e.jsxs("td",{className:`py-4 px-4 font-medium ${A>=0?"text-green-500":"text-red-500"}`,children:[A>=0?"+":"","$",A.toLocaleString()]}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs w-fit ${C(h.status)}`,children:[$(h.status),h.status]})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:new Date(h.createdAt).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Xt,{size:16})})})]},h._id)})})]})})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Challenge Settings"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Display Name"}),e.jsx("input",{type:"text",value:p.displayName,onChange:h=>S({...p,displayName:h.target.value}),placeholder:"Prop Trading Challenge",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Description"}),e.jsx("textarea",{value:p.description,onChange:h=>S({...p,description:h.target.value}),placeholder:"Trade with our capital...",rows:3,className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Terms & Conditions"}),e.jsx("textarea",{value:p.termsAndConditions,onChange:h=>S({...p,termsAndConditions:h.target.value}),placeholder:"Enter terms and conditions...",rows:5,className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white resize-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-3 bg-dark-700 text-white rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:U,className:"flex-1 py-3 bg-yellow-500 text-black font-medium rounded-lg hover:bg-yellow-400",children:"Save Settings"})]})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between sticky top-0 bg-dark-800 z-10",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:x?"Edit Challenge":"Create New Challenge"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Challenge Name *"}),e.jsx("input",{type:"text",value:P.name,onChange:h=>z({...P,name:h.target.value}),placeholder:"e.g., Starter Challenge",className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Description"}),e.jsx("textarea",{value:P.description,onChange:h=>z({...P,description:h.target.value}),placeholder:"Challenge description...",rows:2,className:"w-full bg-dark-700 border border-gray-700 rounded-lg px-4 py-3 text-white resize-none"})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Challenge Type & Pricing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Challenge Type"}),e.jsxs("select",{value:P.stepsCount,onChange:h=>z({...P,stepsCount:parseInt(h.target.value)}),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white",children:[e.jsx("option",{value:0,children:"Instant Fund (0-Step)"}),e.jsx("option",{value:1,children:"1-Step Challenge"}),e.jsx("option",{value:2,children:"2-Step Challenge"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Account Size ($)"}),e.jsx("input",{type:"number",value:P.fundSize,onChange:h=>z({...P,fundSize:parseFloat(h.target.value)||0}),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Challenge Fee ($)"}),e.jsx("input",{type:"number",value:P.challengeFee,onChange:h=>z({...P,challengeFee:parseFloat(h.target.value)||0}),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Drawdown & Profit Rules"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Daily Drawdown %"}),e.jsx("input",{type:"number",value:P.rules.maxDailyDrawdownPercent,onChange:h=>k("maxDailyDrawdownPercent",parseFloat(h.target.value)||0),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Overall Drawdown %"}),e.jsx("input",{type:"number",value:P.rules.maxOverallDrawdownPercent,onChange:h=>k("maxOverallDrawdownPercent",parseFloat(h.target.value)||0),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Phase 1 Target %"}),e.jsx("input",{type:"number",value:P.rules.profitTargetPhase1Percent,onChange:h=>k("profitTargetPhase1Percent",parseFloat(h.target.value)||0),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Phase 2 Target %"}),e.jsx("input",{type:"number",value:P.rules.profitTargetPhase2Percent,onChange:h=>k("profitTargetPhase2Percent",parseFloat(h.target.value)||0),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white",disabled:P.stepsCount<2})]})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Lot Size & Trade Limits"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Min Lot Size"}),e.jsx("input",{type:"number",step:"0.01",value:P.rules.minLotSize,onChange:h=>k("minLotSize",parseFloat(h.target.value)||.01),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Max Lot Size"}),e.jsx("input",{type:"number",value:P.rules.maxLotSize,onChange:h=>k("maxLotSize",parseFloat(h.target.value)||100),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Min Trades Required"}),e.jsx("input",{type:"number",value:P.rules.minTradesRequired||"",onChange:h=>k("minTradesRequired",parseInt(h.target.value)||null),placeholder:"No limit",className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Max Trades/Day"}),e.jsx("input",{type:"number",value:P.rules.maxTradesPerDay||"",onChange:h=>k("maxTradesPerDay",parseInt(h.target.value)||null),placeholder:"No limit",className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Max Total Trades"}),e.jsx("input",{type:"number",value:P.rules.maxTotalTrades||"",onChange:h=>k("maxTotalTrades",parseInt(h.target.value)||null),placeholder:"No limit",className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Max Concurrent"}),e.jsx("input",{type:"number",value:P.rules.maxConcurrentTrades||"",onChange:h=>k("maxConcurrentTrades",parseInt(h.target.value)||null),placeholder:"No limit",className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Max Leverage"}),e.jsx("input",{type:"number",value:P.rules.maxLeverage,onChange:h=>k("maxLeverage",parseInt(h.target.value)||100),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Min Hold Time (sec)"}),e.jsx("input",{type:"number",value:P.rules.minTradeHoldTimeSeconds,onChange:h=>k("minTradeHoldTimeSeconds",parseInt(h.target.value)||0),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Time & Duration"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Challenge Duration (days)"}),e.jsx("input",{type:"number",value:P.rules.challengeExpiryDays,onChange:h=>k("challengeExpiryDays",parseInt(h.target.value)||30),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Min Trading Days"}),e.jsx("input",{type:"number",value:P.rules.tradingDaysRequired||"",onChange:h=>k("tradingDaysRequired",parseInt(h.target.value)||null),placeholder:"No minimum",className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Profit Split %"}),e.jsx("input",{type:"number",value:P.fundedSettings.profitSplitPercent,onChange:h=>W("profitSplitPercent",parseInt(h.target.value)||80),className:"w-full bg-dark-600 border border-gray-600 rounded-lg px-4 py-3 text-white"})]})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Trading Rules"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.rules.stopLossMandatory,onChange:h=>k("stopLossMandatory",h.target.checked),className:"w-5 h-5 rounded bg-dark-600 border-gray-600 text-yellow-500"}),e.jsx("span",{className:"text-white text-sm",children:"Stop Loss Required"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.rules.takeProfitMandatory,onChange:h=>k("takeProfitMandatory",h.target.checked),className:"w-5 h-5 rounded bg-dark-600 border-gray-600 text-yellow-500"}),e.jsx("span",{className:"text-white text-sm",children:"Take Profit Required"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.rules.allowWeekendHolding,onChange:h=>k("allowWeekendHolding",h.target.checked),className:"w-5 h-5 rounded bg-dark-600 border-gray-600 text-yellow-500"}),e.jsx("span",{className:"text-white text-sm",children:"Weekend Holding"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.rules.allowNewsTrading,onChange:h=>k("allowNewsTrading",h.target.checked),className:"w-5 h-5 rounded bg-dark-600 border-gray-600 text-yellow-500"}),e.jsx("span",{className:"text-white text-sm",children:"News Trading"})]})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.isActive,onChange:h=>z({...P,isActive:h.target.checked}),className:"w-5 h-5 rounded bg-dark-600 border-gray-600 text-yellow-500"}),e.jsx("span",{className:"text-white",children:"Active (visible to users)"})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[e.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-3 bg-dark-700 text-white rounded-lg hover:bg-dark-600",children:"Cancel"}),e.jsx("button",{onClick:X,className:"flex-1 py-3 bg-yellow-500 text-black font-medium rounded-lg hover:bg-yellow-400",children:x?"Update Challenge":"Create Challenge"})]})]})]})})]})},Yy=()=>{const[t,s]=o.useState(""),[r,a]=o.useState(!1),n=[{id:1,name:"Super Admin",email:"admin@admin.com",role:"Super Admin",permissions:"Full Access",lastLogin:"2024-01-10 14:30",status:"active"},{id:2,name:"John Manager",email:"john@coinlytix.com",role:"Manager",permissions:"Users, Trades",lastLogin:"2024-01-10 12:15",status:"active"},{id:3,name:"Sarah Support",email:"sarah@coinlytix.com",role:"Support",permissions:"Users, Tickets",lastLogin:"2024-01-09 18:45",status:"active"},{id:4,name:"Mike Finance",email:"mike@coinlytix.com",role:"Finance",permissions:"Funds, Reports",lastLogin:"2024-01-08 09:00",status:"inactive"}],l=["Super Admin","Manager","Support","Finance","Viewer"];return e.jsxs(Dt,{title:"Admin Management",subtitle:"Manage admin users and permissions",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Admins"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"4"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Active Now"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"3"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Super Admins"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"1"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Roles"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:l.length})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Admin Users"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search admins...",value:t,onChange:i=>s(i.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx(qe,{size:16}),e.jsx("span",{children:"Add Admin"})]})]})]}),e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:n.map(i=>e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i.role==="Super Admin"?"bg-red-500/20":"bg-blue-500/20"}`,children:e.jsx(Os,{size:18,className:i.role==="Super Admin"?"text-red-500":"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:i.name}),e.jsx("p",{className:"text-gray-500 text-sm",children:i.role})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.status==="active"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-400"}`,children:i.status})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(Fr,{size:14}),e.jsx("span",{children:i.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(qf,{size:14}),e.jsx("span",{children:i.permissions})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(gr,{size:14}),e.jsxs("span",{children:["Last login: ",i.lastLogin]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-600",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 py-2 bg-blue-500/20 text-blue-500 rounded-lg text-sm",children:[e.jsx(Rt,{size:14})," Edit"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 py-2 bg-red-500/20 text-red-500 rounded-lg text-sm",children:[e.jsx(Ot,{size:14})," Remove"]})]})]},i.id))}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Admin"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Email"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Role"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Permissions"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Last Login"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(i=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i.role==="Super Admin"?"bg-red-500/20":"bg-blue-500/20"}`,children:e.jsx(Os,{size:18,className:i.role==="Super Admin"?"text-red-500":"text-blue-500"})}),e.jsx("span",{className:"text-white font-medium",children:i.name})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:i.email}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.role==="Super Admin"?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"}`,children:i.role})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:i.permissions}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:i.lastLogin}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.status==="active"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-400"}`,children:i.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",children:e.jsx(Xt,{size:16})}),e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-blue-500",children:e.jsx(Rt,{size:16})}),e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",children:e.jsx(Ot,{size:16})})]})})]},i.id))})]})})]})]})},Jy=()=>{const[t,s]=o.useState(""),[r,a]=o.useState("all"),n=[{id:1,user:"John Doe",email:"john@email.com",docType:"Passport",submittedAt:"2024-01-10 14:30",status:"pending"},{id:2,user:"Jane Smith",email:"jane@email.com",docType:"Driving License",submittedAt:"2024-01-10 12:15",status:"approved"},{id:3,user:"Mike Johnson",email:"mike@email.com",docType:"National ID",submittedAt:"2024-01-09 18:45",status:"pending"},{id:4,user:"Sarah Wilson",email:"sarah@email.com",docType:"Passport",submittedAt:"2024-01-08 09:00",status:"rejected"},{id:5,user:"Tom Brown",email:"tom@email.com",docType:"Aadhaar Card",submittedAt:"2024-01-07 16:30",status:"approved"}],l=c=>{switch(c){case"approved":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-400"}},i=c=>{switch(c){case"approved":return e.jsx(He,{size:14});case"pending":return e.jsx(Et,{size:14});case"rejected":return e.jsx(ge,{size:14});default:return null}},d=n.filter(c=>{const u=c.user.toLowerCase().includes(t.toLowerCase())||c.email.toLowerCase().includes(t.toLowerCase()),g=r==="all"||c.status===r;return u&&g});return e.jsxs(Dt,{title:"KYC Verification",subtitle:"Verify user identity documents",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O0,{size:18,className:"text-blue-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Submissions"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"156"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Et,{size:18,className:"text-yellow-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Pending Review"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"23"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(He,{size:18,className:"text-green-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Approved"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"118"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ge,{size:18,className:"text-red-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Rejected"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:"15"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"KYC Requests"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:t,onChange:c=>s(c.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsxs("select",{value:r,onChange:c=>a(c.target.value),className:"bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-gray-600",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:d.map(c=>e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(qt,{size:18,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:c.user}),e.jsx("p",{className:"text-gray-500 text-sm",children:c.email})]})]}),e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${l(c.status)}`,children:[i(c.status),c.status]})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(os,{size:14}),e.jsx("span",{children:c.docType})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(gr,{size:14}),e.jsx("span",{children:c.submittedAt})]})]}),c.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-600",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 py-2 bg-blue-500/20 text-blue-500 rounded-lg text-sm",children:[e.jsx(Xt,{size:14})," View"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 py-2 bg-green-500/20 text-green-500 rounded-lg text-sm",children:[e.jsx(He,{size:14})," Approve"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 py-2 bg-red-500/20 text-red-500 rounded-lg text-sm",children:[e.jsx(ge,{size:14})," Reject"]})]})]},c.id))}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Document Type"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Submitted"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:d.map(c=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(qt,{size:18,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:c.user}),e.jsx("p",{className:"text-gray-500 text-sm",children:c.email})]})]})}),e.jsx("td",{className:"py-4 px-4 text-white",children:c.docType}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:c.submittedAt}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs w-fit ${l(c.status)}`,children:[i(c.status),c.status]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",title:"View Documents",children:e.jsx(Xt,{size:16})}),e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-blue-500",title:"Download",children:e.jsx(R0,{size:16})}),c.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-green-500",title:"Approve",children:e.jsx(He,{size:16})}),e.jsx("button",{className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-red-500",title:"Reject",children:e.jsx(ge,{size:16})})]})]})})]},c.id))})]})})]})]})},_a="http://localhost:5001/api",Gy=()=>{var V,U,F;const[t,s]=o.useState(""),[r,a]=o.useState("all"),[n,l]=o.useState(null),[i,d]=o.useState([]),[c,u]=o.useState({total:0,open:0,inProgress:0,resolved:0}),[g,b]=o.useState(!0),[y,j]=o.useState(""),[v,w]=o.useState(!1),D=JSON.parse(localStorage.getItem("adminUser")||"{}");o.useEffect(()=>{f(),x()},[r]);const f=async()=>{try{const I=r!=="all"?`?status=${r.toUpperCase()}`:"",T=await(await fetch(`${_a}/support/admin/all${I}`)).json();d(T.tickets||[])}catch(I){console.error("Error fetching tickets:",I)}b(!1)},x=async()=>{try{const X=await(await fetch(`${_a}/support/admin/stats`)).json();X.stats&&u(X.stats)}catch(I){console.error("Error fetching stats:",I)}},m=async I=>{try{const T=await(await fetch(`${_a}/support/ticket/${I}`)).json();T.success&&l(T.ticket)}catch(X){console.error("Error fetching ticket:",X)}},p=async()=>{if(!(!y.trim()||!n)){w(!0);try{const X=await(await fetch(`${_a}/support/reply/${n.ticketId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderId:D._id||"admin",senderType:"ADMIN",message:y})})).json();X.success&&(l(X.ticket),j(""),f())}catch(I){console.error("Error sending reply:",I)}w(!1)}},S=async(I,X)=>{try{const k=await(await fetch(`${_a}/support/admin/status/${I}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:X})})).json();k.success&&(f(),x(),(n==null?void 0:n.ticketId)===I&&l(k.ticket))}catch(T){console.error("Error updating status:",T)}},E=I=>{switch(I){case"OPEN":return"bg-red-500/20 text-red-500";case"IN_PROGRESS":return"bg-yellow-500/20 text-yellow-500";case"WAITING_USER":return"bg-orange-500/20 text-orange-500";case"RESOLVED":return"bg-green-500/20 text-green-500";case"CLOSED":return"bg-gray-500/20 text-gray-400";default:return"bg-gray-500/20 text-gray-400"}},P=I=>{switch(I){case"URGENT":return"bg-red-500/20 text-red-500";case"HIGH":return"bg-orange-500/20 text-orange-500";case"MEDIUM":return"bg-yellow-500/20 text-yellow-500";case"LOW":return"bg-blue-500/20 text-blue-500";default:return"bg-gray-500/20 text-gray-400"}},z=I=>{switch(I){case"OPEN":return e.jsx(Sn,{size:14});case"IN_PROGRESS":return e.jsx(Et,{size:14});case"WAITING_USER":return e.jsx(Et,{size:14});case"RESOLVED":return e.jsx(as,{size:14});case"CLOSED":return e.jsx(as,{size:14});default:return null}},G=i.filter(I=>{var W,C;const X=((W=I.userId)==null?void 0:W.firstName)||"",T=((C=I.userId)==null?void 0:C.email)||"";return X.toLowerCase().includes(t.toLowerCase())||I.subject.toLowerCase().includes(t.toLowerCase())||I.ticketId.toLowerCase().includes(t.toLowerCase())||T.toLowerCase().includes(t.toLowerCase())});return e.jsxs(Dt,{title:"Support Tickets",subtitle:"Manage customer support requests",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_0,{size:18,className:"text-blue-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Tickets"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:c.total})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Sn,{size:18,className:"text-red-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Open"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:c.open})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Et,{size:18,className:"text-yellow-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"In Progress"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:c.inProgress})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-5 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(as,{size:18,className:"text-green-500"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Resolved"})]}),e.jsx("p",{className:"text-white text-2xl font-bold",children:c.resolved})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 sm:p-5 border-b border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Support Tickets"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search tickets...",value:t,onChange:I=>s(I.target.value),className:"w-full sm:w-64 bg-dark-700 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-gray-600"})]}),e.jsxs("select",{value:r,onChange:I=>a(I.target.value),className:"bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-gray-600",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"OPEN",children:"Open"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"WAITING_USER",children:"Waiting User"}),e.jsx("option",{value:"RESOLVED",children:"Resolved"}),e.jsx("option",{value:"CLOSED",children:"Closed"})]})]})]}),e.jsx("div",{className:"block lg:hidden p-4 space-y-3",children:G.map(I=>{var X,T;return e.jsxs("div",{className:"bg-dark-700 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-gray-500 text-sm font-mono",children:I.ticketId}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${P(I.priority)}`,children:I.priority})]}),e.jsx("p",{className:"text-white font-medium",children:I.subject})]}),e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${E(I.status)}`,children:[z(I.status),I.status.replace("_"," ")]})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(qt,{size:14}),e.jsx("span",{children:((X=I.userId)==null?void 0:X.firstName)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(gr,{size:14}),e.jsx("span",{children:new Date(I.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(ey,{size:14}),e.jsxs("span",{children:[((T=I.messages)==null?void 0:T.length)||0," messages"]})]})]}),e.jsx("div",{className:"flex gap-2 pt-3 border-t border-gray-600",children:e.jsxs("button",{onClick:()=>m(I.ticketId),className:"flex-1 flex items-center justify-center gap-1 py-2 bg-blue-500/20 text-blue-500 rounded-lg text-sm",children:[e.jsx(Xt,{size:14})," View"]})})]},I._id)})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Ticket ID"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Subject"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Priority"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Created"}),e.jsx("th",{className:"text-left text-gray-500 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"py-8 text-center text-gray-500",children:g?"Loading tickets...":"No tickets found"})}):G.map(I=>{var X,T,k;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50 cursor-pointer",onClick:()=>m(I.ticketId),children:[e.jsx("td",{className:"py-4 px-4 text-white font-mono text-sm",children:I.ticketId}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:((X=I.userId)==null?void 0:X.firstName)||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-sm",children:((T=I.userId)==null?void 0:T.email)||""})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white",children:I.subject}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",((k=I.messages)==null?void 0:k.length)||0,")"]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${P(I.priority)}`,children:I.priority})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs w-fit ${E(I.status)}`,children:[z(I.status),I.status.replace("_"," ")]})}),e.jsx("td",{className:"py-4 px-4 text-gray-400",children:new Date(I.createdAt).toLocaleString()}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",onClick:W=>W.stopPropagation(),children:[e.jsx("button",{onClick:()=>m(I.ticketId),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-white",title:"View Ticket",children:e.jsx(Xt,{size:16})}),I.status!=="RESOLVED"&&I.status!=="CLOSED"&&e.jsx("button",{onClick:()=>S(I.ticketId,"RESOLVED"),className:"p-2 hover:bg-dark-600 rounded-lg transition-colors text-gray-400 hover:text-green-500",title:"Mark Resolved",children:e.jsx(as,{size:16})})]})})]},I._id)})})]})})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl w-full max-w-3xl max-h-[85vh] flex flex-col border border-gray-700",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:n.subject}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["#",n.ticketId,"  ",(V=n.userId)==null?void 0:V.firstName," (",(U=n.userId)==null?void 0:U.email,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:n.status,onChange:I=>S(n.ticketId,I.target.value),className:`px-2 py-1 rounded text-xs border-0 ${E(n.status)}`,children:[e.jsx("option",{value:"OPEN",children:"Open"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"WAITING_USER",children:"Waiting User"}),e.jsx("option",{value:"RESOLVED",children:"Resolved"}),e.jsx("option",{value:"CLOSED",children:"Closed"})]}),e.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:(F=n.messages)==null?void 0:F.map((I,X)=>e.jsx("div",{className:`flex ${I.sender==="ADMIN"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${I.sender==="ADMIN"?"bg-red-500/20 text-white":"bg-dark-700 text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-xs font-medium ${I.sender==="ADMIN"?"text-red-400":"text-blue-400"}`,children:I.sender==="ADMIN"?"Support":I.senderName||"User"}),e.jsx("span",{className:"text-gray-500 text-xs",children:new Date(I.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:I.message})]})},X))}),n.status!=="CLOSED"&&e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:y,onChange:I=>j(I.target.value),placeholder:"Type your reply...",className:"flex-1 bg-dark-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-500",onKeyPress:I=>I.key==="Enter"&&p()}),e.jsxs("button",{onClick:p,disabled:v||!y.trim(),className:"bg-red-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Yl,{size:16}),v?"Sending...":"Send"]})]})})]})})]})},Xi="http://localhost:5001/api";function Xy(){var X,T,k,W,C,$,h,A,_,te,O,oe,de,Q,me;const t=Ze(),[s,r]=o.useState([]),[a,n]=o.useState(!0),[l,i]=o.useState(!1),[d,c]=o.useState({}),[u,g]=o.useState(!1),[b,y]=o.useState(""),[j,v]=o.useState(!1),[w,D]=o.useState(!1),[f,x]=o.useState(null),[m,p]=o.useState(null),[S,E]=o.useState(null),P=JSON.parse(localStorage.getItem("user")||"{}");o.useEffect(()=>{z(),G()},[]);const z=async()=>{try{const be=await(await fetch(`${Xi}/prop/challenges`)).json();be.success&&(r(be.challenges||[]),i(be.enabled))}catch(ae){console.error("Error fetching challenges:",ae)}n(!1)},G=async()=>{try{const be=await(await fetch(`${Xi}/prop/status`)).json();be.success&&c(be)}catch(ae){console.error("Error fetching settings:",ae)}},V=[...new Set(s.map(ae=>ae.stepsCount))].sort(),U=f!==null?[...new Set(s.filter(ae=>ae.stepsCount===f).map(ae=>ae.fundSize))].sort((ae,be)=>ae-be):[];o.useEffect(()=>{if(f!==null&&m!==null){const ae=s.find(be=>be.stepsCount===f&&be.fundSize===m);E(ae||null)}else E(null)},[f,m,s]);const F=async()=>{if(!P._id){alert("Please login to buy a challenge");return}if(!S){alert("Please select a challenge");return}if(!j){alert("Please agree to the terms and conditions");return}g(!0);try{const be=await(await fetch(`${Xi}/prop/buy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:P._id,challengeId:S._id,paymentId:`PAY${Date.now()}`,couponCode:b||void 0})})).json();be.success?(alert("Challenge purchased successfully!"),t("/account")):alert(be.message||"Failed to purchase challenge")}catch(ae){console.error("Error buying challenge:",ae),alert("Error purchasing challenge")}g(!1)},I=ae=>ae===0?"Instant Fund":ae===1?"One Step":"Two Step";return a?e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-green"})}):l?e.jsxs("div",{className:"min-h-screen bg-dark-900",children:[e.jsx("div",{className:"bg-dark-800 border-b border-gray-800 px-4 py-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/dashboard"),className:"text-gray-400 hover:text-white",children:e.jsx(Br,{size:24})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(dt,{size:28,className:"text-accent-green"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"New Challenge"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Choose the type of challenge you want to take"})]})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold mb-2",children:"Challenge Type"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Choose the type of challenge you want to take"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.map(ae=>e.jsx("button",{onClick:()=>{x(ae),p(null)},className:`p-4 rounded-xl border-2 transition-all ${f===ae?"border-accent-green bg-accent-green/10":"border-gray-700 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${f===ae?"bg-accent-green":"bg-gray-600"}`}),e.jsx("span",{className:"text-white font-medium",children:I(ae)})]})},ae))})]}),f!==null&&e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h2",{className:"text-white font-semibold mb-2",children:"Account Size"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Choose your preferred account size"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:U.map(ae=>e.jsx("button",{onClick:()=>p(ae),className:`p-4 rounded-xl border-2 transition-all ${m===ae?"border-accent-green bg-accent-green/10":"border-gray-700 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${m===ae?"bg-accent-green":"bg-gray-600"}`}),e.jsxs("span",{className:"text-white font-medium",children:["$",ae.toLocaleString()]})]})},ae))})]}),S&&e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-lg flex items-center justify-center",children:e.jsx(os,{size:20,className:"text-accent-green"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold",children:"Trading Rules"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Challenge parameters you must follow"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Daily Drawdown"}),e.jsxs("p",{className:"text-red-500 font-bold text-lg",children:[((X=S.rules)==null?void 0:X.maxDailyDrawdownPercent)||5,"%"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Max Drawdown"}),e.jsxs("p",{className:"text-red-500 font-bold text-lg",children:[((T=S.rules)==null?void 0:T.maxOverallDrawdownPercent)||10,"%"]})]}),S.stepsCount>0&&e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Profit Target"}),e.jsxs("p",{className:"text-green-500 font-bold text-lg",children:[((k=S.rules)==null?void 0:k.profitTargetPhase1Percent)||8,"%"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Time Limit"}),e.jsxs("p",{className:"text-white font-bold text-lg",children:[((W=S.rules)==null?void 0:W.challengeExpiryDays)||30," days"]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Min Lot Size"}),e.jsx("p",{className:"text-white font-bold text-lg",children:((C=S.rules)==null?void 0:C.minLotSize)||.01})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Max Lot Size"}),e.jsx("p",{className:"text-white font-bold text-lg",children:(($=S.rules)==null?void 0:$.maxLotSize)||100})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Max Leverage"}),e.jsxs("p",{className:"text-white font-bold text-lg",children:["1:",((h=S.rules)==null?void 0:h.maxLeverage)||100]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Profit Split"}),e.jsxs("p",{className:"text-accent-green font-bold text-lg",children:[((A=S.fundedSettings)==null?void 0:A.profitSplitPercent)||80,"%"]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${(_=S.rules)!=null&&_.stopLossMandatory?"bg-yellow-500/10 text-yellow-500":"bg-dark-700 text-gray-400"}`,children:[(te=S.rules)!=null&&te.stopLossMandatory?e.jsx(He,{size:16}):e.jsx(ge,{size:16}),e.jsx("span",{className:"text-sm",children:"Stop Loss Required"})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${(O=S.rules)!=null&&O.allowWeekendHolding?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:[(oe=S.rules)!=null&&oe.allowWeekendHolding?e.jsx(He,{size:16}):e.jsx(ge,{size:16}),e.jsx("span",{className:"text-sm",children:"Weekend Holding"})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${(de=S.rules)!=null&&de.allowNewsTrading?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:[(Q=S.rules)!=null&&Q.allowNewsTrading?e.jsx(He,{size:16}):e.jsx(ge,{size:16}),e.jsx("span",{className:"text-sm",children:"News Trading"})]}),((me=S.rules)==null?void 0:me.minTradeHoldTimeSeconds)>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-yellow-500/10 text-yellow-500",children:[e.jsx(Et,{size:16}),e.jsxs("span",{className:"text-sm",children:["Min Hold: ",S.rules.minTradeHoldTimeSeconds,"s"]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 sticky top-4",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800",children:[e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Coupon Code"}),e.jsx("p",{className:"text-gray-500 text-sm mb-3",children:"Enter a coupon code to get a discount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:b,onChange:ae=>y(ae.target.value),placeholder:"Enter coupon code",className:"flex-1 bg-dark-700 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500"}),e.jsx("button",{className:"px-4 py-2 bg-dark-700 text-gray-400 rounded-lg hover:text-white",children:"Apply"})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-800",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Order Summary"}),S?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:["$",S.fundSize.toLocaleString(),"  ",I(S.stepsCount)]}),e.jsx("p",{className:"text-gray-500 text-sm",children:S.name})]}),e.jsxs("p",{className:"text-white font-bold",children:["$",S.challengeFee.toLocaleString()]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-700 flex justify-between",children:[e.jsx("span",{className:"text-white font-semibold",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",S.challengeFee.toLocaleString()]})]})]}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Select a challenge type and account size"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer mb-4",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:ae=>v(ae.target.checked),className:"w-5 h-5 mt-0.5 rounded bg-dark-700 border-gray-600 text-accent-green"}),e.jsxs("span",{className:"text-gray-400 text-sm",children:["I agree with all the following terms:",e.jsxs("ul",{className:"mt-2 space-y-1 text-gray-500",children:[e.jsxs("li",{children:[" I have read and agreed to the ",e.jsx("button",{onClick:()=>D(!0),className:"text-accent-green hover:underline",children:"Terms of Use"})]}),e.jsx("li",{children:" All information provided is correct"}),e.jsxs("li",{children:[" I have read and agree with the ",e.jsx("button",{onClick:()=>D(!0),className:"text-accent-green hover:underline",children:"Terms & Conditions"})]}),e.jsx("li",{children:" I understand the trading rules and risks"})]})]})]}),e.jsxs("button",{onClick:F,disabled:!S||!j||u,className:"w-full py-4 bg-accent-green text-black font-bold rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u?"Processing...":"Continue to Payment",e.jsx(Er,{size:20})]})]})]})})]}),e.jsxs("div",{className:"mt-8 bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"How It Works"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{step:1,title:"Buy Challenge",desc:"Choose your account size and pay the one-time fee."},{step:2,title:"Pass Evaluation",desc:"Trade within the rules and hit your profit target."},{step:3,title:"Get Funded",desc:"Receive your funded account and start earning."}].map(ae=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-accent-green/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-accent-green font-bold text-lg",children:ae.step})}),e.jsx("h3",{className:"text-white font-bold mb-2",children:ae.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:ae.desc})]},ae.step))})]}),e.jsxs("div",{className:"mt-6 bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(di,{size:20,className:"text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-500 font-medium",children:"Important Rules"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Breaking any rule will result in immediate account failure. All trades must follow the challenge rules. Make sure to review all trading parameters before starting."})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between sticky top-0 bg-dark-800",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Terms & Conditions"}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:e.jsx(ge,{size:24})})]}),e.jsxs("div",{className:"p-6 text-gray-400 space-y-4",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Challenge Rules"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"You must not exceed the maximum daily drawdown limit"}),e.jsx("li",{children:"You must not exceed the maximum overall drawdown limit"}),e.jsx("li",{children:"All trades must have a stop loss if required by the challenge"}),e.jsx("li",{children:"You must reach the profit target within the time limit"}),e.jsx("li",{children:"Lot sizes must be within the specified range"}),e.jsx("li",{children:"Weekend holding rules must be followed"}),e.jsx("li",{children:"News trading restrictions apply if specified"})]}),e.jsx("h3",{className:"text-white font-semibold mt-6",children:"Account Termination"}),e.jsx("p",{children:"Your challenge account will be terminated if you break any of the above rules. No refunds will be provided for terminated accounts."}),e.jsx("h3",{className:"text-white font-semibold mt-6",children:"Funded Account"}),e.jsx("p",{children:"Upon successfully completing the challenge, you will receive a funded account with the specified profit split. Withdrawals are subject to the withdrawal frequency rules."})]}),e.jsx("div",{className:"p-6 border-t border-gray-800",children:e.jsx("button",{onClick:()=>{v(!0),D(!1)},className:"w-full py-3 bg-accent-green text-black font-medium rounded-lg",children:"I Agree to Terms"})})]})})]}):e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(dt,{size:64,className:"text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Challenges Coming Soon"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Prop trading challenges are not available at the moment."}),e.jsx("button",{onClick:()=>t("/dashboard"),className:"px-6 py-3 bg-accent-green text-black font-medium rounded-lg",children:"Back to Dashboard"})]})})}const ux="http://localhost:5001/api";function qy(){var v,w,D,f,x;const t=Ze(),[s,r]=o.useState([]),[a,n]=o.useState(null),[l,i]=o.useState(null),[d,c]=o.useState(!0),u=JSON.parse(localStorage.getItem("user")||"{}");o.useEffect(()=>{u._id&&g()},[u._id]),o.useEffect(()=>{a&&b(a._id)},[a]);const g=async()=>{try{const p=await(await fetch(`${ux}/prop/my-accounts/${u._id}`)).json();p.success&&p.accounts.length>0&&(r(p.accounts),n(p.accounts[0]))}catch(m){console.error("Error fetching accounts:",m)}c(!1)},b=async m=>{try{const S=await(await fetch(`${ux}/prop/account/${m}`)).json();S.success&&i(S)}catch(p){console.error("Error fetching dashboard:",p)}},y=m=>{switch(m){case"ACTIVE":return"bg-blue-500/20 text-blue-500";case"PASSED":return"bg-green-500/20 text-green-500";case"FUNDED":return"bg-purple-500/20 text-purple-500";case"FAILED":return"bg-red-500/20 text-red-500";case"EXPIRED":return"bg-gray-500/20 text-gray-500";default:return"bg-gray-500/20 text-gray-500"}},j=m=>{switch(m){case"ACTIVE":return Xo;case"PASSED":return as;case"FUNDED":return dt;case"FAILED":return $r;case"EXPIRED":return Et;default:return Sn}};return d?e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):s.length===0?e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(dt,{size:64,className:"text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"No Challenge Accounts"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"You haven't purchased any challenges yet."}),e.jsx("button",{onClick:()=>t("/buy-challenge"),className:"px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-bold rounded-xl transition-colors",children:"Buy Challenge"})]})}):e.jsx("div",{className:"min-h-screen bg-dark-900 p-4 lg:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Challenge Dashboard"}),e.jsx("p",{className:"text-gray-400",children:"Monitor your prop trading progress"})]}),e.jsxs("button",{onClick:()=>t("/buy-challenge"),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(dt,{size:18}),"New Challenge"]})]}),s.length>1&&e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:s.map(m=>{const p=j(m.status);return e.jsxs("button",{onClick:()=>n(m),className:`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${(a==null?void 0:a._id)===m._id?"bg-primary-500 text-white":"bg-dark-800 text-gray-400 hover:bg-dark-700"}`,children:[e.jsx(p,{size:16}),m.accountId]},m._id)})}),l&&e.jsxs(e.Fragment,{children:[l.account.status==="FAILED"&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6 flex items-center gap-3",children:[e.jsx($r,{size:24,className:"text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-500 font-bold",children:"Challenge Failed"}),e.jsx("p",{className:"text-gray-400 text-sm",children:((w=(v=l.violations)==null?void 0:v.find(m=>m.severity==="FAIL"))==null?void 0:w.description)||"Rule violation detected"})]})]}),l.account.status==="PASSED"&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4 mb-6 flex items-center gap-3",children:[e.jsx(as,{size:24,className:"text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-500 font-bold",children:"Challenge Passed!"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Congratulations! Your funded account is being prepared."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Equity"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",l.balance.equity.toLocaleString()]}),e.jsxs("p",{className:`text-sm ${l.balance.profitLoss>=0?"text-green-500":"text-red-500"}`,children:[l.balance.profitLoss>=0?"+":"","$",l.balance.profitLoss.toFixed(2)]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Phase"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l.account.totalPhases===0?"Funded":`${l.account.currentPhase}/${l.account.totalPhases}`}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y(l.account.status)}`,children:l.account.status})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Days Left"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l.time.remainingDays}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["of ",l.challenge.stepsCount===0?"":"30"," days"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Trading Days"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l.trades.tradingDays}),e.jsx("p",{className:"text-gray-500 text-sm",children:l.trades.requiredDays?`min ${l.trades.requiredDays} required`:"No minimum"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Os,{size:20,className:"text-red-500"}),"Drawdown Limits"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Daily Drawdown"}),e.jsxs("span",{className:"text-white",children:[l.drawdown.dailyUsed.toFixed(2),"% / ",l.drawdown.dailyMax,"%"]})]}),e.jsx("div",{className:"h-3 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${l.drawdown.dailyUsed>=l.drawdown.dailyMax*.8?"bg-red-500":l.drawdown.dailyUsed>=l.drawdown.dailyMax*.5?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,l.drawdown.dailyUsed/l.drawdown.dailyMax*100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.drawdown.dailyRemaining.toFixed(2),"% remaining"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Overall Drawdown"}),e.jsxs("span",{className:"text-white",children:[l.drawdown.overallUsed.toFixed(2),"% / ",l.drawdown.overallMax,"%"]})]}),e.jsx("div",{className:"h-3 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${l.drawdown.overallUsed>=l.drawdown.overallMax*.8?"bg-red-500":l.drawdown.overallUsed>=l.drawdown.overallMax*.5?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,l.drawdown.overallUsed/l.drawdown.overallMax*100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.drawdown.overallRemaining.toFixed(2),"% remaining"]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(ly,{size:20,className:"text-green-500"}),"Profit Target"]}),l.profit.targetPercent>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Progress"}),e.jsxs("span",{className:"text-white",children:[l.profit.currentPercent.toFixed(2),"% / ",l.profit.targetPercent,"%"]})]}),e.jsx("div",{className:"h-3 bg-dark-700 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${Math.min(100,l.profit.targetProgress)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",Math.max(0,l.profit.amountToTarget).toFixed(2)," to target"]}),e.jsxs("div",{className:"mt-4 p-3 bg-dark-700 rounded-lg",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Target Amount"}),e.jsxs("p",{className:"text-xl font-bold text-green-500",children:["$",(l.profit.targetPercent/100*l.balance.initial).toLocaleString()]})]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(dt,{size:32,className:"text-purple-500 mx-auto mb-2"}),e.jsx("p",{className:"text-white font-medium",children:"Instant Funded Account"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No profit target - just follow the rules"})]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800 mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Kc,{size:20,className:"text-primary-500"}),"Trade Limits"]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Trades Today"}),e.jsxs("p",{className:"text-xl font-bold text-white",children:[l.trades.today,l.trades.maxPerDay&&e.jsxs("span",{className:"text-gray-500",children:["/",l.trades.maxPerDay]})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Open Trades"}),e.jsxs("p",{className:"text-xl font-bold text-white",children:[l.trades.openCount,l.trades.maxConcurrent&&e.jsxs("span",{className:"text-gray-500",children:["/",l.trades.maxConcurrent]})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Trades"}),e.jsx("p",{className:"text-xl font-bold text-white",children:l.trades.total})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Min Hold Time"}),e.jsx("p",{className:"text-xl font-bold text-white",children:l.rules.minHoldTimeSeconds>0?`${l.rules.minHoldTimeSeconds}s`:"None"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Active Rules"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${l.rules.stopLossMandatory?"bg-red-500/20":"bg-gray-700"}`,children:e.jsx(Os,{size:16,className:l.rules.stopLossMandatory?"text-red-500":"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm",children:"Stop Loss Mandatory"}),e.jsx("p",{className:"text-gray-500 text-xs",children:l.rules.stopLossMandatory?"Required on all trades":"Not required"})]})]}),((D=l.rules.allowedSymbols)==null?void 0:D.length)>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:e.jsx(Xo,{size:16,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm",children:"Allowed Symbols"}),e.jsx("p",{className:"text-gray-500 text-xs",children:l.rules.allowedSymbols.join(", ")})]})]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(di,{size:20,className:"text-yellow-500"}),"Violations (",((f=l.violations)==null?void 0:f.length)||0,")"]}),((x=l.violations)==null?void 0:x.length)>0?e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.violations.map((m,p)=>e.jsxs("div",{className:`p-3 rounded-lg ${m.severity==="FAIL"?"bg-red-500/10 border border-red-500/30":"bg-yellow-500/10 border border-yellow-500/30"}`,children:[e.jsx("p",{className:`text-sm font-medium ${m.severity==="FAIL"?"text-red-500":"text-yellow-500"}`,children:m.rule}),e.jsx("p",{className:"text-gray-400 text-xs",children:m.description})]},p))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(as,{size:32,className:"text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No violations - keep it up!"})]})]})]}),l.account.status==="ACTIVE"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>t("/trading"),className:"w-full py-4 bg-primary-500 hover:bg-primary-600 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx(it,{size:20}),"Start Trading"]})})]})]})})}const hs="http://localhost:5001/api";function Ky(){const[t,s]=o.useState("dashboard"),[r,a]=o.useState(null),[n,l]=o.useState([]),[i,d]=o.useState([]),[c,u]=o.useState(null),[g,b]=o.useState(!0),[y,j]=o.useState(!1),[v,w]=o.useState(null),[D,f]=o.useState(""),[x,m]=o.useState("all");o.useEffect(()=>{p()},[]);const p=async()=>{b(!0),await Promise.all([S(),E(),P(),z()]),b(!1)},S=async()=>{try{const W=await(await fetch(`${hs}/prop/admin/settings`)).json();W.success&&a(W.settings)}catch(k){console.error("Error fetching settings:",k)}},E=async()=>{try{const W=await(await fetch(`${hs}/prop/admin/challenges`)).json();W.success&&l(W.challenges||[])}catch(k){console.error("Error fetching challenges:",k)}},P=async()=>{try{const W=await(await fetch(`${hs}/prop/admin/accounts?limit=100`)).json();W.success&&d(W.accounts||[])}catch(k){console.error("Error fetching accounts:",k)}},z=async()=>{try{const W=await(await fetch(`${hs}/prop/admin/dashboard`)).json();W.success&&u(W.stats)}catch(k){console.error("Error fetching stats:",k)}},G=async()=>{try{const W=await(await fetch(`${hs}/prop/admin/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({challengeModeEnabled:!(r!=null&&r.challengeModeEnabled)})})).json();W.success&&(a(W.settings),z())}catch(k){console.error("Error toggling challenge mode:",k)}},V=async k=>{if(confirm("Are you sure you want to force pass this challenge?"))try{(await(await fetch(`${hs}/prop/admin/force-pass/${k}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:"admin"})})).json()).success&&(alert("Challenge force passed!"),P(),z())}catch(W){console.error("Error:",W)}},U=async k=>{const W=prompt("Enter reason for failing this challenge:");if(W)try{(await(await fetch(`${hs}/prop/admin/force-fail/${k}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:"admin",reason:W})})).json()).success&&(alert("Challenge force failed!"),P(),z())}catch(C){console.error("Error:",C)}},F=async k=>{const W=prompt("Enter number of days to extend:");if(!(!W||isNaN(W)))try{(await(await fetch(`${hs}/prop/admin/extend-time/${k}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:"admin",days:parseInt(W)})})).json()).success&&(alert(`Extended by ${W} days!`),P())}catch(C){console.error("Error:",C)}},I=async k=>{if(confirm("Are you sure you want to reset this challenge? All progress will be lost."))try{(await(await fetch(`${hs}/prop/admin/reset/${k}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:"admin"})})).json()).success&&(alert("Challenge reset!"),P(),z())}catch(W){console.error("Error:",W)}},X=k=>{switch(k){case"ACTIVE":return"bg-blue-500/20 text-blue-500";case"PASSED":return"bg-green-500/20 text-green-500";case"FUNDED":return"bg-purple-500/20 text-purple-500";case"FAILED":return"bg-red-500/20 text-red-500";case"EXPIRED":return"bg-gray-500/20 text-gray-500";default:return"bg-gray-500/20 text-gray-500"}},T=i.filter(k=>{var $,h,A,_,te;const W=(($=k.accountId)==null?void 0:$.toLowerCase().includes(D.toLowerCase()))||((A=(h=k.userId)==null?void 0:h.firstName)==null?void 0:A.toLowerCase().includes(D.toLowerCase()))||((te=(_=k.userId)==null?void 0:_.email)==null?void 0:te.toLowerCase().includes(D.toLowerCase())),C=x==="all"||k.status===x;return W&&C});return g?e.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.jsx("div",{className:"min-h-screen bg-dark-900 p-4 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(dt,{className:"text-primary-500"}),"Prop Trading Management"]}),e.jsx("p",{className:"text-gray-400",children:"Manage challenges and funded accounts"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:G,className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${r!=null&&r.challengeModeEnabled?"bg-green-500/20 text-green-500 border border-green-500/30":"bg-red-500/20 text-red-500 border border-red-500/30"}`,children:[r!=null&&r.challengeModeEnabled?e.jsx(He,{size:18}):e.jsx(ge,{size:18}),r!=null&&r.challengeModeEnabled?"Enabled":"Disabled"]}),e.jsx("button",{onClick:p,className:"p-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-gray-400",children:e.jsx(Be,{size:18})})]})]}),e.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-800 pb-2",children:["dashboard","challenges","accounts"].map(k=>e.jsx("button",{onClick:()=>s(k),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${t===k?"bg-primary-500 text-white":"text-gray-400 hover:bg-dark-800"}`,children:k},k))}),t==="dashboard"&&c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Challenges"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:c.totalChallenges})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Active Accounts"}),e.jsx("p",{className:"text-2xl font-bold text-blue-500",children:c.activeAccounts})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Passed"}),e.jsx("p",{className:"text-2xl font-bold text-green-500",children:c.passedAccounts})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-4 border border-gray-800",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Failed"}),e.jsx("p",{className:"text-2xl font-bold text-red-500",children:c.failedAccounts})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Account Distribution"}),e.jsx("div",{className:"space-y-3",children:[{label:"Active",value:c.activeAccounts,color:"bg-blue-500"},{label:"Passed",value:c.passedAccounts,color:"bg-green-500"},{label:"Funded",value:c.fundedAccounts,color:"bg-purple-500"},{label:"Failed",value:c.failedAccounts,color:"bg-red-500"}].map(k=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${k.color}`}),e.jsx("span",{className:"text-gray-400 flex-1",children:k.label}),e.jsx("span",{className:"text-white font-medium",children:k.value})]},k.label))})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-gray-800",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"System Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Challenge Mode"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.challengeModeEnabled?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:c.challengeModeEnabled?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total Accounts"}),e.jsx("span",{className:"text-white font-medium",children:c.totalAccounts})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Pass Rate"}),e.jsxs("span",{className:"text-white font-medium",children:[c.totalAccounts>0?(c.passedAccounts/c.totalAccounts*100).toFixed(1):0,"%"]})]})]})]})]})]}),t==="challenges"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Challenge Products"}),e.jsxs("button",{onClick:()=>{w(null),j(!0)},className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg flex items-center gap-2",children:[e.jsx(qe,{size:18}),"Add Challenge"]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(k=>{var W,C,$;return e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${k.stepsCount===0?"bg-green-500/20 text-green-500":k.stepsCount===1?"bg-blue-500/20 text-blue-500":"bg-purple-500/20 text-purple-500"}`,children:k.stepsCount===0?"Instant":`${k.stepsCount}-Step`}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k.isActive?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:k.isActive?"Active":"Inactive"})]}),e.jsxs("h3",{className:"text-xl font-bold text-white",children:["$",k.fundSize.toLocaleString()]}),e.jsx("p",{className:"text-gray-400 text-sm",children:k.name})]}),e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Fee"}),e.jsxs("span",{className:"text-white",children:["$",k.challengeFee]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Daily DD"}),e.jsxs("span",{className:"text-white",children:[(W=k.rules)==null?void 0:W.maxDailyDrawdownPercent,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Max DD"}),e.jsxs("span",{className:"text-white",children:[(C=k.rules)==null?void 0:C.maxOverallDrawdownPercent,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Profit Split"}),e.jsxs("span",{className:"text-white",children:[($=k.fundedSettings)==null?void 0:$.profitSplitPercent,"%"]})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-800 flex gap-2",children:e.jsxs("button",{onClick:()=>{w(k),j(!0)},className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg text-sm flex items-center justify-center gap-1",children:[e.jsx(Rt,{size:14})," Edit"]})})]},k._id)})}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(dt,{size:48,className:"text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No challenges created yet."})]})]}),t==="accounts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(kt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by account ID, name, or email...",value:D,onChange:k=>f(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("select",{value:x,onChange:k=>m(k.target.value),className:"px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"PASSED",children:"Passed"}),e.jsx("option",{value:"FUNDED",children:"Funded"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"EXPIRED",children:"Expired"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Account"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Challenge"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Phase"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Equity"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"DD%"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Profit%"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left text-gray-400 text-sm font-medium py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:T.map(k=>{var W,C,$,h,A,_,te,O;return e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dark-700/50",children:[e.jsx("td",{className:"py-3 px-4 text-white font-mono text-sm",children:k.accountId}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("p",{className:"text-white text-sm",children:((W=k.userId)==null?void 0:W.firstName)||"N/A"}),e.jsx("p",{className:"text-gray-500 text-xs",children:(C=k.userId)==null?void 0:C.email})]}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("p",{className:"text-white text-sm",children:["$",(h=($=k.challengeId)==null?void 0:$.fundSize)==null?void 0:h.toLocaleString()]}),e.jsx("p",{className:"text-gray-500 text-xs",children:(A=k.challengeId)==null?void 0:A.name})]}),e.jsx("td",{className:"py-3 px-4 text-white",children:k.totalPhases===0?"Funded":`${k.currentPhase}/${k.totalPhases}`}),e.jsxs("td",{className:"py-3 px-4 text-white",children:["$",(_=k.currentEquity)==null?void 0:_.toLocaleString()]}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:k.currentOverallDrawdownPercent>5?"text-red-500":"text-white",children:[(te=k.currentOverallDrawdownPercent)==null?void 0:te.toFixed(2),"%"]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:k.currentProfitPercent>=0?"text-green-500":"text-red-500",children:[(O=k.currentProfitPercent)==null?void 0:O.toFixed(2),"%"]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${X(k.status)}`,children:k.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[k.status==="ACTIVE"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>V(k._id),className:"p-1.5 hover:bg-green-500/20 rounded text-gray-400 hover:text-green-500",title:"Force Pass",children:e.jsx(He,{size:14})}),e.jsx("button",{onClick:()=>U(k._id),className:"p-1.5 hover:bg-red-500/20 rounded text-gray-400 hover:text-red-500",title:"Force Fail",children:e.jsx(ge,{size:14})}),e.jsx("button",{onClick:()=>F(k._id),className:"p-1.5 hover:bg-blue-500/20 rounded text-gray-400 hover:text-blue-500",title:"Extend Time",children:e.jsx(Et,{size:14})})]}),e.jsx("button",{onClick:()=>I(k._id),className:"p-1.5 hover:bg-yellow-500/20 rounded text-gray-400 hover:text-yellow-500",title:"Reset",children:e.jsx(Be,{size:14})})]})})]},k._id)})})]})}),T.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{size:48,className:"text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No accounts found."})]})]})]}),y&&e.jsx(Qy,{challenge:v,onClose:()=>{j(!1),w(null)},onSave:()=>{j(!1),w(null),E()}})]})})}function Qy({challenge:t,onClose:s,onSave:r}){var c,u,g,b,y,j,v,w,D,f;const[a,n]=o.useState({name:(t==null?void 0:t.name)||"",stepsCount:(t==null?void 0:t.stepsCount)??2,fundSize:(t==null?void 0:t.fundSize)||1e4,challengeFee:(t==null?void 0:t.challengeFee)||100,isActive:(t==null?void 0:t.isActive)??!0,rules:{maxDailyDrawdownPercent:((c=t==null?void 0:t.rules)==null?void 0:c.maxDailyDrawdownPercent)||5,maxOverallDrawdownPercent:((u=t==null?void 0:t.rules)==null?void 0:u.maxOverallDrawdownPercent)||10,profitTargetPhase1Percent:((g=t==null?void 0:t.rules)==null?void 0:g.profitTargetPhase1Percent)||8,profitTargetPhase2Percent:((b=t==null?void 0:t.rules)==null?void 0:b.profitTargetPhase2Percent)||5,stopLossMandatory:((y=t==null?void 0:t.rules)==null?void 0:y.stopLossMandatory)??!0,maxTradesPerDay:((j=t==null?void 0:t.rules)==null?void 0:j.maxTradesPerDay)||null,maxConcurrentTrades:((v=t==null?void 0:t.rules)==null?void 0:v.maxConcurrentTrades)||null,minTradeHoldTimeSeconds:((w=t==null?void 0:t.rules)==null?void 0:w.minTradeHoldTimeSeconds)||0,challengeExpiryDays:((D=t==null?void 0:t.rules)==null?void 0:D.challengeExpiryDays)||30},fundedSettings:{profitSplitPercent:((f=t==null?void 0:t.fundedSettings)==null?void 0:f.profitSplitPercent)||80}}),[l,i]=o.useState(!1),d=async x=>{x.preventDefault(),i(!0);try{const m=t?`${hs}/prop/admin/challenges/${t._id}`:`${hs}/prop/admin/challenges`,E=await(await fetch(m,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();E.success?r():alert(E.message||"Error saving challenge")}catch(m){console.error("Error:",m),alert("Error saving challenge")}i(!1)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:t?"Edit Challenge":"Create Challenge"})}),e.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Name"}),e.jsx("input",{type:"text",value:a.name,onChange:x=>n({...a,name:x.target.value}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Steps"}),e.jsxs("select",{value:a.stepsCount,onChange:x=>n({...a,stepsCount:parseInt(x.target.value)}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",children:[e.jsx("option",{value:0,children:"Instant Fund (0 Steps)"}),e.jsx("option",{value:1,children:"1-Step"}),e.jsx("option",{value:2,children:"2-Step"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Fund Size ($)"}),e.jsx("input",{type:"number",value:a.fundSize,onChange:x=>n({...a,fundSize:parseInt(x.target.value)}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Challenge Fee ($)"}),e.jsx("input",{type:"number",value:a.challengeFee,onChange:x=>n({...a,challengeFee:parseInt(x.target.value)}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-3",children:"Risk Rules"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Daily Drawdown (%)"}),e.jsx("input",{type:"number",value:a.rules.maxDailyDrawdownPercent,onChange:x=>n({...a,rules:{...a.rules,maxDailyDrawdownPercent:parseFloat(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Overall Drawdown (%)"}),e.jsx("input",{type:"number",value:a.rules.maxOverallDrawdownPercent,onChange:x=>n({...a,rules:{...a.rules,maxOverallDrawdownPercent:parseFloat(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Phase 1 Target (%)"}),e.jsx("input",{type:"number",value:a.rules.profitTargetPhase1Percent,onChange:x=>n({...a,rules:{...a.rules,profitTargetPhase1Percent:parseFloat(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Phase 2 Target (%)"}),e.jsx("input",{type:"number",value:a.rules.profitTargetPhase2Percent,onChange:x=>n({...a,rules:{...a.rules,profitTargetPhase2Percent:parseFloat(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Expiry Days"}),e.jsx("input",{type:"number",value:a.rules.challengeExpiryDays,onChange:x=>n({...a,rules:{...a.rules,challengeExpiryDays:parseInt(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Profit Split (%)"}),e.jsx("input",{type:"number",value:a.fundedSettings.profitSplitPercent,onChange:x=>n({...a,fundedSettings:{...a.fundedSettings,profitSplitPercent:parseInt(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-3",children:"Trade Rules"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Max Trades/Day (0 = unlimited)"}),e.jsx("input",{type:"number",value:a.rules.maxTradesPerDay||0,onChange:x=>n({...a,rules:{...a.rules,maxTradesPerDay:parseInt(x.target.value)||null}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Max Concurrent (0 = unlimited)"}),e.jsx("input",{type:"number",value:a.rules.maxConcurrentTrades||0,onChange:x=>n({...a,rules:{...a.rules,maxConcurrentTrades:parseInt(x.target.value)||null}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Min Hold Time (seconds)"}),e.jsx("input",{type:"number",value:a.rules.minTradeHoldTimeSeconds,onChange:x=>n({...a,rules:{...a.rules,minTradeHoldTimeSeconds:parseInt(x.target.value)}}),className:"w-full px-3 py-2 bg-dark-700 border border-gray-700 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"slMandatory",checked:a.rules.stopLossMandatory,onChange:x=>n({...a,rules:{...a.rules,stopLossMandatory:x.target.checked}}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"slMandatory",className:"text-gray-400",children:"Stop Loss Mandatory"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:x=>n({...a,isActive:x.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"isActive",className:"text-gray-400",children:"Challenge Active"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-800",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"flex-1 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg disabled:opacity-50",children:l?"Saving...":"Save Challenge"})]})]})]})})}const ll="http://localhost:5001/api",Zy=()=>{var S,E,P,z,G,V,U,F,I,X,T,k,W,C,$,h,A,_,te,O,oe,de;const[t,s]=o.useState(null),[r,a]=o.useState([]),[n,l]=o.useState([]),[i,d]=o.useState([]),[c,u]=o.useState(!0),[g,b]=o.useState("overview"),[y,j]=o.useState("30");o.useEffect(()=>{v()},[y]);const v=async()=>{u(!0),await Promise.all([w(),D(),f(),x()]),u(!1)},w=async()=>{try{const me=await(await fetch(`${ll}/earnings/summary`)).json();me.success&&s(me.earnings)}catch(Q){console.error("Error fetching summary:",Q)}},D=async()=>{try{const me=await(await fetch(`${ll}/earnings/daily?days=${y}`)).json();me.success&&a(me.earnings||[])}catch(Q){console.error("Error fetching daily earnings:",Q)}},f=async()=>{try{const me=await(await fetch(`${ll}/earnings/by-user?days=${y}`)).json();me.success&&l(me.earnings||[])}catch(Q){console.error("Error fetching user earnings:",Q)}},x=async()=>{try{const me=await(await fetch(`${ll}/earnings/by-symbol?days=${y}`)).json();me.success&&d(me.earnings||[])}catch(Q){console.error("Error fetching symbol earnings:",Q)}},m=Q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Q||0),p=({title:Q,value:me,subtitle:ae,icon:be,color:Y})=>e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 p-4 sm:p-5",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:Q}),e.jsx("p",{className:`text-xl sm:text-2xl font-bold mt-1 ${Y||"text-white"}`,children:m(me)}),ae&&e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ae})]}),e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Y!=null&&Y.includes("green")?"bg-green-500/20":"bg-blue-500/20"}`,children:e.jsx(be,{size:20,className:Y!=null&&Y.includes("green")?"text-green-500":"text-blue-500"})})]})});return e.jsxs(Dt,{title:"Earnings Report",subtitle:"Track commission, spread, and swap earnings",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:y,onChange:Q=>j(Q.target.value),className:"px-3 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white text-sm",children:[e.jsx("option",{value:"7",children:"Last 7 Days"}),e.jsx("option",{value:"30",children:"Last 30 Days"}),e.jsx("option",{value:"90",children:"Last 90 Days"}),e.jsx("option",{value:"365",children:"Last Year"})]}),e.jsx("button",{onClick:v,className:"p-2 bg-dark-800 hover:bg-dark-700 rounded-lg text-gray-400",children:e.jsx(Be,{size:18})})]})}),c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Be,{size:24,className:"animate-spin text-gray-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsx(p,{title:"Today",value:(S=t==null?void 0:t.today)==null?void 0:S.total,subtitle:`${((E=t==null?void 0:t.today)==null?void 0:E.trades)||0} trades`,icon:Yt,color:"text-green-500"}),e.jsx(p,{title:"This Week",value:(P=t==null?void 0:t.thisWeek)==null?void 0:P.total,subtitle:`${((z=t==null?void 0:t.thisWeek)==null?void 0:z.trades)||0} trades`,icon:gr,color:"text-blue-500"}),e.jsx(p,{title:"This Month",value:(G=t==null?void 0:t.thisMonth)==null?void 0:G.total,subtitle:`${((V=t==null?void 0:t.thisMonth)==null?void 0:V.trades)||0} trades`,icon:it,color:"text-purple-500"}),e.jsx(p,{title:"This Year",value:(U=t==null?void 0:t.thisYear)==null?void 0:U.total,subtitle:`${((F=t==null?void 0:t.thisYear)==null?void 0:F.trades)||0} trades`,icon:Kc,color:"text-orange-500"}),e.jsx(p,{title:"All Time",value:(I=t==null?void 0:t.allTime)==null?void 0:I.total,subtitle:`${((X=t==null?void 0:t.allTime)==null?void 0:X.trades)||0} trades`,icon:Yt,color:"text-green-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 p-5",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Commission Earnings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Today"}),e.jsx("span",{className:"text-white font-mono",children:m((T=t==null?void 0:t.today)==null?void 0:T.commission)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"This Week"}),e.jsx("span",{className:"text-white font-mono",children:m((k=t==null?void 0:t.thisWeek)==null?void 0:k.commission)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"This Month"}),e.jsx("span",{className:"text-white font-mono",children:m((W=t==null?void 0:t.thisMonth)==null?void 0:W.commission)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[e.jsx("span",{className:"text-gray-400",children:"All Time"}),e.jsx("span",{className:"text-green-500 font-mono font-bold",children:m((C=t==null?void 0:t.allTime)==null?void 0:C.commission)})]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 p-5",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Swap Earnings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Today"}),e.jsx("span",{className:"text-white font-mono",children:m(($=t==null?void 0:t.today)==null?void 0:$.swap)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"This Week"}),e.jsx("span",{className:"text-white font-mono",children:m((h=t==null?void 0:t.thisWeek)==null?void 0:h.swap)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"This Month"}),e.jsx("span",{className:"text-white font-mono",children:m((A=t==null?void 0:t.thisMonth)==null?void 0:A.swap)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[e.jsx("span",{className:"text-gray-400",children:"All Time"}),e.jsx("span",{className:"text-blue-500 font-mono font-bold",children:m((_=t==null?void 0:t.allTime)==null?void 0:_.swap)})]})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl border border-gray-800 p-5",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Trading Volume (Lots)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Today"}),e.jsx("span",{className:"text-white font-mono",children:(((te=t==null?void 0:t.today)==null?void 0:te.volume)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"This Week"}),e.jsx("span",{className:"text-white font-mono",children:(((O=t==null?void 0:t.thisWeek)==null?void 0:O.volume)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"This Month"}),e.jsx("span",{className:"text-white font-mono",children:(((oe=t==null?void 0:t.thisMonth)==null?void 0:oe.volume)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[e.jsx("span",{className:"text-gray-400",children:"All Time"}),e.jsx("span",{className:"text-purple-500 font-mono font-bold",children:(((de=t==null?void 0:t.allTime)==null?void 0:de.volume)||0).toFixed(2)})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-800 pb-2",children:[e.jsx("button",{onClick:()=>b("daily"),className:`px-4 py-2 rounded-lg text-sm ${g==="daily"?"bg-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:"Daily Breakdown"}),e.jsx("button",{onClick:()=>b("users"),className:`px-4 py-2 rounded-lg text-sm ${g==="users"?"bg-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:"By User"}),e.jsx("button",{onClick:()=>b("symbols"),className:`px-4 py-2 rounded-lg text-sm ${g==="symbols"?"bg-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:"By Symbol"})]}),g==="daily"&&e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Date"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Commission"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Swap"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Total"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Trades"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Volume"})]})}),e.jsx("tbody",{children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center text-gray-500 py-8",children:"No data for selected period"})}):r.map((Q,me)=>{var ae;return e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-dark-700",children:[e.jsx("td",{className:"px-4 py-3 text-white text-sm",children:Q.date}),e.jsx("td",{className:"px-4 py-3 text-right text-white font-mono text-sm",children:m(Q.commission)}),e.jsx("td",{className:"px-4 py-3 text-right text-white font-mono text-sm",children:m(Q.swap)}),e.jsx("td",{className:"px-4 py-3 text-right text-green-500 font-mono text-sm font-semibold",children:m(Q.total)}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-sm",children:Q.trades}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-sm",children:(ae=Q.volume)==null?void 0:ae.toFixed(2)})]},me)})})]})})}),g==="users"&&e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"User"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Commission"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Swap"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Total"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Trades"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Volume"})]})}),e.jsx("tbody",{children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center text-gray-500 py-8",children:"No data for selected period"})}):n.map((Q,me)=>{var ae;return e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-dark-700",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:Q.userName||"Unknown"}),e.jsx("p",{className:"text-gray-500 text-xs",children:Q.userEmail})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-white font-mono text-sm",children:m(Q.commission)}),e.jsx("td",{className:"px-4 py-3 text-right text-white font-mono text-sm",children:m(Q.swap)}),e.jsx("td",{className:"px-4 py-3 text-right text-green-500 font-mono text-sm font-semibold",children:m(Q.total)}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-sm",children:Q.trades}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-sm",children:(ae=Q.volume)==null?void 0:ae.toFixed(2)})]},me)})})]})})}),g==="symbols"&&e.jsx("div",{className:"bg-dark-800 rounded-xl border border-gray-800 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-400 text-xs font-medium px-4 py-3",children:"Symbol"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Commission"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Swap"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Total"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Trades"}),e.jsx("th",{className:"text-right text-gray-400 text-xs font-medium px-4 py-3",children:"Volume"})]})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center text-gray-500 py-8",children:"No data for selected period"})}):i.map((Q,me)=>{var ae;return e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-dark-700",children:[e.jsx("td",{className:"px-4 py-3 text-white text-sm font-medium",children:Q.symbol}),e.jsx("td",{className:"px-4 py-3 text-right text-white font-mono text-sm",children:m(Q.commission)}),e.jsx("td",{className:"px-4 py-3 text-right text-white font-mono text-sm",children:m(Q.swap)}),e.jsx("td",{className:"px-4 py-3 text-right text-green-500 font-mono text-sm font-semibold",children:m(Q.total)}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-sm",children:Q.trades}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-sm",children:(ae=Q.volume)==null?void 0:ae.toFixed(2)})]},me)})})]})})})]})]})};function eb(){return e.jsx(Ff,{children:e.jsxs(Af,{children:[e.jsx(Ee,{path:"/",element:e.jsx(ox,{})}),e.jsx(Ee,{path:"/user/signup",element:e.jsx(ox,{})}),e.jsx(Ee,{path:"/user/login",element:e.jsx(hy,{})}),e.jsx(Ee,{path:"/dashboard",element:e.jsx(gy,{})}),e.jsx(Ee,{path:"/mobile",element:e.jsx(yy,{})}),e.jsx(Ee,{path:"/account",element:e.jsx(by,{})}),e.jsx(Ee,{path:"/wallet",element:e.jsx(jy,{})}),e.jsx(Ee,{path:"/trade/:accountId",element:e.jsx(wy,{})}),e.jsx(Ee,{path:"/copytrade",element:e.jsx(ky,{})}),e.jsx(Ee,{path:"/ib",element:e.jsx(Sy,{})}),e.jsx(Ee,{path:"/profile",element:e.jsx(Cy,{})}),e.jsx(Ee,{path:"/support",element:e.jsx(Ty,{})}),e.jsx(Ee,{path:"/instructions",element:e.jsx(Py,{})}),e.jsx(Ee,{path:"/admin",element:e.jsx(Ay,{})}),e.jsx(Ee,{path:"/admin/dashboard",element:e.jsx(Dy,{})}),e.jsx(Ee,{path:"/admin/users",element:e.jsx(Iy,{})}),e.jsx(Ee,{path:"/admin/accounts",element:e.jsx(zy,{})}),e.jsx(Ee,{path:"/admin/account-types",element:e.jsx(Ly,{})}),e.jsx(Ee,{path:"/admin/transactions",element:e.jsx(My,{})}),e.jsx(Ee,{path:"/admin/payment-methods",element:e.jsx(Uy,{})}),e.jsx(Ee,{path:"/admin/trades",element:e.jsx($y,{})}),e.jsx(Ee,{path:"/admin/funds",element:e.jsx(Fy,{})}),e.jsx(Ee,{path:"/admin/bank-settings",element:e.jsx(Ry,{})}),e.jsx(Ee,{path:"/admin/ib-management",element:e.jsx(Oy,{})}),e.jsx(Ee,{path:"/admin/forex-charges",element:e.jsx(By,{})}),e.jsx(Ee,{path:"/admin/indian-charges",element:e.jsx(Wy,{})}),e.jsx(Ee,{path:"/admin/copy-trade",element:e.jsx(Vy,{})}),e.jsx(Ee,{path:"/admin/prop-firm",element:e.jsx(Hy,{})}),e.jsx(Ee,{path:"/admin/admin-management",element:e.jsx(Yy,{})}),e.jsx(Ee,{path:"/admin/kyc",element:e.jsx(Jy,{})}),e.jsx(Ee,{path:"/admin/support",element:e.jsx(Gy,{})}),e.jsx(Ee,{path:"/admin/prop-trading",element:e.jsx(Ky,{})}),e.jsx(Ee,{path:"/admin/earnings",element:e.jsx(Zy,{})}),e.jsx(Ee,{path:"/buy-challenge",element:e.jsx(Xy,{})}),e.jsx(Ee,{path:"/challenge-dashboard",element:e.jsx(qy,{})})]})})}qi.createRoot(document.getElementById("root")).render(e.jsx(Nx.StrictMode,{children:e.jsx(eb,{})}));
